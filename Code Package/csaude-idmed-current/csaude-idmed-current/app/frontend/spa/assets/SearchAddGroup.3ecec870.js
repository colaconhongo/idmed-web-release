import{r as n,b6 as T,cY as h,c as z,$ as N,o as A,D as v,d0 as I,bg as P,a1 as f,K as R,a_ as B,f as s,O as l,P as i,bb as w,M as t,U as x,R as U,a4 as u,a5 as p,V as k,bc as D,a9 as L,a$ as M,c$ as O}from"./index.28c7e456.js";import{Q as E,a as K,b as d}from"./QTable.f91943bc.js";import{Q as Y}from"./QTooltip.f3ef7ac8.js";import{Q as j}from"./QScrollArea.288f8a37.js";import{_ as F}from"./TitleBar.f7be41e1.js";import{_ as H}from"./AddEditGroup.f0083a83.js";import"./QList.d4521672.js";import"./QSelect.caa108f8.js";import"./QMenu.9a83401e.js";import"./position-engine.b3fa6cbd.js";import"./QLinearProgress.c6927d78.js";import"./TouchPan.90ce57a2.js";import"./QPopupProxy.bc9f6d75.js";import"./use-render-cache.3aae9b27.js";import"./QSpace.b53e3d44.js";import"./ClosePopup.20eb2e56.js";import"./patientMethods.cc912af0.js";const J={class:"q-mt-lg"},W={class:"q-mx-xl"},X={class:"row items-center q-my-md"},Z=l("span",{class:"q-pl-sm text-subtitle2"},"Informa\xE7\xE3o inicial",-1),ee={class:"row"},oe={class:"q-mt-lg q-mb-md"},se={class:"row items-center q-mb-md"},ae=l("span",{class:"q-pl-sm text-subtitle2"},"Resultado da Pesquisa",-1),te={class:"full-width row flex-center text-primary q-gutter-sm text-body2"},le=l("span",null," Sem resultados para visualizar ",-1),re={class:"col"},Ve={__name:"SearchAddGroup",setup(ne){const S=[{name:"code",align:"left",label:"N\xFAmero do grupo",sortable:!1},{name:"name",align:"left",label:"Nome",sortable:!1},{name:"groupType",align:"center",label:"Tipo",sortable:!1},{name:"service",align:"left",label:"Servi\xE7o de Sa\xFAde",sortable:!1},{name:"options",align:"left",label:"Op\xE7\xF5es",sortable:!1}],{showloading:g}=M(),Q=n("Procurar ou adicionar Grupo"),V=T();sessionStorage.getItem("user");const c=n([]),a=n(new h),m=n(!1),q=z(()=>N.currClinic()),C=n("create");A(()=>{g(),v.get(0),I.get(0),P.get(0),G()});const G=()=>{c.value=v.getAllGroups()},_=()=>{const r=v.getAllGroups();c.value=r.filter(o=>b(o.code,a.value.code)||b(o.name,a.value.name))},$=r=>{O.set("selectedGroupId",r.id),g(),V.push("/group/panel")},b=(r,o)=>o===""?!1:r.toLowerCase().includes(o.toLowerCase());return f("clinic",q),f("step",C),f("title",Q),(r,o)=>(R(),B("div",J,[s(F),l("div",W,[l("div",X,[s(i,{name:"person_outline",size:"sm"}),Z]),l("div",ee,[s(x,{outlined:"",ref:"curGroupCode","onUpdate:modelValue":[o[1]||(o[1]=e=>_()),o[2]||(o[2]=e=>a.value.code=e)],modelValue:a.value.code,value:a.value.code,type:"text","lazy-rules":"",label:"Numero do grupo",style:{witdth:"350px"},dense:""},w({_:2},[a.value.code!==null&&a.value.code!==void 0&&a.value.code!==""?{name:"append",fn:t(()=>[s(i,{name:"close",onClick:o[0]||(o[0]=e=>a.value.code=""),class:"cursor-pointer"})]),key:"0"}:void 0]),1032,["modelValue","value"]),s(x,{outlined:"",ref:"curGroupName","onUpdate:modelValue":[o[4]||(o[4]=e=>_()),o[5]||(o[5]=e=>a.value.name=e)],modelValue:a.value.name,value:a.value.name,type:"text","lazy-rules":"",label:"Nome do grupo",style:{witdth:"450px"},class:"q-ml-md",dense:""},w({_:2},[a.value.name!==null&&a.value.name!==void 0&&a.value.name!==""?{name:"append",fn:t(()=>[s(i,{name:"close",onClick:o[3]||(o[3]=e=>a.value.name=""),class:"cursor-pointer"})]),key:"0"}:void 0]),1032,["modelValue","value"])]),l("div",oe,[l("div",se,[s(i,{name:"search",size:"sm"}),ae]),s(U,{color:"grey-13",size:"1px"})]),l("div",null,[s(j,{style:{height:"460px"}},{default:t(()=>[s(E,{class:"col",dense:"",rows:c.value,columns:S,"row-key":"id"},{"no-data":t(({icon:e,filter:y})=>[l("div",te,[le,s(i,{size:"2em",name:y?"filter_b_and_w":e},null,8,["name"])])]),body:t(e=>[s(K,{props:e},{default:t(()=>[s(d,{key:"code",props:e},{default:t(()=>[u(p(e.row.code),1)]),_:2},1032,["props"]),s(d,{key:"name",props:e},{default:t(()=>[u(p(e.row.name),1)]),_:2},1032,["props"]),s(d,{key:"groupType",props:e},{default:t(()=>[u(p(e.row.groupType.description),1)]),_:2},1032,["props"]),s(d,{key:"service",props:e},{default:t(()=>[u(p(e.row.service.code),1)]),_:2},1032,["props"]),s(d,{key:"options",props:e},{default:t(()=>[l("div",re,[s(k,{flat:"",round:"",color:"primary",icon:"groups",onClick:y=>$(e.row)},{default:t(()=>[s(Y,{class:"bg-primary"},{default:t(()=>[u("Visualizar")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"])]),_:1})]),s(D,{position:"bottom-right",offset:[18,18]},{default:t(()=>[s(k,{class:"q-mb-xl q-mr-xl",fab:"",color:"primary",icon:"add",onClick:o[6]||(o[6]=e=>m.value=!0)})]),_:1})]),s(L,{persistent:"",modelValue:m.value,"onUpdate:modelValue":o[8]||(o[8]=e=>m.value=e)},{default:t(()=>[s(H,{onClose:o[7]||(o[7]=e=>m.value=!1)})]),_:1},8,["modelValue"])]))}};export{Ve as default};
