import{bm as we,l as he,bn as Se,c as b,cm as W,h as G,bp as Pe,g as me,bt as qe,r as P,w as E,ah as $e,as as Te,bz as re,bS as Ae,bo as De,i as $,Y as L,Z as Y,o as I,K as S,a_ as q,f as v,a7 as Q,a6 as R,dt as X,d2 as Me,O as w,M as T,cL as te,du as ne,cM as N,a4 as D,a5 as M,bg as Fe,a1 as j,F as ue,c9 as ce,P as de,V as ve,cA as Be,cc as ze,L as Ne,dv as Ve,a$ as Re,$ as Oe}from"./index.28c7e456.js";import{b as Ee,Q as Ie}from"./QSelect.caa108f8.js";import{T as Le}from"./TouchPan.90ce57a2.js";import{R as A}from"./ReportService.c2f34a2e.js";import{q as Z}from"./vue3-apexcharts.3aa27b40.js";import{a as le,b as V,Q as se}from"./QTable.f91943bc.js";import"./QMenu.9a83401e.js";import"./position-engine.b3fa6cbd.js";import"./StockAlertService.3ee5a37f.js";import"./StockMethod.5d6dd1ce.js";import"./QList.d4521672.js";import"./QLinearProgress.c6927d78.js";const oe={...we,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},ae=50,_e=2*ae,ye=_e*Math.PI,Ye=Math.round(ye*1e3)/1e3;var Ge=he({name:"QCircularProgress",props:{...oe,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:h}){const{proxy:{$q:C}}=me(),f=Se(e),p=b(()=>{const n=(C.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(C.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-n}deg)`:`rotate3d(0, 0, 1, ${n-90}deg)`}}),m=b(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),u=b(()=>_e/(1-e.thickness/2)),r=b(()=>`${u.value/2} ${u.value/2} ${u.value} ${u.value}`),i=b(()=>W(e.value,e.min,e.max)),y=b(()=>e.max-e.min),c=b(()=>e.thickness/2*u.value),a=b(()=>{const n=(e.max-i.value)/y.value,o=e.rounded===!0&&i.value<e.max&&n<.25?c.value/2*(1-n/.25):0;return ye*n+o});function t({thickness:n,offset:o,color:x,cls:g,rounded:d}){return G("circle",{class:"q-circular-progress__"+g+(x!==void 0?` text-${x}`:""),style:m.value,fill:"transparent",stroke:"currentColor","stroke-width":n,"stroke-dasharray":Ye,"stroke-dashoffset":o,"stroke-linecap":d,cx:u.value,cy:u.value,r:ae})}return()=>{const n=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&n.push(G("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:ae-c.value/2,cx:u.value,cy:u.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&n.push(t({cls:"track",thickness:c.value,offset:0,color:e.trackColor})),n.push(t({cls:"circle",thickness:c.value,offset:a.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const o=[G("svg",{class:"q-circular-progress__svg",style:p.value,viewBox:r.value,"aria-hidden":"true"},n)];return e.showValue===!0&&o.push(G("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},h.default!==void 0?h.default():[G("div",i.value)])),G("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:f.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:i.value},Pe(h.internal,o))}}});const fe=[34,37,40,33,39,38],Qe=Object.keys(oe);var Ue=he({name:"QKnob",props:{...qe,...oe,modelValue:{type:Number,required:!0},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},tabindex:{type:[Number,String],default:0},disable:Boolean,readonly:Boolean},emits:["update:modelValue","change","dragValue"],setup(e,{slots:h,emit:C}){const{proxy:f}=me(),{$q:p}=f,m=P(e.modelValue),u=P(!1),r=b(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),i=b(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax);let y;function c(){m.value=e.modelValue===null?r.value:W(e.modelValue,r.value,i.value),K(!0)}E(()=>`${e.modelValue}|${r.value}|${i.value}`,c),c();const a=b(()=>e.disable===!1&&e.readonly===!1),t=b(()=>"q-knob non-selectable"+(a.value===!0?" q-knob--editable":e.disable===!0?" disabled":"")),n=b(()=>(String(e.step).trim().split(".")[1]||"").length),o=b(()=>e.step===0?1:e.step),x=b(()=>e.instantFeedback===!0||u.value===!0),g=p.platform.is.mobile===!0?b(()=>a.value===!0?{onClick:ie}:{}):b(()=>a.value===!0?{onMousedown:ge,onClick:ie,onKeydown:be,onKeyup:xe}:{}),d=b(()=>a.value===!0?{tabindex:e.tabindex}:{[`aria-${e.disable===!0?"disabled":"readonly"}`]:"true"}),_=b(()=>{const k={};return Qe.forEach(B=>{k[B]=e[B]}),k});function l(k){k.isFinal?(J(k.evt,!0),u.value=!1):(k.isFirst&&(U(),u.value=!0),J(k.evt))}const s=b(()=>[[Le,l,void 0,{prevent:!0,stop:!0,mouse:!0}]]);function U(){const{top:k,left:B,width:O,height:H}=f.$el.getBoundingClientRect();y={top:k+H/2,left:B+O/2}}function ge(k){U(),J(k)}function ie(k){U(),J(k,!0)}function be(k){if(!fe.includes(k.keyCode))return;$e(k);const B=([34,33].includes(k.keyCode)?10:1)*o.value,O=[34,37,40].includes(k.keyCode)?-B:B;m.value=W(parseFloat((m.value+O).toFixed(n.value)),r.value,i.value),K()}function J(k,B){const O=Te(k),H=Math.abs(O.top-y.top),ke=Math.sqrt(H**2+Math.abs(O.left-y.left)**2);let F=Math.asin(H/ke)*(180/Math.PI);O.top<y.top?F=y.left<O.left?90-F:270+F:F=y.left<O.left?F+90:270-F,p.lang.rtl===!0?F=re(-F-e.angle,0,360):e.angle&&(F=re(F-e.angle,0,360)),e.reverse===!0&&(F=360-F);let z=e.min+F/360*(e.max-e.min);if(o.value!==0){const ee=z%o.value;z=z-ee+(Math.abs(ee)>=o.value/2?(ee<0?-1:1)*o.value:0),z=parseFloat(z.toFixed(n.value))}z=W(z,r.value,i.value),C("dragValue",z),m.value!==z&&(m.value=z),K(B)}function xe(k){fe.includes(k.keyCode)&&K(!0)}function K(k){e.modelValue!==m.value&&C("update:modelValue",m.value),k===!0&&C("change",m.value)}const Ce=Ae(e);function pe(){return G("input",Ce.value)}return()=>{const k={class:t.value,role:"slider","aria-valuemin":r.value,"aria-valuemax":i.value,"aria-valuenow":e.modelValue,...d.value,..._.value,value:m.value,instantFeedback:x.value,...g.value},B={default:h.default};return a.value===!0&&e.name!==void 0&&(B.internal=pe),De(Ge,k,B,"knob",a.value,()=>s.value)}}});const Je={class:"relative-position"},je={key:0},Ke={key:1,class:"absolute-center"},He={__name:"BarReportDispenseType",setup(e){const h=$("serviceCode"),C=$("year"),f=$("currClinic"),{isOnline:p}=L(),{isProvincialInstalation:m,localProvincialInstalationCode:u}=Y(),r=["JAN","FEV","MAR","ABR","MAI","JUN","JUL","AGO","SET","OUT","NOV","DEC"],i=P(!1),y={chart:{id:"vue-chart-bar"},colors:["#F44336","#ff6600","#13c185","#13a6c1"],animations:{enabled:!0,easing:"easeinout",speed:2e3},title:{text:"Total Mensal de Pacientes com Levantamentos no Servi\xE7o "+h.value,align:"center",offsetY:12,style:{color:"#000000",fontSize:"14px"}},plotOptions:{bar:{borderRadius:10}},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},fill:{opacity:2},tooltip:{y:{formatter:function(n){return n}}},dataLabels:{enabled:!0,style:{fontSize:"14px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",colors:[function({seriesIndex:n,dataPointIndex:o,w:x}){return x.config.series[n].data[o]>100?"#ffffff":"#000000"}]}},xaxis:{categories:[...r]}},c=P([{name:"series-1",data:[0,0,0,0,0,0,0,0,0,0,0,0]}]),a=b(()=>!i.value),t=()=>{i.value=!0;const n={name:"Dispensa Mensal",data:[0,0,0,0,0,0,0,0,0,0,0,0]},o={name:"Dispensa Bimestral",data:[0,0,0,0,0,0,0,0,0,0,0,0]},x={name:"Dispensa Trimestral",data:[0,0,0,0,0,0,0,0,0,0,0,0]},g={name:"Dispensa Semestral",data:[0,0,0,0,0,0,0,0,0,0,0,0]};m()?A.getRegisteredPatientByDispenseType(C.value,u(),h.value).then(d=>{const _=[];p.value?_.value=d.data:_.value=d;for(let l=1;l<=12;l++)_.value.forEach(s=>{(s.dispense_type==="DM"||s.dispense_type==="FRM")&&s.month===l?n.data[l-1]=s.quantity:s.dispense_type==="DT"&&s.month===l?x.data[l-1]=s.quantity:s.dispense_type==="DS"&&s.month===l?g.data[l-1]=s.quantity:s.dispense_type==="DB"&&s.month===l&&(o.data[l-1]=s.quantity)});c.value=[n,o,x,g],i.value=!1}):A.getRegisteredPatientByDispenseType(C.value,f.value.id,h.value).then(d=>{const _=[];p.value?_.value=d.data:_.value=d;for(let l=1;l<=12;l++)_.value.forEach(s=>{(s.dispense_type==="DM"||s.dispense_type==="FRM")&&s.month===l?n.data[l-1]=s.quantity:s.dispense_type==="DT"&&s.month===l?x.data[l-1]=s.quantity:s.dispense_type==="DS"&&s.month===l?g.data[l-1]=s.quantity:s.dispense_type==="DB"&&s.month===l&&(o.data[l-1]=s.quantity)});c.value=[n,o,x,g],i.value=!1})};return I(()=>{t()}),E([C,h],()=>{t(),y.title={...y.title,text:"Total de Pacientes com Levantamentos no Servi\xE7o "+h.value,align:"center",offsetY:12,style:{color:"#000000",fontSize:"14px"}}}),(n,o)=>(S(),q("div",Je,[a.value?(S(),q("div",je,[v(Q(Z),{style:{"max-width":"100%"},height:"500",type:"bar",options:y,series:c.value},null,8,["series"])])):R("",!0),a.value?R("",!0):(S(),q("div",Ke,[v(X,{color:"primary",size:"xl"})]))]))}},We={class:"relative-position"},Xe={key:0},Ze={key:1,class:"absolute-center"},ea={__name:"LineChartAgeTarv",setup(e){const{isOnline:h}=L(),C=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],f=$("serviceCode"),p=$("year"),m=$("currClinic"),{isProvincialInstalation:u}=Y(),r=P(!1),i={chart:{id:"vue-chart-line",toolbar:{show:!0,offsetY:15}},colors:["#6a0dad","#AAFF00"],title:{text:`Total de Pacientes no Servi\xE7o ${f.value}
 que iniciaram o levantamento`,align:"center",offsetY:12,style:{color:"#000000",fontSize:"0.5vw"}},animations:{enabled:!0,easing:"easeinout",speed:1e3},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:5,dashArray:0,markers:{size:1}},tooltip:{y:{formatter:function(t){return t}}},dataLabels:{enabled:!1},xaxis:{categories:[...C]}},y=P([{name:"series-1",data:[0,0,0,0,0,0,0,0,0,0,0,0]}]),c=b(()=>!r.value),a=()=>{r.value=!0;const t={name:"Criancas",data:[0,0,0,0,0,0,0,0,0,0,0,0]},n={name:"Adultos",data:[0,0,0,0,0,0,0,0,0,0,0,0]};u()?A.getPatientsFirstDispenseByAge(p.value,m.value,f.value).then(o=>{const x=[];h.value?x.value=o.data:x.value=o;for(let g=1;g<=12;g++)x.value.forEach(d=>{d.faixa==="MENOR"&&d.month===g?t.data[g-1]=d.quantity:d.faixa==="ADULTO"&&d.month===g&&(n.data[g-1]=d.quantity)});y.value=[t,n],r.value=!1}):A.getPatientsFirstDispenseByAge(p.value,m.value.id,f.value).then(o=>{const x=[];h.value?x.value=o.data:x.value=o;for(let g=1;g<=12;g++)x.value.forEach(d=>{d.faixa==="MENOR"&&d.month===g?t.data[g-1]=d.quantity:d.faixa==="ADULTO"&&d.month===g&&(n.data[g-1]=d.quantity)});y.value=[t,n],r.value=!1})};return I(()=>{a()}),E([f,p],()=>{a(),i.title={...i.title,text:`Total de Pacientes no Servi\xE7o ${f.value}
 que iniciaram o levantamento`,align:"center",offsetY:12,style:{color:"#000000",fontSize:"0.5vw"}}}),(t,n)=>(S(),q("div",We,[c.value?(S(),q("div",Xe,[v(Q(Z),{style:{"max-width":"100%"},height:"600",type:"line",options:i,series:y.value},null,8,["series"])])):R("",!0),c.value?R("",!0):(S(),q("div",Ze,[v(X,{color:"primary",size:"xl"})]))]))}},aa={class:"relative-position"},ta={key:0},na={key:1,class:"absolute-center"},la={__name:"PieGenderChart",setup(e){const{isOnline:h}=L(),{isProvincialInstalation:C}=Y(),f=$("currClinic"),p=b(()=>!r.value),m=$("serviceCode"),u=$("year"),r=P(!1),i=P([]),y={labels:["Feminino","Masculino"],colors:["#FF1493","#0096FF"],animations:{enabled:!0,easing:"easeinout",speed:2e3},title:{text:"Percentual de Pacientes activos no Servi\xE7o "+m.value,align:"center",offsetY:12,style:{color:"#000000",fontSize:"0.5vw"}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"22px",fontFamily:"Rubik",color:"#dfsda",offsetY:-10},value:{show:!0,fontSize:"16px",fontFamily:"Helvetica, Arial, sans-serif",color:void 0,offsetY:16,formatter:function(a){return a}},total:{show:!0,label:"Total",color:"#373d3f",formatter:function(a){return a.globals.seriesTotals.reduce((t,n)=>t+n,0)}}}}}}},c=()=>{r.value=!0,C()?A.getActivePatientPercentage(u.value,f.value,m.value).then(a=>{const t=[];h.value?t.value=a.data:t.value=a,t.value.length>0?(i.value[0]=t.value[0]!==void 0?t.value[0].quantity:0,i.value[1]=t.value[1]!==void 0?t.value[1].quantity:0):(i.value[0]=0,i.value[1]=0),r.value=!1}):A.getActivePatientPercentage(u.value,f.value.id,m.value).then(a=>{const t=[];h.value?t.value=a.data:t.value=a,t.value.length>0?(i.value[0]=t.value[0]!==void 0?t.value[0].quantity:0,i.value[1]=t.value[1]!==void 0?t.value[1].quantity:0):(i.value[0]=0,i.value[1]=0),r.value=!1})};return I(()=>{c()}),E([m,u],()=>{c(),y.title={...y.title,text:"Percentual de Pacientes activos no Servi\xE7o "+m.value,align:"center",offsetY:12,style:{color:"#000000",fontSize:"0.5vw"}}}),(a,t)=>(S(),q("div",aa,[p.value?(S(),q("div",ta,[v(Q(Z),{style:{"max-width":"100%"},height:"612",type:"donut",options:y,series:i.value},null,8,["series"])])):R("",!0),p.value?R("",!0):(S(),q("div",na,[v(X,{color:"primary",size:"xl"})]))]))}},sa={class:"relative-position"},oa={key:0},ia={key:1,class:"absolute-center"},ra={__name:"LineChartSex",setup(e){const{isOnline:h}=L(),C=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],f=P(!1),p=P([{name:"series-1",data:[0,0,0,0,0,0,0,0,0,0,0,0]}]),m=$("currClinic"),u=$("serviceCode"),r=$("year"),{isProvincialInstalation:i,localProvincialInstalationCode:y}=Y(),c=b(()=>!f.value),a={chart:{id:"vue-chart-line",toolbar:{show:!0,offsetY:15}},colors:["#0096FF","#FF1493"],title:{text:"Total de Pacientes no Servi\xE7o "+u.value+" que iniciaram o levantamento",align:"center",offsetY:12,style:{color:"#000000",fontSize:"0.5vw"}},animations:{enabled:!0,easing:"easeinout",speed:1e3},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:5,dashArray:0,markers:{size:1}},tooltip:{y:{formatter:function(n){return n}}},dataLabels:{enabled:!1},xaxis:{categories:[...C]}};I(()=>{t()}),Me(()=>{t()});function t(){f.value=!0;const n={name:"Feminino",data:[0,0,0,0,0,0,0,0,0,0,0,0]},o={name:"Masculino",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};i()?A.getPatientsFirstDispenseByGender(r.value,y(),u.value).then(x=>{const g=[];h.value?g.value=x.data:g.value=x;for(let d=1;d<=12;d++)g.value.forEach(_=>{_.gender==="Feminino"&&_.month===d?n.data[d-1]=_.quantity:_.gender==="Masculino"&&_.month===d&&(o.data[d-1]=_.quantity)});p.value=[o,n],f.value=!1}):A.getPatientsFirstDispenseByGender(r.value,m.value.id,u.value).then(x=>{const g=[];h.value?g.value=x.data:g.value=x;for(let d=1;d<=12;d++)g.value.forEach(_=>{_.gender==="Feminino"&&_.month===d?n.data[d-1]=_.quantity:_.gender==="Masculino"&&_.month===d&&(o.data[d-1]=_.quantity)});p.value=[o,n],f.value=!1})}return E([u,r],()=>{t(),a.title={...a.title,text:`Total de Pacientes no Servi\xE7o ${u.value} que iniciaram o levantamento`,align:"center",offsetY:12,style:{color:"#000000",fontSize:"0.5vw"}}}),(n,o)=>(S(),q("div",sa,[c.value?(S(),q("div",oa,[v(Q(Z),{style:{"max-width":"100%"},height:"600",type:"area",options:a,series:p.value},null,8,["series"])])):R("",!0),c.value?R("",!0):(S(),q("div",ia,[v(X,{color:"primary",size:"xl"})]))]))}};const ua={class:"row"},ca={class:"col"},da={__name:"DispenseTypeByAgeTable",setup(e){const{isOnline:h}=L(),C=[{name:"dispenseType",required:!0,label:"Tipo de Dispensa",align:"left",field:a=>a.dispenseType,format:a=>`${a}`},{name:"adulto",required:!0,label:"Adulto",align:"left",field:a=>a.adulto,format:a=>`${a}`},{name:"menor",required:!0,label:"Crian\xE7a",align:"left",field:a=>a.menor,format:a=>`${a}`}],{isProvincialInstalation:f,localProvincialInstalationCode:p}=Y(),m=$("serviceCode"),u=$("year"),r=$("currClinic"),i=P([]),y=P("Total de dispensas por Idade no Servi\xE7o ");function c(){f()?A.getDispenseByAge(u.value,p(),m.value).then(a=>{h.value?i.value=a.data:i.value=a}):A.getDispenseByAge(u.value,r.value.id,m.value).then(a=>{h.value?i.value=a.data:i.value=a})}return E([m,u],()=>{c()}),I(()=>{c()}),(a,t)=>(S(),q("div",ua,[w("div",ca,[v(se,{style:{"max-width":"100%"},rows:i.value,columns:C,class:"my-sticky-header-table text-color-white",title:y.value+Q(m),"hide-bottom":""},{body:T(n=>[v(le,te(ne(n)),{default:T(()=>[v(V,N({key:"dispenseType"},n),{default:T(()=>[D(M(n.row.dispenseType),1)]),_:2},1040),v(V,N({key:"adulto"},n),{default:T(()=>[D(M(n.row.adulto),1)]),_:2},1040),v(V,N({key:"menor"},n),{default:T(()=>[D(M(n.row.menor),1)]),_:2},1040)]),_:2},1040)]),_:1},8,["rows","title"])])]))}};const va={class:"row"},fa={class:"col"},ha={__name:"StockAlert",setup(e){const{isOnline:h}=L(),C=[{name:"drug",required:!0,label:"Medicamento",align:"left",field:t=>t.drug,format:t=>`${t}`},{name:"avgConsuption",required:!0,label:"M\xE9dia de Consumo Mensal",align:"left",field:t=>t.avgConsuption,format:t=>`${t}`},{name:"balance",required:!0,label:"Saldo atual",align:"left",field:t=>t.balance,format:t=>`${t}`},{name:"state",required:!0,label:"Estado",align:"left",field:t=>t.state,format:t=>`${t}`}],f=P([]),{isProvincialInstalation:p,localProvincialInstalationCode:m}=Y(),u=$("currClinic"),r=$("serviceCode"),i=$("year"),y=()=>{p()?A.getStockAlert(m(),r.value).then(t=>{h.value?f.value=t.data:f.value=t}):A.getStockAlert(u.value.id,r.value).then(t=>{h.value?f.value=t.data:f.value=t})},c=t=>t==="Sem Consumo"?"blue":t==="Ruptura de Stock"?"red":t==="Acima do Consumo M\xE1ximo"?"info":"primary",a=b(()=>f.value);return I(()=>{y()}),E([r,i],()=>{y()}),(t,n)=>(S(),q("div",va,[w("div",fa,[v(se,{style:{"max-width":"100%"},rows:a.value,columns:C,class:"my-sticky-header-table text-color-white",title:"Alerta de Stock"},{body:T(o=>[v(le,te(ne(o)),{default:T(()=>[v(V,N({key:"drug"},o),{default:T(()=>[D(M(Q(h)?o.row.drug:o.row.drug.name),1)]),_:2},1040),v(V,N({key:"avgConsuption"},o),{default:T(()=>[D(M(o.row.avgConsuption),1)]),_:2},1040),v(V,N({key:"balance"},o),{default:T(()=>[D(M(o.row.balance),1)]),_:2},1040),v(V,N({key:"state"},o),{default:T(()=>[v(Ee,{color:c(o.row.state),"text-color":"white"},{default:T(()=>[D(M(o.row.state),1)]),_:2},1032,["color"])]),_:2},1040)]),_:2},1040)]),_:1},8,["rows"])])]))}};const ma={class:"row"},_a={class:"col"},ya={__name:"DispenseTypeByGenderTable",setup(e){const{isOnline:h}=L(),C=[{name:"dispenseType",required:!0,label:"Tipo de Dispensa",align:"left",field:a=>a.dispenseType,format:a=>`${a}`},{name:"masculino",required:!0,label:"Masculino",align:"left",field:a=>a.masculino,format:a=>`${a}`},{name:"femenino",required:!0,label:"Feminino",align:"left",field:a=>a.femenino,format:a=>`${a}`}],f=P([]),{isProvincialInstalation:p,localProvincialInstalationCode:m}=Y(),u=$("serviceCode"),r=$("year"),i=$("currClinic"),y=P("Total de dispensas por G\xEAnero no Servi\xE7o "),c=()=>{p()?A.getDispensesByGender(r.value,m(),u.value).then(a=>{h.value?f.value=a.data:f.value=a}):A.getDispensesByGender(r.value,i.value.id,u.value).then(a=>{h.value?f.value=a.data:f.value=a})};return b(()=>f.value),I(()=>{c()}),E([u,r,i],()=>{c()}),(a,t)=>(S(),q("div",ma,[w("div",_a,[v(se,{style:{"max-width":"100%"},rows:f.value,columns:C,class:"my-sticky-header-table text-color-white",title:y.value+Q(u),"hide-bottom":""},{body:T(n=>[v(le,te(ne(n)),{default:T(()=>[v(V,N({key:"dispenseType"},n),{default:T(()=>[D(M(n.row.dispenseType),1)]),_:2},1040),v(V,N({key:"masculino"},n),{default:T(()=>[D(M(n.row.masculino),1)]),_:2},1040),v(V,N({key:"femenino"},n),{default:T(()=>[D(M(n.row.femenino),1)]),_:2},1040)]),_:2},1040)]),_:1},8,["rows","title"])])]))}};const ga={class:"row q-gutter-xss q-mt-sm"},ba={class:"col-10"},xa={class:"row justify-center"},Ca={key:0},pa=w("br",null,null,-1),ka=w("br",null,null,-1),wa={class:"col-2 q-mt-lg q-pr-md"},Sa={class:"row q-gutter-xss justify-center"},Pa={class:"col-12"},qa={align:"center"},$a={class:"row q-gutter-xss justify-center"},Ta={class:"col-12"},Aa={class:"row q-gutter-xss justify-center",key:"allCharts"},Da={class:"col-4"},Ma={class:"col-4"},Fa={class:"col-4"},Ba={class:"row q-gutter-xss justify-center"},za={class:"col-4"},Na={class:"col-4"},Va={class:"col-4"},Ra={__name:"Charts",setup(e){const h=P(100),{isOnline:C}=L(),{isProvincialInstalation:f,localProvincialInstalationCode:p}=Y(),{closeLoading:m,showloading:u}=Re(),r=P(new Date().getFullYear()),i=P("TARV"),y=P("green"),c=P([]),a=$("currClinic"),t=P(!1),n=()=>{x(),m()},o=(_,l)=>{i.value=_,y.value=l},x=()=>{t.value=!1,f()?A.getDashboardServiceButton(r.value,p()).then(_=>{t.value=!0,C.value?c.value=_.data:c.value=_,c.value.length>0&&c.value.forEach(l=>{if(l.service==="TARV")l.colour="green",l.icon="medication";else if(l.service==="TPT")l.colour="red",l.icon="vaccines";else if(l.service==="PREP")l.colour="teal",l.icon="health_and_safety";else{l.icon="health_and_safety";const s=Math.floor(Math.random()*16777215).toString(16);l.style="background-color: #"+s+";color: ##ffffff"}})}):A.getDashboardServiceButton(r.value,a.value.id).then(_=>{t.value=!0,C.value?c.value=_.data:c.value=_,c.value.length>0&&c.value.forEach(l=>{if(l.service==="TARV")l.colour="green",l.icon="medication";else if(l.service==="TPT")l.colour="red",l.icon="vaccines";else if(l.service==="PREP")l.colour="teal",l.icon="health_and_safety";else{l.icon="health_and_safety";const s=Math.floor(Math.random()*16777215).toString(16);l.style="background-color: #"+s+";color: ##ffffff"}})})},g=b(()=>{const _=[],l=new Date().getFullYear();_.push(l);for(let s=1;s<5;s++)_.push(l-s);return _}),d=b(()=>Fe.get(0));return j("serviceCode",i),j("year",r),j("currClinic",a),I(()=>{u(),x(),m()}),E(r,()=>{n()}),(_,l)=>(S(),q("div",null,[w("div",ga,[w("div",ba,[w("div",xa,[c.value.length==0?(S(),q("div",Ca,[(S(!0),q(ue,null,ce(d.value,s=>(S(),q("div",{class:"q-pa-sm",key:s.id},[v(ve,{color:y.value,onClick:U=>o(s.code,y.value),style:{"background-color":"black",color:"#ffffff"}},{default:T(()=>[v(de,{left:"",size:"6em",name:"health_and_safety"}),w("div",null,[D(" Servi\xE7o "+M(s.code)+" ",1),pa,D(" Nenhum Pacientes Activos ao Levantamento ")])]),_:2},1032,["color","onClick"])]))),128))])):R("",!0),(S(!0),q(ue,null,ce(c.value,s=>(S(),q("div",{class:"q-pa-sm",key:s.id},[v(ve,{color:s.colour,onClick:U=>o(s.service,s.colour),style:Be(s.style)},{default:T(()=>[v(de,{left:"",size:"6em",name:s.icon},null,8,["name"]),w("div",null,[D(" Servi\xE7o "+M(s.service)+" ",1),ka,D(" "+M(s.quantity)+" Pacientes Activos ao Levantamento ",1)])]),_:2},1032,["color","onClick","style"])]))),128))])]),w("div",wa,[v(Ie,{outlined:"",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=s=>r.value=s),options:g.value,"option-label":"name","option-value":"name",filled:"",dense:"",label:"Ano"},null,8,["modelValue","options"])])]),w("div",Sa,[w("div",Pa,[w("p",qa,[v(Ue,{"show-value":"",value:"100","font-size":"17px",class:ze("text-"+y.value+" q-ma-sm"),modelValue:h.value,"onUpdate:modelValue":l[1]||(l[1]=s=>h.value=s),size:"80px",thickness:.04,color:y.value,"track-color":"grey-3"},{default:T(()=>[D(" Servi\xE7o "),w("strong",null,M(i.value),1)]),_:1},8,["class","modelValue","color"]),t.value?R("",!0):(S(),Ne(Ve,{key:0,class:"gt-xs",dense:"",color:"primary",size:"2em"}))])])]),w("div",$a,[w("div",Ta,[v(He,{class:"graph-conainer"})])]),w("div",Aa,[w("div",Da,[v(ea,{class:"graph-conainer"})]),w("div",Ma,[v(la,{class:"graph-conainer"})]),w("div",Fa,[v(ra,{class:"graph-conainer"})])]),w("div",Ba,[w("div",za,[v(da,{class:"q-mx-md"})]),w("div",Na,[v(ha,{class:"q-mx-md"})]),w("div",Va,[v(ya,{class:"q-mx-md"})])])]))}},Wa={__name:"Dashboard",setup(e){const h=P(!1);I(()=>{h.value=!0});const C=b(()=>Oe.currClinic());return j("dataLoaded",h),j("currClinic",C),(f,p)=>(S(),q("div",null,[v(Ra)]))}};export{Wa as default};
