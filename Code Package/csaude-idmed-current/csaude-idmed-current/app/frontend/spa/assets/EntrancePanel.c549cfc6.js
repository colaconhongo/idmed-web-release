import{b6 as Qe,Y as Pe,r as x,o as Ie,c as N,cd as Fe,$ as B,a1 as Le,K as r,a_ as V,f as a,a7 as Y,O as u,M as o,a4 as d,U as b,P as M,a8 as $,V as s,a6 as m,a5 as p,L as D,R as ze,bO as Z,d4 as j,dh as _e,di as Be,cQ as $e,cf as P,b_ as je,b8 as Ge,be as Ae,a$ as Je,b4 as Te}from"./index.28c7e456.js";import{Q as G,a as A}from"./QPopupProxy.bc9f6d75.js";import{a as J,c as g,b as w,Q as ge}from"./QTable.f91943bc.js";import{b as we,Q as ye}from"./QMenu.9a83401e.js";import{Q as xe,b as he}from"./QSelect.caa108f8.js";import{_ as T,Q as Ve}from"./ListHeader.c33af243.js";import{C as H}from"./ClosePopup.20eb2e56.js";import{u as He}from"./StockMethod.5d6dd1ce.js";import{_ as We}from"./TitleBar.f7be41e1.js";import{u as Ke}from"./drugMethods.baae673f.js";import"./use-render-cache.3aae9b27.js";import"./position-engine.b3fa6cbd.js";import"./QList.d4521672.js";import"./QLinearProgress.c6927d78.js";const Xe={key:0,class:"row"},Ze={class:"col q-mx-md q-mt-md"},ea={class:"box-border row q-pt-sm"},aa={class:"row items-center justify-end"},la={key:0,class:"row q-mx-sm items-center"},oa={key:1,class:"row q-pa-sm"},ta={class:"col-12 q-px-md"},ia={class:"box-border q-pb-md"},na={class:"full-width row flex-center text-primary q-gutter-sm text-body2"},sa=u("span",null," Sem resultados para visualizar ",-1),da={class:"row items-center justify-end"},ra={key:0,class:"col"},ua={key:1,class:"col"},ca={class:"row"},ma={key:1,class:"row"},fa={class:"col-3 q-pa-md q-pl-lg q-ml-lg q-mr-lg"},va={class:"box-border q-pt-md"},ba={class:"row items-center justify-end"},pa={key:0,class:"row q-pa-sm"},_a={key:1,class:"row q-pa-sm"},ga={class:"col q-pt-md q-mr-lg"},wa={class:"box-border q-pb-md"},ya={class:"full-width row flex-center text-primary q-gutter-sm text-body2"},xa=u("span",null," Sem resultados para visualizar ",-1),ha={class:"row items-center justify-end"},Va={key:0,class:"col"},Da={key:1,class:"col"},ka={class:"row"},za={__name:"EntrancePanel",setup(Sa){const De=Qe(),ee=He(),I=Ae(),{closeLoading:q,showloading:W}=Je(),{alertSucess:U,alertError:c,alertWarningAction:K}=Te(),{getDrugFirstLevelById:ke}=Ke(),{isMobile:ae}=Pe(),Se=x("Detalhe da Guia");x("");const f=[{name:"order",required:!0,label:"Ordem",field:"index",align:"left",sortable:!1},{name:"drug",align:"left",label:"Medicamento",sortable:!0},{name:"manufacture",align:"left",label:"Fabricante",sortable:!0},{name:"batchNumber",align:"left",label:"Lote",sortable:!0},{name:"expireDate",align:"left",label:"Data de Validade",sortable:!1},{name:"unitsReceived",align:"left",label:"Quantidade",sortable:!0},{name:"options",align:"center",label:"Op\xE7\xF5es",sortable:!1}];let _=!1;const h=x(""),E=x(""),R=x(""),v=x("display"),k=x("display"),O=x([]),Q=x([]),S=x([]),F=x(""),le=x(""),X=()=>{De.go(-1)},oe=l=>l>=Z(new Date).add(28,"d").format("YYYY/MM/DD"),te=(l,t,e)=>{const i=Me.value;l===""?t(()=>Q.value=i.map(y=>(String(y.name).includes(String(y.form.description).substring(0,4))||(y.name=String(y.name).concat(" - (").concat(y.packSize).concat(" ").concat(String(y.form.description).substring(0,4)).concat(")")),y))):i.length===0?t(()=>{Q.value=[]}):t(()=>{Q.value=i.map(y=>y).filter(y=>y&&y.name.toLowerCase().indexOf(l.toLowerCase())!==-1)})},Ce=()=>{h.value=I.getDDMMYYYFromJSDate(n.value.dateReceived),E.value=n.value.orderNumber,R.value=n.value.notes},ie=()=>{k.value="display",_=!1},ne=()=>{if(n.value.dateReceived=I.getJSDateFromDDMMYYY(h.value),n.value.orderNumber=E.value,n.value.clinic=Oe.value,n.value.notes=R.value,F.value.validate(),h.value==="")c("Preencha a data de cria\xE7\xE3o da guia .");else if(n.value.dateReceived>new Date)c("A data de cria\xE7\xE3o da guia n\xE3o pode ser superior a data corrente.");else if(!F.value.hasError){if(k.value==="create")j.post(n.value).then(l=>{n.value=l.response.data,k.value="display",U("Opera\xE7\xE3o efectuada com sucesso.")}).catch(l=>{const t=[];if(l!=null){const e=JSON.parse(l);e.total==null?t.push(e.message):e._embedded.errors.forEach(i=>{t.push(i.message)})}c(t)});else if(k.value==="edit"){const l=JSON.parse(JSON.stringify(n.value,qe()));j.apiUpdate(n.value.id,l).then(t=>{localStorage.setItem("currStockEntrance",n.value.id),k.value="display",U("Opera\xE7\xE3o efectuada com sucesso.")})}}},qe=()=>{const l=new WeakSet;return(t,e)=>{if(typeof e=="object"&&e!==null){if(l.has(e))return;l.add(e)}return e}},se=()=>{n.value.stocks.length>0||S.value.length>0?c("N\xE3o pode editar os dados da guia, pois ja existem registos de lotes associados."):k.value="edit"},de=()=>{n.value.stocks.length>0||S.value.length>0?c("N\xE3o pode remover esta guia, pois ja existem registos de lotes associados."):K("Deseja remover a presente guia de entrada de stock?","N\xE3o","Sim").then(l=>{l&&(k.value="delete",Ne())})},Ne=()=>{j.delete(n.value.id).then(l=>{X(),U("Opera\xE7\xE3o efectuada com sucesso.")})},Ue=l=>{v.value="delete",W(),P.delete(l.id).then(t=>{me(l),q(),U("Opera\xE7\xE3o efectuada com sucesso.")}).catch(t=>{c("Ocorreu um erro inesperado, contacte o administrador!")})},L=()=>{if(W(),v.value==="create"||v.value==="edit")c("Por favor concluir ou cancelar a opera\xE7\xE3o em curso antes de iniciar a adi\xE7\xE3o de novo registo."),q();else{v.value="create";const l=_e.getStockCenter();l.clinic=B.currClinic();const t=new Be({drug:new $e,center:l,enabled:!0,clinic:B.currClinic(),entrance:n});S.value.unshift(t),q()}},Ee=l=>{const t=Number(l);return Number.isInteger(t)&&t>0?!0:(typeof l!="string",!1)},re=l=>{_=!0,l.expireDate=I.getJSDateFromDDMMYYY(l.auxExpireDate),l.entrance_id=n.value.id,l.drug.name===""?(_=!1,c("Por favor indicar o medicamento!")):l.manufacture===""?(_=!1,c("Por favor indicar o fabricante!")):l.batchNumber===""?(_=!1,c("Por favor indicar o lote!")):P.isBatchNumberExists(l)&&v.value!=="edit"?c(" O lote introduzido para esta guia J\xE1  existe, por favor registe um lote v\xE1lido!"):je.isValid(l.expireDate)?l.expireDate.setHours(0,0,0,0)<new Date().setHours(0,0,0,0)?(_=!1,c("A data de validade n\xE3o pode ser anterior a data corrente!")):Ee(l.unitsReceived)?l.expireDate instanceof Date?l.expireDate<=Z(new Date).add(28,"d")?(_=!1,c("O medicamento n\xE3o deve expirar em menos de 28 dias, Por favor indique uma data de validade v\xE1lida!")):l.expireDate<=Z(new Date).add(91,"d")?K(" O stock especificado ir\xE1 expirar em menos de 3 meses. Deseja continuar","N\xE3o","Sim").then(t=>{t&&ue(l)}):ue(l):c("A data de validade \xE9 inv\xE1lida!"):(_=!1,c("Por favor indicar uma quantidade v\xE1lida!")):(_=!1,c("Por favor indicar uma data de validade v\xE1lida!"))},ue=l=>{W(),l.unitsReceived=Number(l.unitsReceived),l.stockMoviment=l.unitsReceived,l.clinic={},l.clinic.id=B.currClinic().id,l.center={},l.center.id=_e.getStockCenter().id,l.entrance=n,l.enabled=!1,l.drug_id=l.drug.id,l.entrance_id=n.value.id,pe.value?(l.id=Ge(),P.post(l).then(t=>{_=!1,l.enabled=!1,v.value="display",U("Opera\xE7\xE3o efectuada com sucesso."),q()}).catch(t=>{c("Ocorreu um erro inesperado"),console.log("ERRO: ",t),q()})):be.value&&P.patch(l.id,l).then(t=>{_=!1,l.enabled=!1,v.value="display",U("Opera\xE7\xE3o efectuada com sucesso."),q()}).catch(t=>{c("Ocorreu um erro inesperado"),console.log("ERRO: ",t),q()})},ce=l=>{be.value?(l.drug=O.value.drug,l.expireDate=O.value.expireDate,l.batchNumber=O.value.batchNumber,l.unitsReceived=O.value.unitsReceived,l.enabled=!1):pe.value&&me(l),v.value="display"},me=l=>{const t=S.value.map(e=>e.id).indexOf(l.id);S.value.splice(t,1)},fe=l=>{O.value=Object.assign({},l),v.value==="edit"||v.value==="create"?c("Por favor concluir ou cancelar a opera\xE7\xE3o em curso antes de iniciar a edi\xE7\xE3o deste registo."):(l.enabled=!0,v.value="edit")},ve=l=>{v.value==="create"||v.value==="edit"?c("Por favor concluir ou cancelar a opera\xE7\xE3o em curso antes de iniciar a remo\xE7\xE3o deste registo."):K("Confirma a remo\xE7\xE3o do lote ["+l.batchNumber+"]?","N\xE3o","Sim").then(t=>{t&&Ue(l)})},Re=()=>{const l=JSON.parse(localStorage.getItem("currStockEntrance"));return j.getStockEntranceById(l)},Ye=()=>{n.value.stocks.length>0&&Object.keys(n.value.stocks).forEach(function(l){const t=P.getStockList(n.value.stocks[l].id);t.auxExpireDate=I.getDDMMYYYFromJSDate(t.expireDate),t.drug.name=t.drug.name+" ("+t.drug.packSize+" "+String(ke(t.drug.id).form.description).substring(0,4)+")",S.value.push(t)}.bind(this)),console.log("Finished loading stock")};Ie(()=>{Ce(),Ye()});const n=N(()=>Re()),Me=N(()=>Fe.getActiveDrugs()),be=N(()=>v.value==="edit"),pe=N(()=>v.value==="create"),C=N(()=>k.value==="edit"),z=N(()=>k.value==="display"),Oe=N(()=>B.currClinic());return Le("title",Se),(l,t)=>(r(),V("div",null,[a(We),Y(ae)?(r(),V("div",Xe,[u("div",Ze,[a(T,{addVisible:!1,expandVisible:!1,mainContainer:!0,bgColor:"bg-primary"},{default:o(()=>[d("Notas da Guia ")]),_:1}),u("div",ea,[a(b,{outlined:"",modelValue:E.value,"onUpdate:modelValue":t[0]||(t[0]=e=>E.value=e),ref_key:"orderNumberRef",ref:F,label:"N\xFAmero",rules:[e=>!!e||"Por favor indicar o n\xFAmero da guia"],disable:!C.value,dense:"",class:"col q-mx-md"},null,8,["modelValue","rules","disable"]),a(b,{dense:"",outlined:"",disable:!C.value,class:"col q-mx-md",modelValue:h.value,"onUpdate:modelValue":t[2]||(t[2]=e=>h.value=e),label:"Data de Cria\xE7\xE3o"},{append:o(()=>[a(M,{name:"event",class:"cursor-pointer"},{default:o(()=>[a(G,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[a(A,{modelValue:h.value,"onUpdate:modelValue":t[1]||(t[1]=e=>h.value=e),mask:"DD-MM-YYYY"},{default:o(()=>[u("div",aa,[$(a(s,{label:"Close",color:"primary",flat:""},null,512),[[H]])])]),_:1},8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["disable","modelValue"]),a(b,{outlined:"",modelValue:R.value,"onUpdate:modelValue":t[3]||(t[3]=e=>R.value=e),label:"Notas",ref_key:"notesRef",ref:le,disable:!C.value,dense:"",class:"col"},null,8,["modelValue","disable"]),z.value?(r(),V("div",la,[a(s,{unelevated:"",color:"blue",class:"col q-ma-sm",label:"Voltar",onClick:X,size:"12px"}),a(s,{unelevated:"",color:"orange-5",class:"q-ml-md col",label:"Editar",onClick:se,size:"12px"}),a(s,{unelevated:"",color:"red",class:"q-ml-md col",label:"Remover",onClick:de,size:"12px"})])):m("",!0),C.value?(r(),V("div",oa,[a(s,{unelevated:"",color:"blue",class:"col",label:"Cancelar",onClick:ie,size:"10px"}),a(s,{unelevated:"",color:"orange-5",class:"q-ml-md col",label:"Gravar",onClick:ne,size:"10px"})])):m("",!0)])]),u("div",ta,[u("div",null,[a(T,{addVisible:z.value,expandVisible:!1,mainContainer:!0,onShowAdd:L,bgColor:"bg-primary",addButtonActions:L},{default:o(()=>[d("Medicamentos ")]),_:1},8,["addVisible"]),u("div",ia,[a(ge,{class:"col",dense:"",flat:"",rows:S.value,columns:f,"row-key":"id"},{"no-data":o(({icon:e,filter:i})=>[u("div",na,[sa,a(M,{size:"2em",name:i?"filter_b_and_w":e},null,8,["name"])])]),header:o(e=>[a(J,{class:"text-left bg-grey-3",props:e},{default:o(()=>[a(g,{style:{width:"70px"}},{default:o(()=>[d(p(f[0].label),1)]),_:1}),a(g,{class:"col"},{default:o(()=>[d(p(f[1].label),1)]),_:1}),a(g,{style:{width:"190px"}},{default:o(()=>[d(p(f[2].label),1)]),_:1}),a(g,{style:{width:"190px"}},{default:o(()=>[d(p(f[3].label),1)]),_:1}),a(g,{style:{width:"190px"}},{default:o(()=>[d(p(f[4].label),1)]),_:1}),a(g,{style:{width:"120px"}},{default:o(()=>[d(p(f[5].label),1)]),_:1}),a(g,{style:{width:"150px","text-align":"center"}},{default:o(()=>[d(p(f[6].label),1)]),_:1})]),_:2},1032,["props"])]),body:o(e=>[a(J,{props:e},{default:o(()=>[a(w,{key:"order",props:e},{default:o(()=>[d(p(e.rowIndex+1),1)]),_:2},1032,["props"]),a(w,{key:"drug",props:e},{default:o(()=>[a(xe,{class:"col",dense:"",outlined:"",disable:!e.row.enabled,ref:"drug",modelValue:e.row.drug,"onUpdate:modelValue":i=>e.row.drug=i,options:Q.value,onFilter:te,"option-value":"id","option-label":"name",label:"Medicamento","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0"},{"no-option":o(()=>[a(we,null,{default:o(()=>[a(ye,{class:"text-grey"},{default:o(()=>[d(" Sem Resultados ")]),_:1})]),_:1})]),_:2},1032,["disable","modelValue","onUpdate:modelValue","options"])]),_:2},1032,["props"]),a(w,{key:"manufacture",props:e},{default:o(()=>[a(b,{outlined:"",modelValue:e.row.manufacture,"onUpdate:modelValue":i=>e.row.manufacture=i,disable:!e.row.enabled,label:"Fabricante",dense:"",class:"col"},null,8,["modelValue","onUpdate:modelValue","disable"])]),_:2},1032,["props"]),a(w,{key:"batchNumber",props:e},{default:o(()=>[a(b,{outlined:"",modelValue:e.row.batchNumber,"onUpdate:modelValue":i=>e.row.batchNumber=i,disable:!e.row.enabled,label:"Lote",dense:"",class:"col"},null,8,["modelValue","onUpdate:modelValue","disable"])]),_:2},1032,["props"]),a(w,{key:"expireDate",props:e},{default:o(()=>[a(b,{dense:"",disable:!e.row.enabled,outlined:"",class:"col",modelValue:e.row.auxExpireDate,"onUpdate:modelValue":i=>e.row.auxExpireDate=i,ref:"expireDate",label:"Data de Validade"},{append:o(()=>[a(M,{name:"event",class:"cursor-pointer"},{default:o(()=>[a(G,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[a(A,{modelValue:e.row.auxExpireDate,"onUpdate:modelValue":i=>e.row.auxExpireDate=i,mask:"DD-MM-YYYY",options:oe},{default:o(()=>[u("div",da,[$(a(s,{label:"Close",color:"primary",flat:""},null,512),[[H]])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1024)]),_:2},1032,["disable","modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),a(w,{key:"unitsReceived",props:e},{default:o(()=>[a(b,{outlined:"",modelValue:e.row.unitsReceived,"onUpdate:modelValue":i=>e.row.unitsReceived=i,disable:!e.row.enabled,label:"Quantidade",dense:"",class:"col"},null,8,["modelValue","onUpdate:modelValue","disable"])]),_:2},1032,["props"]),a(w,{key:"options",props:e},{default:o(()=>[Y(ee).isInUse(e.row)?(r(),V("div",ua,[a(he,{color:"info","text-color":"white"},{default:o(()=>[d(" Em Uso ")]),_:1})])):(r(),V("div",ra,[e.row.enabled?(r(),D(s,{key:0,loading:Y(_),flat:"",dense:"",round:"",color:"primary",icon:"done",onClick:i=>re(e.row)},null,8,["loading","onClick"])):m("",!0),e.row.enabled?(r(),D(s,{key:1,flat:"",dense:"",round:"",color:"red",icon:"clear",onClick:i=>ce(e.row)},null,8,["onClick"])):m("",!0),e.row.enabled?m("",!0):(r(),D(s,{key:2,flat:"",dense:"",round:"",color:"orange-5",icon:"edit",onClick:i=>fe(e.row)},null,8,["onClick"])),e.row.enabled?m("",!0):(r(),D(s,{key:3,flat:"",dense:"",round:"",color:"red",icon:"delete_forever",class:"q-ml-sm",onClick:i=>ve(e.row)},null,8,["onClick"]))]))]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"])]),u("div",ca,[a(Ve,{dense:"","inline-actions":"",style:{"padding-top":"2px","padding-bottom":"2px"},class:"col text-white q-pa-none bg-orange-4 q-pr-sm"},{action:o(()=>[a(s,{dense:"",unelevated:"",color:"primary",class:"col",label:"Imprimir"})]),_:1})])])])])):m("",!0),Y(ae)?m("",!0):(r(),V("div",ma,[u("div",fa,[u("div",null,[a(T,{addVisible:!1,expandVisible:!1,mainContainer:!0,bgColor:"bg-primary"},{default:o(()=>[d("Notas da Guia ")]),_:1}),u("div",va,[a(b,{outlined:"",modelValue:E.value,"onUpdate:modelValue":t[4]||(t[4]=e=>E.value=e),ref_key:"orderNumberRef",ref:F,label:"N\xFAmero",rules:[e=>!!e||"Por favor indicar o n\xFAmero da guia"],disable:!C.value,dense:"",class:"col q-ma-sm"},null,8,["modelValue","rules","disable"]),a(b,{dense:"",outlined:"",disable:!C.value,class:"col q-ma-sm",modelValue:h.value,"onUpdate:modelValue":t[6]||(t[6]=e=>h.value=e),label:"Data de Cria\xE7\xE3o"},{append:o(()=>[a(M,{name:"event",class:"cursor-pointer"},{default:o(()=>[a(G,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[a(A,{modelValue:h.value,"onUpdate:modelValue":t[5]||(t[5]=e=>h.value=e),mask:"DD-MM-YYYY"},{default:o(()=>[u("div",ba,[$(a(s,{label:"Close",color:"primary",flat:""},null,512),[[H]])])]),_:1},8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["disable","modelValue"]),a(b,{outlined:"",modelValue:R.value,"onUpdate:modelValue":t[7]||(t[7]=e=>R.value=e),label:"Notas",ref_key:"notesRef",ref:le,disable:!C.value,dense:"",class:"col q-ma-sm",type:"textarea"},null,8,["modelValue","disable"]),a(ze,{class:"q-mx-sm"}),z.value?(r(),V("div",pa,[a(s,{unelevated:"",color:"blue",class:"col",label:"Voltar",onClick:X}),n.value.isDistribution?m("",!0):(r(),D(s,{key:0,unelevated:"",color:"orange-5",class:"q-ml-md col",label:"Editar",onClick:se})),n.value.isDistribution?m("",!0):(r(),D(s,{key:1,unelevated:"",color:"red",class:"q-ml-md col",label:"Remover",onClick:de}))])):m("",!0),C.value?(r(),V("div",_a,[a(s,{unelevated:"",color:"blue",class:"col",label:"Cancelar",onClick:ie}),a(s,{unelevated:"",color:"orange-5",class:"q-ml-md col",label:"Gravar",onClick:ne})])):m("",!0)])])]),u("div",ga,[u("div",null,[a(T,{addVisible:z.value,expandVisible:!1,mainContainer:!0,onShowAdd:L,bgColor:"bg-primary",addButtonActions:L},{default:o(()=>[d("Medicamentos ")]),_:1},8,["addVisible"]),u("div",wa,[a(ge,{class:"col",dense:"",flat:"",rows:S.value,columns:f,"row-key":"id"},{"no-data":o(({icon:e,filter:i})=>[u("div",ya,[xa,a(M,{size:"2em",name:i?"filter_b_and_w":e},null,8,["name"])])]),header:o(e=>[a(J,{class:"text-left bg-grey-3",props:e},{default:o(()=>[a(g,{class:"col"},{default:o(()=>[d(p(f[1].label),1)]),_:1}),a(g,{style:{width:"190px"}},{default:o(()=>[d(p(f[2].label),1)]),_:1}),a(g,{style:{width:"190px"}},{default:o(()=>[d(p(f[3].label),1)]),_:1}),a(g,{style:{width:"190px"}},{default:o(()=>[d(p(f[4].label),1)]),_:1}),a(g,{style:{width:"120px"}},{default:o(()=>[d(p(f[5].label),1)]),_:1}),a(g,{style:{width:"150px","text-align":"center"}},{default:o(()=>[d(p(f[6].label),1)]),_:1})]),_:2},1032,["props"])]),body:o(e=>[a(J,{props:e},{default:o(()=>[a(w,{key:"drug",props:e},{default:o(()=>[a(xe,{class:"col",dense:"",outlined:"",disable:!e.row.enabled,ref:"drug",modelValue:e.row.drug,"onUpdate:modelValue":i=>e.row.drug=i,options:Q.value,"option-value":"id","option-label":"name",label:"Medicamento",onFilter:te,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0"},{"no-option":o(()=>[a(we,null,{default:o(()=>[a(ye,{class:"text-grey"},{default:o(()=>[d(" Sem Resultados ")]),_:1})]),_:1})]),_:2},1032,["disable","modelValue","onUpdate:modelValue","options"])]),_:2},1032,["props"]),a(w,{key:"manufacture",props:e},{default:o(()=>[a(b,{modelValue:e.row.manufacture,"onUpdate:modelValue":i=>e.row.manufacture=i,disable:!e.row.enabled,label:"Fabricante",dense:"",outlined:"",class:"col"},null,8,["modelValue","onUpdate:modelValue","disable"])]),_:2},1032,["props"]),a(w,{key:"batchNumber",props:e},{default:o(()=>[a(b,{modelValue:e.row.batchNumber,"onUpdate:modelValue":i=>e.row.batchNumber=i,disable:!e.row.enabled,label:"Lote",dense:"",outlined:"",class:"col"},null,8,["modelValue","onUpdate:modelValue","disable"])]),_:2},1032,["props"]),a(w,{key:"expireDate",props:e},{default:o(()=>[a(b,{dense:"",disable:!e.row.enabled,outlined:"",class:"col",modelValue:e.row.auxExpireDate,"onUpdate:modelValue":i=>e.row.auxExpireDate=i,ref:"expireDate",label:"Data de Validade"},{append:o(()=>[a(M,{name:"event",class:"cursor-pointer"},{default:o(()=>[a(G,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[a(A,{modelValue:e.row.auxExpireDate,"onUpdate:modelValue":i=>e.row.auxExpireDate=i,mask:"DD-MM-YYYY",options:oe},{default:o(()=>[u("div",ha,[$(a(s,{label:"Close",color:"primary",flat:""},null,512),[[H]])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1536)]),_:2},1024)]),_:2},1032,["disable","modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),a(w,{key:"unitsReceived",props:e},{default:o(()=>[a(b,{modelValue:e.row.unitsReceived,"onUpdate:modelValue":i=>e.row.unitsReceived=i,disable:!e.row.enabled,label:"Quantidade",type:"number",dense:"",outlined:"",class:"col"},null,8,["modelValue","onUpdate:modelValue","disable"])]),_:2},1032,["props"]),a(w,{key:"options",props:e},{default:o(()=>[!Y(ee).isInUse(e.row)&&!n.value.isDistribution?(r(),V("div",Va,[e.row.enabled?(r(),D(s,{key:0,loading:Y(_),flat:"",dense:"",round:"",color:"primary",icon:"done",onClick:i=>re(e.row)},null,8,["loading","onClick"])):m("",!0),e.row.enabled?(r(),D(s,{key:1,flat:"",dense:"",round:"",color:"red",icon:"clear",onClick:i=>ce(e.row)},null,8,["onClick"])):m("",!0),e.row.enabled?m("",!0):(r(),D(s,{key:2,flat:"",dense:"",round:"",color:"orange-5",icon:"edit",onClick:i=>fe(e.row)},null,8,["onClick"])),e.row.enabled?m("",!0):(r(),D(s,{key:3,flat:"",dense:"",round:"",color:"red",icon:"delete_forever",class:"q-ml-sm",onClick:i=>ve(e.row)},null,8,["onClick"]))])):(r(),V("div",Da,[a(he,{color:"info","text-color":"white"},{default:o(()=>[d(" Em Uso ")]),_:1})]))]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"])]),u("div",ka,[a(Ve,{dense:"","inline-actions":"",style:{"padding-top":"2px","padding-bottom":"2px"},class:"col text-white q-pa-none bg-orange-4 q-pr-sm"},{action:o(()=>[a(s,{dense:"",unelevated:"",color:"primary",class:"col hidden",label:"Imprimir"})]),_:1})])])])]))]))}};export{za as default};
