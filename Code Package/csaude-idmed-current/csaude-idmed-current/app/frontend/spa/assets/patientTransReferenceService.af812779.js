import{bJ as u,c5 as o,Y as p,bM as a,bL as r,b4 as h}from"./index.28c7e456.js";const n=u(o),s=o.entity,{alertSucess:b,alertError:g}=h(),{isMobile:i,isOnline:l}=p();var f={post(e){return i.value&&!l.value?this.putMobile(e):this.postWeb(e)},get(e){if(i.value&&!l.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return i.value&&!l.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return i.value&&!l.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return a().post("patientTransReference",e).then(t=>{n.save(t.data)})},getWeb(e){if(e>=0)return a().get("patientTransReference?offset="+e+"&max=100").then(t=>{n.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return a().patch("patientTransReference/"+e,t).then(c=>{n.save(c.data)})},deleteWeb(e){return a().delete("patientTransReference/"+e).then(()=>{n.destroy(e)})},addMobile(e){return r[s].add(JSON.parse(JSON.stringify(e))).then(()=>{n.save(JSON.parse(JSON.stringify(e)))})},putMobile(e){return r[s].put(JSON.parse(JSON.stringify(e))).then(()=>{n.save(JSON.parse(JSON.stringify(e)))}).catch(t=>{console.log(t)})},getMobile(){return r[s].toArray().then(e=>{n.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return r[s].delete(e).then(()=>{n.destroy(e),b("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return r[s].bulkAdd(e).then(()=>{n.save(e)}).catch(t=>{console.log(t)})},async apiGetAll(e,t){return await a().get("/patientTransReference?offset="+e+"&max="+t)},apiSendLostFolowUp(e){return a().post("/patientTransReference/folowup",e)},async apiSave(e){return await a().post("/patientTransReference",e)},async apiRemove(e){return await a().delete(`/patientTransReference/${e.id}`)},async apiFetchById(e){return await a().get(`/patientTransReference/${e}`)},newInstanceEntity(){return n.getModel().$newInstance()},getAllFromStorage(){return n.all()}};export{f as p};
