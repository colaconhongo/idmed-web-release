var sM=Object.defineProperty;var aM=(e,t,r)=>t in e?sM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var B=(e,t,r)=>(aM(e,typeof t!="symbol"?t+"":t,r),r);const oM=function(){const t=document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}(),bx={},lM="/",xt=function(t,r){return!r||r.length===0?t():Promise.all(r.map(n=>{if(n=`${lM}${n}`,n in bx)return;bx[n]=!0;const i=n.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${s}`))return;const a=document.createElement("link");if(a.rel=i?"stylesheet":oM,i||(a.as="script",a.crossOrigin=""),a.href=n,document.head.appendChild(a),i)return new Promise((o,l)=>{a.addEventListener("load",o),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())};/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function yb(e,t){const r=new Set(e.split(","));return t?n=>r.has(n.toLowerCase()):n=>r.has(n)}const pt={},ac=[],hn=()=>{},cM=()=>!1,Lp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),vb=e=>e.startsWith("onUpdate:"),Bt=Object.assign,mb=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},uM=Object.prototype.hasOwnProperty,Ye=(e,t)=>uM.call(e,t),ke=Array.isArray,oc=e=>Xd(e)==="[object Map]",yD=e=>Xd(e)==="[object Set]",dM=e=>Xd(e)==="[object RegExp]",Me=e=>typeof e=="function",Dt=e=>typeof e=="string",pl=e=>typeof e=="symbol",vt=e=>e!==null&&typeof e=="object",vD=e=>(vt(e)||Me(e))&&Me(e.then)&&Me(e.catch),mD=Object.prototype.toString,Xd=e=>mD.call(e),fM=e=>Xd(e).slice(8,-1),bD=e=>Xd(e)==="[object Object]",bb=e=>Dt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Hu=yb(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qp=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},hM=/-(\w)/g,Hi=qp(e=>e.replace(hM,(t,r)=>r?r.toUpperCase():"")),pM=/\B([A-Z])/g,gl=qp(e=>e.replace(pM,"-$1").toLowerCase()),Wp=qp(e=>e.charAt(0).toUpperCase()+e.slice(1)),Rg=qp(e=>e?`on${Wp(e)}`:""),Qa=(e,t)=>!Object.is(e,t),Ku=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},_D=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},gM=e=>{const t=parseFloat(e);return isNaN(t)?e:t},yM=e=>{const t=Dt(e)?Number(e):NaN;return isNaN(t)?e:t};let _x;const xD=()=>_x||(_x=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function jp(e){if(ke(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=Dt(n)?_M(n):jp(n);if(i)for(const s in i)t[s]=i[s]}return t}else if(Dt(e)||vt(e))return e}const vM=/;(?![^(]*\))/g,mM=/:([^]+)/,bM=/\/\*[^]*?\*\//g;function _M(e){const t={};return e.replace(bM,"").split(vM).forEach(r=>{if(r){const n=r.split(mM);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Yp(e){let t="";if(Dt(e))t=e;else if(ke(e))for(let r=0;r<e.length;r++){const n=Yp(e[r]);n&&(t+=n+" ")}else if(vt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function g7(e){if(!e)return null;let{class:t,style:r}=e;return t&&!Dt(t)&&(e.class=Yp(t)),r&&(e.style=jp(r)),e}const xM="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wM=yb(xM);function wD(e){return!!e||e===""}const y7=e=>Dt(e)?e:e==null?"":ke(e)||vt(e)&&(e.toString===mD||!Me(e.toString))?JSON.stringify(e,SD,2):String(e),SD=(e,t)=>t&&t.__v_isRef?SD(e,t.value):oc(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],s)=>(r[$g(n,s)+" =>"]=i,r),{})}:yD(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>$g(r))}:pl(t)?$g(t):vt(t)&&!ke(t)&&!bD(t)?String(t):t,$g=(e,t="")=>{var r;return pl(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let un;class DD{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=un,!t&&un&&(this.index=(un.scopes||(un.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=un;try{return un=this,t()}finally{un=r}}}on(){un=this}off(){un=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function AD(e){return new DD(e)}function SM(e,t=un){t&&t.active&&t.effects.push(e)}function _b(){return un}function kD(e){un&&un.cleanups.push(e)}let No;class xb{constructor(t,r,n,i){this.fn=t,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,SM(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,oo();for(let t=0;t<this._depsLength;t++){const r=this.deps[t];if(r.computed&&(DM(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),lo()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Oa,r=No;try{return Oa=!0,No=this,this._runnings++,xx(this),this.fn()}finally{wx(this),this._runnings--,No=r,Oa=t}}stop(){this.active&&(xx(this),wx(this),this.onStop&&this.onStop(),this.active=!1)}}function DM(e){return e.value}function xx(e){e._trackId++,e._depsLength=0}function wx(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)ED(e.deps[t],e);e.deps.length=e._depsLength}}function ED(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}let Oa=!0,Vv=0;const CD=[];function oo(){CD.push(Oa),Oa=!1}function lo(){const e=CD.pop();Oa=e===void 0?!0:e}function wb(){Vv++}function Sb(){for(Vv--;!Vv&&Uv.length;)Uv.shift()()}function OD(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&ED(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Uv=[];function MD(e,t,r){wb();for(const n of e.keys()){let i;n._dirtyLevel<t&&(i!=null?i:i=e.get(n)===n._trackId)&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=t),n._shouldSchedule&&(i!=null?i:i=e.get(n)===n._trackId)&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&Uv.push(n.scheduler)))}Sb()}const ID=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},Q0=new WeakMap,Lo=Symbol(""),zv=Symbol("");function Jr(e,t,r){if(Oa&&No){let n=Q0.get(e);n||Q0.set(e,n=new Map);let i=n.get(r);i||n.set(r,i=ID(()=>n.delete(r))),OD(No,i)}}function bs(e,t,r,n,i,s){const a=Q0.get(e);if(!a)return;let o=[];if(t==="clear")o=[...a.values()];else if(r==="length"&&ke(e)){const l=Number(n);a.forEach((u,c)=>{(c==="length"||!pl(c)&&c>=l)&&o.push(u)})}else switch(r!==void 0&&o.push(a.get(r)),t){case"add":ke(e)?bb(r)&&o.push(a.get("length")):(o.push(a.get(Lo)),oc(e)&&o.push(a.get(zv)));break;case"delete":ke(e)||(o.push(a.get(Lo)),oc(e)&&o.push(a.get(zv)));break;case"set":oc(e)&&o.push(a.get(Lo));break}wb();for(const l of o)l&&MD(l,4);Sb()}function AM(e,t){const r=Q0.get(e);return r&&r.get(t)}const kM=yb("__proto__,__v_isRef,__isVue"),BD=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(pl)),Sx=EM();function EM(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=Ie(this);for(let s=0,a=this.length;s<a;s++)Jr(n,"get",s+"");const i=n[t](...r);return i===-1||i===!1?n[t](...r.map(Ie)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){oo(),wb();const n=Ie(this)[t].apply(this,r);return Sb(),lo(),n}}),e}function CM(e){pl(e)||(e=String(e));const t=Ie(this);return Jr(t,"has",e),t.hasOwnProperty(e)}class FD{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){const i=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?WM:$D:s?RD:PD).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=ke(t);if(!i){if(a&&Ye(Sx,r))return Reflect.get(Sx,r,n);if(r==="hasOwnProperty")return CM}const o=Reflect.get(t,r,n);return(pl(r)?BD.has(r):kM(r))||(i||Jr(t,"get",r),s)?o:Ht(o)?a&&bb(r)?o:o.value:vt(o)?i?LD(o):gi(o):o}}class TD extends FD{constructor(t=!1){super(!1,t)}set(t,r,n,i){let s=t[r];if(!this._isShallow){const l=Od(s);if(!X0(n)&&!Od(n)&&(s=Ie(s),n=Ie(n)),!ke(t)&&Ht(s)&&!Ht(n))return l?!1:(s.value=n,!0)}const a=ke(t)&&bb(r)?Number(r)<t.length:Ye(t,r),o=Reflect.set(t,r,n,i);return t===Ie(i)&&(a?Qa(n,s)&&bs(t,"set",r,n):bs(t,"add",r,n)),o}deleteProperty(t,r){const n=Ye(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&bs(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!pl(r)||!BD.has(r))&&Jr(t,"has",r),n}ownKeys(t){return Jr(t,"iterate",ke(t)?"length":Lo),Reflect.ownKeys(t)}}class OM extends FD{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const MM=new TD,IM=new OM,BM=new TD(!0);const Db=e=>e,Hp=e=>Reflect.getPrototypeOf(e);function mf(e,t,r=!1,n=!1){e=e.__v_raw;const i=Ie(e),s=Ie(t);r||(Qa(t,s)&&Jr(i,"get",t),Jr(i,"get",s));const{has:a}=Hp(i),o=n?Db:r?Eb:Md;if(a.call(i,t))return o(e.get(t));if(a.call(i,s))return o(e.get(s));e!==i&&e.get(t)}function bf(e,t=!1){const r=this.__v_raw,n=Ie(r),i=Ie(e);return t||(Qa(e,i)&&Jr(n,"has",e),Jr(n,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function _f(e,t=!1){return e=e.__v_raw,!t&&Jr(Ie(e),"iterate",Lo),Reflect.get(e,"size",e)}function Dx(e){e=Ie(e);const t=Ie(this);return Hp(t).has.call(t,e)||(t.add(e),bs(t,"add",e,e)),this}function Ax(e,t){t=Ie(t);const r=Ie(this),{has:n,get:i}=Hp(r);let s=n.call(r,e);s||(e=Ie(e),s=n.call(r,e));const a=i.call(r,e);return r.set(e,t),s?Qa(t,a)&&bs(r,"set",e,t):bs(r,"add",e,t),this}function kx(e){const t=Ie(this),{has:r,get:n}=Hp(t);let i=r.call(t,e);i||(e=Ie(e),i=r.call(t,e)),n&&n.call(t,e);const s=t.delete(e);return i&&bs(t,"delete",e,void 0),s}function Ex(){const e=Ie(this),t=e.size!==0,r=e.clear();return t&&bs(e,"clear",void 0,void 0),r}function xf(e,t){return function(n,i){const s=this,a=s.__v_raw,o=Ie(a),l=t?Db:e?Eb:Md;return!e&&Jr(o,"iterate",Lo),a.forEach((u,c)=>n.call(i,l(u),l(c),s))}}function wf(e,t,r){return function(...n){const i=this.__v_raw,s=Ie(i),a=oc(s),o=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,u=i[e](...n),c=r?Db:t?Eb:Md;return!t&&Jr(s,"iterate",l?zv:Lo),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:o?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function Xs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function FM(){const e={get(s){return mf(this,s)},get size(){return _f(this)},has:bf,add:Dx,set:Ax,delete:kx,clear:Ex,forEach:xf(!1,!1)},t={get(s){return mf(this,s,!1,!0)},get size(){return _f(this)},has:bf,add:Dx,set:Ax,delete:kx,clear:Ex,forEach:xf(!1,!0)},r={get(s){return mf(this,s,!0)},get size(){return _f(this,!0)},has(s){return bf.call(this,s,!0)},add:Xs("add"),set:Xs("set"),delete:Xs("delete"),clear:Xs("clear"),forEach:xf(!0,!1)},n={get(s){return mf(this,s,!0,!0)},get size(){return _f(this,!0)},has(s){return bf.call(this,s,!0)},add:Xs("add"),set:Xs("set"),delete:Xs("delete"),clear:Xs("clear"),forEach:xf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=wf(s,!1,!1),r[s]=wf(s,!0,!1),t[s]=wf(s,!1,!0),n[s]=wf(s,!0,!0)}),[e,r,t,n]}const[TM,PM,RM,$M]=FM();function Ab(e,t){const r=t?e?$M:RM:e?PM:TM;return(n,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Ye(r,i)&&i in n?r:n,i,s)}const NM={get:Ab(!1,!1)},LM={get:Ab(!1,!0)},qM={get:Ab(!0,!1)};const PD=new WeakMap,RD=new WeakMap,$D=new WeakMap,WM=new WeakMap;function jM(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function YM(e){return e.__v_skip||!Object.isExtensible(e)?0:jM(fM(e))}function gi(e){return Od(e)?e:kb(e,!1,MM,NM,PD)}function ND(e){return kb(e,!1,BM,LM,RD)}function LD(e){return kb(e,!0,IM,qM,$D)}function kb(e,t,r,n,i){if(!vt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const a=YM(e);if(a===0)return e;const o=new Proxy(e,a===2?n:r);return i.set(e,o),o}function qo(e){return Od(e)?qo(e.__v_raw):!!(e&&e.__v_isReactive)}function Od(e){return!!(e&&e.__v_isReadonly)}function X0(e){return!!(e&&e.__v_isShallow)}function qD(e){return e?!!e.__v_raw:!1}function Ie(e){const t=e&&e.__v_raw;return t?Ie(t):e}function yl(e){return Object.isExtensible(e)&&_D(e,"__v_skip",!0),e}const Md=e=>vt(e)?gi(e):e,Eb=e=>vt(e)?LD(e):e;class WD{constructor(t,r,n,i){this.getter=t,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new xb(()=>t(this._value),()=>x0(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=Ie(this);return(!t._cacheable||t.effect.dirty)&&Qa(t._value,t._value=t.effect.run())&&x0(t,4),jD(t),t.effect._dirtyLevel>=2&&x0(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function HM(e,t,r=!1){let n,i;const s=Me(e);return s?(n=e,i=hn):(n=e.get,i=e.set),new WD(n,i,s||!i,r)}function jD(e){var t;Oa&&No&&(e=Ie(e),OD(No,(t=e.dep)!=null?t:e.dep=ID(()=>e.dep=void 0,e instanceof WD?e:void 0)))}function x0(e,t=4,r){e=Ie(e);const n=e.dep;n&&MD(n,t)}function Ht(e){return!!(e&&e.__v_isRef===!0)}function De(e){return YD(e,!1)}function KM(e){return YD(e,!0)}function YD(e,t){return Ht(e)?e:new VM(e,t)}class VM{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Ie(t),this._value=r?t:Md(t)}get value(){return jD(this),this._value}set value(t){const r=this.__v_isShallow||X0(t)||Od(t);t=r?t:Ie(t),Qa(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:Md(t),x0(this,4))}}function Ma(e){return Ht(e)?e.value:e}const UM={get:(e,t,r)=>Ma(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return Ht(i)&&!Ht(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function HD(e){return qo(e)?e:new Proxy(e,UM)}function zM(e){const t=ke(e)?new Array(e.length):{};for(const r in e)t[r]=GM(e,r);return t}class JM{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return AM(Ie(this._object),this._key)}}function GM(e,t,r){const n=e[t];return Ht(n)?n:new JM(e,t,r)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ia(e,t,r,n){try{return n?e(...n):e()}catch(i){Kp(i,t,r)}}function Gn(e,t,r,n){if(Me(e)){const i=Ia(e,t,r,n);return i&&vD(i)&&i.catch(s=>{Kp(s,t,r)}),i}if(ke(e)){const i=[];for(let s=0;s<e.length;s++)i.push(Gn(e[s],t,r,n));return i}}function Kp(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,a,o)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){oo(),Ia(l,null,10,[e,a,o]),lo();return}}QM(e,r,i,n)}function QM(e,t,r,n=!0){console.error(e)}let Id=!1,Jv=!1;const yr=[];let Pi=0;const lc=[];let da=null,Mo=0;const KD=Promise.resolve();let Cb=null;function vr(e){const t=Cb||KD;return e?t.then(this?e.bind(this):e):t}function XM(e){let t=Pi+1,r=yr.length;for(;t<r;){const n=t+r>>>1,i=yr[n],s=Bd(i);s<e||s===e&&i.pre?t=n+1:r=n}return t}function Ob(e){(!yr.length||!yr.includes(e,Id&&e.allowRecurse?Pi+1:Pi))&&(e.id==null?yr.push(e):yr.splice(XM(e.id),0,e),VD())}function VD(){!Id&&!Jv&&(Jv=!0,Cb=KD.then(zD))}function ZM(e){const t=yr.indexOf(e);t>Pi&&yr.splice(t,1)}function eI(e){ke(e)?lc.push(...e):(!da||!da.includes(e,e.allowRecurse?Mo+1:Mo))&&lc.push(e),VD()}function Cx(e,t,r=Id?Pi+1:0){for(;r<yr.length;r++){const n=yr[r];if(n&&n.pre){if(e&&n.id!==e.uid)continue;yr.splice(r,1),r--,n()}}}function UD(e){if(lc.length){const t=[...new Set(lc)].sort((r,n)=>Bd(r)-Bd(n));if(lc.length=0,da){da.push(...t);return}for(da=t,Mo=0;Mo<da.length;Mo++)da[Mo]();da=null,Mo=0}}const Bd=e=>e.id==null?1/0:e.id,tI=(e,t)=>{const r=Bd(e)-Bd(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function zD(e){Jv=!1,Id=!0,yr.sort(tI);const t=hn;try{for(Pi=0;Pi<yr.length;Pi++){const r=yr[Pi];r&&r.active!==!1&&Ia(r,null,14)}}finally{Pi=0,yr.length=0,UD(),Id=!1,Cb=null,(yr.length||lc.length)&&zD()}}function rI(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||pt;let i=r;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in n){const c=`${a==="modelValue"?"model":a}Modifiers`,{number:d,trim:f}=n[c]||pt;f&&(i=r.map(g=>Dt(g)?g.trim():g)),d&&(i=r.map(gM))}let o,l=n[o=Rg(t)]||n[o=Rg(Hi(t))];!l&&s&&(l=n[o=Rg(gl(t))]),l&&Gn(l,e,6,i);const u=n[o+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,Gn(u,e,6,i)}}function JD(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const s=e.emits;let a={},o=!1;if(!Me(e)){const l=u=>{const c=JD(u,t,!0);c&&(o=!0,Bt(a,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!o?(vt(e)&&n.set(e,null),null):(ke(s)?s.forEach(l=>a[l]=null):Bt(a,s),vt(e)&&n.set(e,a),a)}function Vp(e,t){return!e||!Lp(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ye(e,t[0].toLowerCase()+t.slice(1))||Ye(e,gl(t))||Ye(e,t))}let Nt=null,Up=null;function Z0(e){const t=Nt;return Nt=e,Up=e&&e.type.__scopeId||null,t}function v7(e){Up=e}function m7(){Up=null}function Xt(e,t=Nt,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&jx(-1);const s=Z0(t);let a;try{a=e(...i)}finally{Z0(s),n._d&&jx(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function Ng(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:c,props:d,data:f,setupState:g,ctx:m,inheritAttrs:x}=e,v=Z0(e);let p,h;try{if(r.shapeFlag&4){const b=i||n,_=b;p=Bi(u.call(_,b,c,d,g,f,m)),h=o}else{const b=t;p=Bi(b.length>1?b(d,{attrs:o,slots:a,emit:l}):b(d,null)),h=t.props?o:nI(o)}}catch(b){zu.length=0,Kp(b,e,1),p=Re(pn)}let y=p;if(h&&x!==!1){const b=Object.keys(h),{shapeFlag:_}=y;b.length&&_&7&&(s&&b.some(vb)&&(h=iI(h,s)),y=js(y,h,!1,!0))}return r.dirs&&(y=js(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(r.dirs):r.dirs),r.transition&&(y.transition=r.transition),p=y,Z0(v),p}const nI=e=>{let t;for(const r in e)(r==="class"||r==="style"||Lp(r))&&((t||(t={}))[r]=e[r]);return t},iI=(e,t)=>{const r={};for(const n in e)(!vb(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function sI(e,t,r){const{props:n,children:i,component:s}=e,{props:a,children:o,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?Ox(n,a,u):!!a;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(a[f]!==n[f]&&!Vp(u,f))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?Ox(n,a,u):!0:!!a;return!1}function Ox(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(t[s]!==e[s]&&!Vp(r,s))return!0}return!1}function aI({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const Mb="components";function oI(e,t){return QD(Mb,e,!0,t)||e}const GD=Symbol.for("v-ndc");function b7(e){return Dt(e)?QD(Mb,e,!1)||e:e||GD}function QD(e,t,r=!0,n=!1){const i=Nt||Zt;if(i){const s=i.type;if(e===Mb){const o=nm(s,!1);if(o&&(o===t||o===Hi(t)||o===Wp(Hi(t))))return s}const a=Mx(i[e]||s[e],t)||Mx(i.appContext[e],t);return!a&&n?s:a}}function Mx(e,t){return e&&(e[t]||e[Hi(t)]||e[Wp(Hi(t))])}const XD=e=>e.__isSuspense;function lI(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):eI(e)}const cI=Symbol.for("v-scx"),uI=()=>zr(cI);function dI(e,t){return Ib(e,null,t)}const Sf={};function Ve(e,t,r){return Ib(e,t,r)}function Ib(e,t,{immediate:r,deep:n,flush:i,once:s,onTrack:a,onTrigger:o}=pt){if(t&&s){const w=t;t=(...D)=>{w(...D),_()}}const l=Zt,u=w=>n===!0?w:Bo(w,n===!1?1:void 0);let c,d=!1,f=!1;if(Ht(e)?(c=()=>e.value,d=X0(e)):qo(e)?(c=()=>u(e),d=!0):ke(e)?(f=!0,d=e.some(w=>qo(w)||X0(w)),c=()=>e.map(w=>{if(Ht(w))return w.value;if(qo(w))return u(w);if(Me(w))return Ia(w,l,2)})):Me(e)?t?c=()=>Ia(e,l,2):c=()=>(g&&g(),Gn(e,l,3,[m])):c=hn,t&&n){const w=c;c=()=>Bo(w())}let g,m=w=>{g=y.onStop=()=>{Ia(w,l,4),g=y.onStop=void 0}},x;if(tg)if(m=hn,t?r&&Gn(t,l,3,[c(),f?[]:void 0,m]):c(),i==="sync"){const w=uI();x=w.__watcherHandles||(w.__watcherHandles=[])}else return hn;let v=f?new Array(e.length).fill(Sf):Sf;const p=()=>{if(!(!y.active||!y.dirty))if(t){const w=y.run();(n||d||(f?w.some((D,S)=>Qa(D,v[S])):Qa(w,v)))&&(g&&g(),Gn(t,l,3,[w,v===Sf?void 0:f&&v[0]===Sf?[]:v,m]),v=w)}else y.run()};p.allowRecurse=!!t;let h;i==="sync"?h=p:i==="post"?h=()=>or(p,l&&l.suspense):(p.pre=!0,l&&(p.id=l.uid),h=()=>Ob(p));const y=new xb(c,hn,h),b=_b(),_=()=>{y.stop(),b&&mb(b.effects,y)};return t?r?p():v=y.run():i==="post"?or(y.run.bind(y),l&&l.suspense):y.run(),x&&x.push(_),_}function fI(e,t,r){const n=this.proxy,i=Dt(e)?e.includes(".")?ZD(n,e):()=>n[e]:e.bind(n,n);let s;Me(t)?s=t:(s=t.handler,r=t);const a=Zd(this),o=Ib(i,s.bind(n),r);return a(),o}function ZD(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function Bo(e,t=1/0,r){if(t<=0||!vt(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,Ht(e))Bo(e.value,t,r);else if(ke(e))for(let n=0;n<e.length;n++)Bo(e[n],t,r);else if(yD(e)||oc(e))e.forEach(n=>{Bo(n,t,r)});else if(bD(e))for(const n in e)Bo(e[n],t,r);return e}function eA(e,t){if(Nt===null)return e;const r=rg(Nt)||Nt.proxy,n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,a,o,l=pt]=t[i];s&&(Me(s)&&(s={mounted:s,updated:s}),s.deep&&Bo(a),n.push({dir:s,instance:r,value:a,oldValue:void 0,arg:o,modifiers:l}))}return e}function fo(e,t,r,n){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[n];l&&(oo(),Gn(l,r,8,[e.el,o,e,t]),lo())}}const fa=Symbol("_leaveCb"),Df=Symbol("_enterCb");function tA(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ur(()=>{e.isMounted=!0}),Fr(()=>{e.isUnmounting=!0}),e}const Cn=[Function,Array],rA={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Cn,onEnter:Cn,onAfterEnter:Cn,onEnterCancelled:Cn,onBeforeLeave:Cn,onLeave:Cn,onAfterLeave:Cn,onLeaveCancelled:Cn,onBeforeAppear:Cn,onAppear:Cn,onAfterAppear:Cn,onAppearCancelled:Cn},hI={name:"BaseTransition",props:rA,setup(e,{slots:t}){const r=et(),n=tA();return()=>{const i=t.default&&Bb(t.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const f of i)if(f.type!==pn){s=f;break}}const a=Ie(e),{mode:o}=a;if(n.isLeaving)return Lg(s);const l=Ix(s);if(!l)return Lg(s);const u=Fd(l,a,n,r);Cc(l,u);const c=r.subTree,d=c&&Ix(c);if(d&&d.type!==pn&&!ya(l,d)){const f=Fd(d,a,n,r);if(Cc(d,f),o==="out-in"&&l.type!==pn)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&(r.effect.dirty=!0,r.update())},Lg(s);o==="in-out"&&l.type!==pn&&(f.delayLeave=(g,m,x)=>{const v=nA(n,d);v[String(d.key)]=d,g[fa]=()=>{m(),g[fa]=void 0,delete u.delayedLeave},u.delayedLeave=x})}return s}}},pI=hI;function nA(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function Fd(e,t,r,n){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:x,onAppear:v,onAfterAppear:p,onAppearCancelled:h}=t,y=String(e.key),b=nA(r,e),_=(S,A)=>{S&&Gn(S,n,9,A)},w=(S,A)=>{const k=A[1];_(S,A),ke(S)?S.every(C=>C.length<=1)&&k():S.length<=1&&k()},D={mode:s,persisted:a,beforeEnter(S){let A=o;if(!r.isMounted)if(i)A=x||o;else return;S[fa]&&S[fa](!0);const k=b[y];k&&ya(e,k)&&k.el[fa]&&k.el[fa](),_(A,[S])},enter(S){let A=l,k=u,C=c;if(!r.isMounted)if(i)A=v||l,k=p||u,C=h||c;else return;let E=!1;const M=S[Df]=I=>{E||(E=!0,I?_(C,[S]):_(k,[S]),D.delayedLeave&&D.delayedLeave(),S[Df]=void 0)};A?w(A,[S,M]):M()},leave(S,A){const k=String(e.key);if(S[Df]&&S[Df](!0),r.isUnmounting)return A();_(d,[S]);let C=!1;const E=S[fa]=M=>{C||(C=!0,A(),M?_(m,[S]):_(g,[S]),S[fa]=void 0,b[k]===e&&delete b[k])};b[k]=e,f?w(f,[S,E]):E()},clone(S){return Fd(S,t,r,n)}};return D}function Lg(e){if(Jp(e))return e=js(e),e.children=null,e}function Ix(e){if(!Jp(e))return e;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&Me(r.default))return r.default()}}function Cc(e,t){e.shapeFlag&6&&e.component?Cc(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Bb(e,t=!1,r){let n=[],i=0;for(let s=0;s<e.length;s++){let a=e[s];const o=r==null?a.key:String(r)+String(a.key!=null?a.key:s);a.type===dn?(a.patchFlag&128&&i++,n=n.concat(Bb(a.children,t,o))):(t||a.type!==pn)&&n.push(o!=null?js(a,{key:o}):a)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function zp(e,t){return Me(e)?(()=>Bt({name:e.name},t,{setup:e}))():e}const cc=e=>!!e.type.__asyncLoader,Jp=e=>e.type.__isKeepAlive,gI={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const r=et(),n=r.ctx;if(!n.renderer)return()=>{const h=t.default&&t.default();return h&&h.length===1?h[0]:h};const i=new Map,s=new Set;let a=null;const o=r.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=n,f=d("div");n.activate=(h,y,b,_,w)=>{const D=h.component;u(h,y,b,0,o),l(D.vnode,h,y,b,D,o,_,h.slotScopeIds,w),or(()=>{D.isDeactivated=!1,D.a&&Ku(D.a);const S=h.props&&h.props.onVnodeMounted;S&&Yn(S,D.parent,h)},o)},n.deactivate=h=>{const y=h.component;u(h,f,null,1,o),or(()=>{y.da&&Ku(y.da);const b=h.props&&h.props.onVnodeUnmounted;b&&Yn(b,y.parent,h),y.isDeactivated=!0},o)};function g(h){qg(h),c(h,r,o,!0)}function m(h){i.forEach((y,b)=>{const _=nm(y.type);_&&(!h||!h(_))&&x(b)})}function x(h){const y=i.get(h);!a||!ya(y,a)?g(y):a&&qg(a),i.delete(h),s.delete(h)}Ve(()=>[e.include,e.exclude],([h,y])=>{h&&m(b=>Nu(h,b)),y&&m(b=>!Nu(y,b))},{flush:"post",deep:!0});let v=null;const p=()=>{v!=null&&i.set(v,Wg(r.subTree))};return ur(p),Fb(p),Fr(()=>{i.forEach(h=>{const{subTree:y,suspense:b}=r,_=Wg(y);if(h.type===_.type&&h.key===_.key){qg(_);const w=_.component.da;w&&or(w,b);return}g(h)})}),()=>{if(v=null,!t.default)return null;const h=t.default(),y=h[0];if(h.length>1)return a=null,h;if(!Pd(y)||!(y.shapeFlag&4)&&!(y.shapeFlag&128))return a=null,y;let b=Wg(y);const _=b.type,w=nm(cc(b)?b.type.__asyncResolved||{}:_),{include:D,exclude:S,max:A}=e;if(D&&(!w||!Nu(D,w))||S&&w&&Nu(S,w))return a=b,y;const k=b.key==null?_:b.key,C=i.get(k);return b.el&&(b=js(b),y.shapeFlag&128&&(y.ssContent=b)),v=k,C?(b.el=C.el,b.component=C.component,b.transition&&Cc(b,b.transition),b.shapeFlag|=512,s.delete(k),s.add(k)):(s.add(k),A&&s.size>parseInt(A,10)&&x(s.values().next().value)),b.shapeFlag|=256,a=b,XD(y.type)?y:b}}},_7=gI;function Nu(e,t){return ke(e)?e.some(r=>Nu(r,t)):Dt(e)?e.split(",").includes(t):dM(e)?e.test(t):!1}function iA(e,t){sA(e,"a",t)}function Gp(e,t){sA(e,"da",t)}function sA(e,t,r=Zt){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Qp(t,n,r),r){let i=r.parent;for(;i&&i.parent;)Jp(i.parent.vnode)&&yI(n,t,r,i),i=i.parent}}function yI(e,t,r,n){const i=Qp(t,e,n,!0);Xp(()=>{mb(n[t],i)},r)}function qg(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Wg(e){return e.shapeFlag&128?e.ssContent:e}function Qp(e,t,r=Zt,n=!1){if(r){const i=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(r.isUnmounted)return;oo();const o=Zd(r),l=Gn(t,r,e,a);return o(),lo(),l});return n?i.unshift(s):i.push(s),s}}const Vs=e=>(t,r=Zt)=>(!tg||e==="sp")&&Qp(e,(...n)=>t(...n),r),vI=Vs("bm"),ur=Vs("m"),aA=Vs("bu"),Fb=Vs("u"),Fr=Vs("bum"),Xp=Vs("um"),mI=Vs("sp"),bI=Vs("rtg"),_I=Vs("rtc");function xI(e,t=Zt){Qp("ec",e,t)}function x7(e,t,r,n){let i;const s=r&&r[n];if(ke(e)||Dt(e)){i=new Array(e.length);for(let a=0,o=e.length;a<o;a++)i[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s&&s[a])}else if(vt(e))if(e[Symbol.iterator])i=Array.from(e,(a,o)=>t(a,o,void 0,s&&s[o]));else{const a=Object.keys(e);i=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const u=a[o];i[o]=t(e[u],u,o,s&&s[o])}}else i=[];return r&&(r[n]=i),i}function w7(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(ke(n))for(let i=0;i<n.length;i++)e[n[i].name]=n[i].fn;else n&&(e[n.name]=n.key?(...i)=>{const s=n.fn(...i);return s&&(s.key=n.key),s}:n.fn)}return e}function S7(e,t,r={},n,i){if(Nt.isCE||Nt.parent&&cc(Nt.parent)&&Nt.parent.isCE)return t!=="default"&&(r.name=t),Re("slot",r,n&&n());let s=e[t];s&&s._c&&(s._d=!1),fc();const a=s&&oA(s(r)),o=eg(dn,{key:r.key||a&&a.key||`_${t}`},a||(n?n():[]),a&&e._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function oA(e){return e.some(t=>Pd(t)?!(t.type===pn||t.type===dn&&!oA(t.children)):!0)?e:null}const Gv=e=>e?wA(e)?rg(e)||e.proxy:Gv(e.parent):null,Vu=Bt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Gv(e.parent),$root:e=>Gv(e.root),$emit:e=>e.emit,$options:e=>Tb(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Ob(e.update)}),$nextTick:e=>e.n||(e.n=vr.bind(e.proxy)),$watch:e=>fI.bind(e)}),jg=(e,t)=>e!==pt&&!e.__isScriptSetup&&Ye(e,t),wI={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:s,accessCache:a,type:o,appContext:l}=e;let u;if(t[0]!=="$"){const g=a[t];if(g!==void 0)switch(g){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return s[t]}else{if(jg(n,t))return a[t]=1,n[t];if(i!==pt&&Ye(i,t))return a[t]=2,i[t];if((u=e.propsOptions[0])&&Ye(u,t))return a[t]=3,s[t];if(r!==pt&&Ye(r,t))return a[t]=4,r[t];Qv&&(a[t]=0)}}const c=Vu[t];let d,f;if(c)return t==="$attrs"&&Jr(e.attrs,"get",""),c(e);if((d=o.__cssModules)&&(d=d[t]))return d;if(r!==pt&&Ye(r,t))return a[t]=4,r[t];if(f=l.config.globalProperties,Ye(f,t))return f[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:s}=e;return jg(i,t)?(i[t]=r,!0):n!==pt&&Ye(n,t)?(n[t]=r,!0):Ye(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:s}},a){let o;return!!r[a]||e!==pt&&Ye(e,a)||jg(t,a)||(o=s[0])&&Ye(o,a)||Ye(n,a)||Ye(Vu,a)||Ye(i.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Ye(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Bx(e){return ke(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let Qv=!0;function SI(e){const t=Tb(e),r=e.proxy,n=e.ctx;Qv=!1,t.beforeCreate&&Fx(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:g,updated:m,activated:x,deactivated:v,beforeDestroy:p,beforeUnmount:h,destroyed:y,unmounted:b,render:_,renderTracked:w,renderTriggered:D,errorCaptured:S,serverPrefetch:A,expose:k,inheritAttrs:C,components:E,directives:M,filters:I}=t;if(u&&DI(u,n,null),a)for(const V in a){const W=a[V];Me(W)&&(n[V]=W.bind(r))}if(i){const V=i.call(r,r);vt(V)&&(e.data=gi(V))}if(Qv=!0,s)for(const V in s){const W=s[V],U=Me(W)?W.bind(r,r):Me(W.get)?W.get.bind(r,r):hn,te=!Me(W)&&Me(W.set)?W.set.bind(r):hn,N=q({get:U,set:te});Object.defineProperty(n,V,{enumerable:!0,configurable:!0,get:()=>N.value,set:R=>N.value=R})}if(o)for(const V in o)lA(o[V],n,r,V);if(l){const V=Me(l)?l.call(r):l;Reflect.ownKeys(V).forEach(W=>{dc(W,V[W])})}c&&Fx(c,e,"c");function L(V,W){ke(W)?W.forEach(U=>V(U.bind(r))):W&&V(W.bind(r))}if(L(vI,d),L(ur,f),L(aA,g),L(Fb,m),L(iA,x),L(Gp,v),L(xI,S),L(_I,w),L(bI,D),L(Fr,h),L(Xp,b),L(mI,A),ke(k))if(k.length){const V=e.exposed||(e.exposed={});k.forEach(W=>{Object.defineProperty(V,W,{get:()=>r[W],set:U=>r[W]=U})})}else e.exposed||(e.exposed={});_&&e.render===hn&&(e.render=_),C!=null&&(e.inheritAttrs=C),E&&(e.components=E),M&&(e.directives=M)}function DI(e,t,r=hn){ke(e)&&(e=Xv(e));for(const n in e){const i=e[n];let s;vt(i)?"default"in i?s=zr(i.from||n,i.default,!0):s=zr(i.from||n):s=zr(i),Ht(s)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[n]=s}}function Fx(e,t,r){Gn(ke(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function lA(e,t,r,n){const i=n.includes(".")?ZD(r,n):()=>r[n];if(Dt(e)){const s=t[e];Me(s)&&Ve(i,s)}else if(Me(e))Ve(i,e.bind(r));else if(vt(e))if(ke(e))e.forEach(s=>lA(s,t,r,n));else{const s=Me(e.handler)?e.handler.bind(r):t[e.handler];Me(s)&&Ve(i,s,e)}}function Tb(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,o=s.get(t);let l;return o?l=o:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(u=>ep(l,u,a,!0)),ep(l,t,a)),vt(t)&&s.set(t,l),l}function ep(e,t,r,n=!1){const{mixins:i,extends:s}=t;s&&ep(e,s,r,!0),i&&i.forEach(a=>ep(e,a,r,!0));for(const a in t)if(!(n&&a==="expose")){const o=AI[a]||r&&r[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const AI={data:Tx,props:Px,emits:Px,methods:Lu,computed:Lu,beforeCreate:Cr,created:Cr,beforeMount:Cr,mounted:Cr,beforeUpdate:Cr,updated:Cr,beforeDestroy:Cr,beforeUnmount:Cr,destroyed:Cr,unmounted:Cr,activated:Cr,deactivated:Cr,errorCaptured:Cr,serverPrefetch:Cr,components:Lu,directives:Lu,watch:EI,provide:Tx,inject:kI};function Tx(e,t){return t?e?function(){return Bt(Me(e)?e.call(this,this):e,Me(t)?t.call(this,this):t)}:t:e}function kI(e,t){return Lu(Xv(e),Xv(t))}function Xv(e){if(ke(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Cr(e,t){return e?[...new Set([].concat(e,t))]:t}function Lu(e,t){return e?Bt(Object.create(null),e,t):t}function Px(e,t){return e?ke(e)&&ke(t)?[...new Set([...e,...t])]:Bt(Object.create(null),Bx(e),Bx(t!=null?t:{})):t}function EI(e,t){if(!e)return t;if(!t)return e;const r=Bt(Object.create(null),e);for(const n in t)r[n]=Cr(e[n],t[n]);return r}function cA(){return{app:null,config:{isNativeTag:cM,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let CI=0;function OI(e,t){return function(n,i=null){Me(n)||(n=Bt({},n)),i!=null&&!vt(i)&&(i=null);const s=cA(),a=new WeakSet;let o=!1;const l=s.app={_uid:CI++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:rB,get config(){return s.config},set config(u){},use(u,...c){return a.has(u)||(u&&Me(u.install)?(a.add(u),u.install(l,...c)):Me(u)&&(a.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!o){const f=Re(n,i);return f.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),c&&t?t(f,u):e(f,u,d),o=!0,l._container=u,u.__vue_app__=l,rg(f.component)||f.component.proxy}},unmount(){o&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){const c=uc;uc=l;try{return u()}finally{uc=c}}};return l}}let uc=null;function dc(e,t){if(Zt){let r=Zt.provides;const n=Zt.parent&&Zt.parent.provides;n===r&&(r=Zt.provides=Object.create(n)),r[e]=t}}function zr(e,t,r=!1){const n=Zt||Nt;if(n||uc){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:uc._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&Me(t)?t.call(n&&n.proxy):t}}function MI(){return!!(Zt||Nt||uc)}const uA={},dA=()=>Object.create(uA),fA=e=>Object.getPrototypeOf(e)===uA;function II(e,t,r,n=!1){const i={},s=dA();e.propsDefaults=Object.create(null),hA(e,t,i,s);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);r?e.props=n?i:ND(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function BI(e,t,r,n){const{props:i,attrs:s,vnode:{patchFlag:a}}=e,o=Ie(i),[l]=e.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Vp(e.emitsOptions,f))continue;const g=t[f];if(l)if(Ye(s,f))g!==s[f]&&(s[f]=g,u=!0);else{const m=Hi(f);i[m]=Zv(l,o,m,g,e,!1)}else g!==s[f]&&(s[f]=g,u=!0)}}}else{hA(e,t,i,s)&&(u=!0);let c;for(const d in o)(!t||!Ye(t,d)&&((c=gl(d))===d||!Ye(t,c)))&&(l?r&&(r[d]!==void 0||r[c]!==void 0)&&(i[d]=Zv(l,o,d,void 0,e,!0)):delete i[d]);if(s!==o)for(const d in s)(!t||!Ye(t,d)&&!0)&&(delete s[d],u=!0)}u&&bs(e.attrs,"set","")}function hA(e,t,r,n){const[i,s]=e.propsOptions;let a=!1,o;if(t)for(let l in t){if(Hu(l))continue;const u=t[l];let c;i&&Ye(i,c=Hi(l))?!s||!s.includes(c)?r[c]=u:(o||(o={}))[c]=u:Vp(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,a=!0)}if(s){const l=Ie(r),u=o||pt;for(let c=0;c<s.length;c++){const d=s[c];r[d]=Zv(i,l,d,u[d],e,!Ye(u,d))}}return a}function Zv(e,t,r,n,i,s){const a=e[r];if(a!=null){const o=Ye(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Me(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const c=Zd(i);n=u[r]=l.call(null,t),c()}}else n=l}a[0]&&(s&&!o?n=!1:a[1]&&(n===""||n===gl(r))&&(n=!0))}return n}function pA(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const s=e.props,a={},o=[];let l=!1;if(!Me(e)){const c=d=>{l=!0;const[f,g]=pA(d,t,!0);Bt(a,f),g&&o.push(...g)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return vt(e)&&n.set(e,ac),ac;if(ke(s))for(let c=0;c<s.length;c++){const d=Hi(s[c]);Rx(d)&&(a[d]=pt)}else if(s)for(const c in s){const d=Hi(c);if(Rx(d)){const f=s[c],g=a[d]=ke(f)||Me(f)?{type:f}:Bt({},f);if(g){const m=Lx(Boolean,g.type),x=Lx(String,g.type);g[0]=m>-1,g[1]=x<0||m<x,(m>-1||Ye(g,"default"))&&o.push(d)}}}const u=[a,o];return vt(e)&&n.set(e,u),u}function Rx(e){return e[0]!=="$"&&!Hu(e)}function $x(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Nx(e,t){return $x(e)===$x(t)}function Lx(e,t){return ke(t)?t.findIndex(r=>Nx(r,e)):Me(t)&&Nx(t,e)?0:-1}const gA=e=>e[0]==="_"||e==="$stable",Pb=e=>ke(e)?e.map(Bi):[Bi(e)],FI=(e,t,r)=>{if(t._n)return t;const n=Xt((...i)=>Pb(t(...i)),r);return n._c=!1,n},yA=(e,t,r)=>{const n=e._ctx;for(const i in e){if(gA(i))continue;const s=e[i];if(Me(s))t[i]=FI(i,s,n);else if(s!=null){const a=Pb(s);t[i]=()=>a}}},vA=(e,t)=>{const r=Pb(t);e.slots.default=()=>r},TI=(e,t)=>{const r=e.slots=dA();if(e.vnode.shapeFlag&32){const n=t._;n?(Bt(r,t),_D(r,"_",n,!0)):yA(t,r)}else t&&vA(e,t)},PI=(e,t,r)=>{const{vnode:n,slots:i}=e;let s=!0,a=pt;if(n.shapeFlag&32){const o=t._;o?r&&o===1?s=!1:(Bt(i,t),!r&&o===1&&delete i._):(s=!t.$stable,yA(t,i)),a=t}else t&&(vA(e,t),a={default:1});if(s)for(const o in i)!gA(o)&&a[o]==null&&delete i[o]};function em(e,t,r,n,i=!1){if(ke(e)){e.forEach((f,g)=>em(f,t&&(ke(t)?t[g]:t),r,n,i));return}if(cc(n)&&!i)return;const s=n.shapeFlag&4?rg(n.component)||n.component.proxy:n.el,a=i?null:s,{i:o,r:l}=e,u=t&&t.r,c=o.refs===pt?o.refs={}:o.refs,d=o.setupState;if(u!=null&&u!==l&&(Dt(u)?(c[u]=null,Ye(d,u)&&(d[u]=null)):Ht(u)&&(u.value=null)),Me(l))Ia(l,o,12,[a,c]);else{const f=Dt(l),g=Ht(l);if(f||g){const m=()=>{if(e.f){const x=f?Ye(d,l)?d[l]:c[l]:l.value;i?ke(x)&&mb(x,s):ke(x)?x.includes(s)||x.push(s):f?(c[l]=[s],Ye(d,l)&&(d[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else f?(c[l]=a,Ye(d,l)&&(d[l]=a)):g&&(l.value=a,e.k&&(c[e.k]=a))};a?(m.id=-1,or(m,r)):m()}}}const or=lI;function RI(e){return $I(e)}function $I(e,t){const r=xD();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:g=hn,insertStaticContent:m}=e,x=(F,T,Y,X=null,Q=null,oe=null,ue=void 0,se=null,ae=!!T.dynamicChildren)=>{if(F===T)return;F&&!ya(F,T)&&(X=j(F),R(F,Q,oe,!0),F=null),T.patchFlag===-2&&(ae=!1,T.dynamicChildren=null);const{type:ee,ref:de,shapeFlag:_e}=T;switch(ee){case Zp:v(F,T,Y,X);break;case pn:p(F,T,Y,X);break;case Hg:F==null&&h(T,Y,X,ue);break;case dn:E(F,T,Y,X,Q,oe,ue,se,ae);break;default:_e&1?_(F,T,Y,X,Q,oe,ue,se,ae):_e&6?M(F,T,Y,X,Q,oe,ue,se,ae):(_e&64||_e&128)&&ee.process(F,T,Y,X,Q,oe,ue,se,ae,ge)}de!=null&&Q&&em(de,F&&F.ref,oe,T||F,!T)},v=(F,T,Y,X)=>{if(F==null)n(T.el=o(T.children),Y,X);else{const Q=T.el=F.el;T.children!==F.children&&u(Q,T.children)}},p=(F,T,Y,X)=>{F==null?n(T.el=l(T.children||""),Y,X):T.el=F.el},h=(F,T,Y,X)=>{[F.el,F.anchor]=m(F.children,T,Y,X,F.el,F.anchor)},y=({el:F,anchor:T},Y,X)=>{let Q;for(;F&&F!==T;)Q=f(F),n(F,Y,X),F=Q;n(T,Y,X)},b=({el:F,anchor:T})=>{let Y;for(;F&&F!==T;)Y=f(F),i(F),F=Y;i(T)},_=(F,T,Y,X,Q,oe,ue,se,ae)=>{T.type==="svg"?ue="svg":T.type==="math"&&(ue="mathml"),F==null?w(T,Y,X,Q,oe,ue,se,ae):A(F,T,Q,oe,ue,se,ae)},w=(F,T,Y,X,Q,oe,ue,se)=>{let ae,ee;const{props:de,shapeFlag:_e,transition:be,dirs:Ae}=F;if(ae=F.el=a(F.type,oe,de&&de.is,de),_e&8?c(ae,F.children):_e&16&&S(F.children,ae,null,X,Q,Yg(F,oe),ue,se),Ae&&fo(F,null,X,"created"),D(ae,F,F.scopeId,ue,X),de){for(const ze in de)ze!=="value"&&!Hu(ze)&&s(ae,ze,null,de[ze],oe,F.children,X,Q,ne);"value"in de&&s(ae,"value",null,de.value,oe),(ee=de.onVnodeBeforeMount)&&Yn(ee,X,F)}Ae&&fo(F,null,X,"beforeMount");const Be=NI(Q,be);Be&&be.beforeEnter(ae),n(ae,T,Y),((ee=de&&de.onVnodeMounted)||Be||Ae)&&or(()=>{ee&&Yn(ee,X,F),Be&&be.enter(ae),Ae&&fo(F,null,X,"mounted")},Q)},D=(F,T,Y,X,Q)=>{if(Y&&g(F,Y),X)for(let oe=0;oe<X.length;oe++)g(F,X[oe]);if(Q){let oe=Q.subTree;if(T===oe){const ue=Q.vnode;D(F,ue,ue.scopeId,ue.slotScopeIds,Q.parent)}}},S=(F,T,Y,X,Q,oe,ue,se,ae=0)=>{for(let ee=ae;ee<F.length;ee++){const de=F[ee]=se?ha(F[ee]):Bi(F[ee]);x(null,de,T,Y,X,Q,oe,ue,se)}},A=(F,T,Y,X,Q,oe,ue)=>{const se=T.el=F.el;let{patchFlag:ae,dynamicChildren:ee,dirs:de}=T;ae|=F.patchFlag&16;const _e=F.props||pt,be=T.props||pt;let Ae;if(Y&&ho(Y,!1),(Ae=be.onVnodeBeforeUpdate)&&Yn(Ae,Y,T,F),de&&fo(T,F,Y,"beforeUpdate"),Y&&ho(Y,!0),ee?k(F.dynamicChildren,ee,se,Y,X,Yg(T,Q),oe):ue||W(F,T,se,null,Y,X,Yg(T,Q),oe,!1),ae>0){if(ae&16)C(se,T,_e,be,Y,X,Q);else if(ae&2&&_e.class!==be.class&&s(se,"class",null,be.class,Q),ae&4&&s(se,"style",_e.style,be.style,Q),ae&8){const Be=T.dynamicProps;for(let ze=0;ze<Be.length;ze++){const lt=Be[ze],Et=_e[lt],Vt=be[lt];(Vt!==Et||lt==="value")&&s(se,lt,Et,Vt,Q,F.children,Y,X,ne)}}ae&1&&F.children!==T.children&&c(se,T.children)}else!ue&&ee==null&&C(se,T,_e,be,Y,X,Q);((Ae=be.onVnodeUpdated)||de)&&or(()=>{Ae&&Yn(Ae,Y,T,F),de&&fo(T,F,Y,"updated")},X)},k=(F,T,Y,X,Q,oe,ue)=>{for(let se=0;se<T.length;se++){const ae=F[se],ee=T[se],de=ae.el&&(ae.type===dn||!ya(ae,ee)||ae.shapeFlag&70)?d(ae.el):Y;x(ae,ee,de,null,X,Q,oe,ue,!0)}},C=(F,T,Y,X,Q,oe,ue)=>{if(Y!==X){if(Y!==pt)for(const se in Y)!Hu(se)&&!(se in X)&&s(F,se,Y[se],null,ue,T.children,Q,oe,ne);for(const se in X){if(Hu(se))continue;const ae=X[se],ee=Y[se];ae!==ee&&se!=="value"&&s(F,se,ee,ae,ue,T.children,Q,oe,ne)}"value"in X&&s(F,"value",Y.value,X.value,ue)}},E=(F,T,Y,X,Q,oe,ue,se,ae)=>{const ee=T.el=F?F.el:o(""),de=T.anchor=F?F.anchor:o("");let{patchFlag:_e,dynamicChildren:be,slotScopeIds:Ae}=T;Ae&&(se=se?se.concat(Ae):Ae),F==null?(n(ee,Y,X),n(de,Y,X),S(T.children||[],Y,de,Q,oe,ue,se,ae)):_e>0&&_e&64&&be&&F.dynamicChildren?(k(F.dynamicChildren,be,Y,Q,oe,ue,se),(T.key!=null||Q&&T===Q.subTree)&&Rb(F,T,!0)):W(F,T,Y,de,Q,oe,ue,se,ae)},M=(F,T,Y,X,Q,oe,ue,se,ae)=>{T.slotScopeIds=se,F==null?T.shapeFlag&512?Q.ctx.activate(T,Y,X,ue,ae):I(T,Y,X,Q,oe,ue,ae):P(F,T,ae)},I=(F,T,Y,X,Q,oe,ue)=>{const se=F.component=GI(F,X,Q);if(Jp(F)&&(se.ctx.renderer=ge),QI(se),se.asyncDep){if(Q&&Q.registerDep(se,L),!F.el){const ae=se.subTree=Re(pn);p(null,ae,T,Y)}}else L(se,F,T,Y,Q,oe,ue)},P=(F,T,Y)=>{const X=T.component=F.component;if(sI(F,T,Y))if(X.asyncDep&&!X.asyncResolved){V(X,T,Y);return}else X.next=T,ZM(X.update),X.effect.dirty=!0,X.update();else T.el=F.el,X.vnode=T},L=(F,T,Y,X,Q,oe,ue)=>{const se=()=>{if(F.isMounted){let{next:de,bu:_e,u:be,parent:Ae,vnode:Be}=F;{const kn=mA(F);if(kn){de&&(de.el=Be.el,V(F,de,ue)),kn.asyncDep.then(()=>{F.isUnmounted||se()});return}}let ze=de,lt;ho(F,!1),de?(de.el=Be.el,V(F,de,ue)):de=Be,_e&&Ku(_e),(lt=de.props&&de.props.onVnodeBeforeUpdate)&&Yn(lt,Ae,de,Be),ho(F,!0);const Et=Ng(F),Vt=F.subTree;F.subTree=Et,x(Vt,Et,d(Vt.el),j(Vt),F,Q,oe),de.el=Et.el,ze===null&&aI(F,Et.el),be&&or(be,Q),(lt=de.props&&de.props.onVnodeUpdated)&&or(()=>Yn(lt,Ae,de,Be),Q)}else{let de;const{el:_e,props:be}=T,{bm:Ae,m:Be,parent:ze}=F,lt=cc(T);if(ho(F,!1),Ae&&Ku(Ae),!lt&&(de=be&&be.onVnodeBeforeMount)&&Yn(de,ze,T),ho(F,!0),_e&&Ue){const Et=()=>{F.subTree=Ng(F),Ue(_e,F.subTree,F,Q,null)};lt?T.type.__asyncLoader().then(()=>!F.isUnmounted&&Et()):Et()}else{const Et=F.subTree=Ng(F);x(null,Et,Y,X,F,Q,oe),T.el=Et.el}if(Be&&or(Be,Q),!lt&&(de=be&&be.onVnodeMounted)){const Et=T;or(()=>Yn(de,ze,Et),Q)}(T.shapeFlag&256||ze&&cc(ze.vnode)&&ze.vnode.shapeFlag&256)&&F.a&&or(F.a,Q),F.isMounted=!0,T=Y=X=null}},ae=F.effect=new xb(se,hn,()=>Ob(ee),F.scope),ee=F.update=()=>{ae.dirty&&ae.run()};ee.id=F.uid,ho(F,!0),ee()},V=(F,T,Y)=>{T.component=F;const X=F.vnode.props;F.vnode=T,F.next=null,BI(F,T.props,X,Y),PI(F,T.children,Y),oo(),Cx(F),lo()},W=(F,T,Y,X,Q,oe,ue,se,ae=!1)=>{const ee=F&&F.children,de=F?F.shapeFlag:0,_e=T.children,{patchFlag:be,shapeFlag:Ae}=T;if(be>0){if(be&128){te(ee,_e,Y,X,Q,oe,ue,se,ae);return}else if(be&256){U(ee,_e,Y,X,Q,oe,ue,se,ae);return}}Ae&8?(de&16&&ne(ee,Q,oe),_e!==ee&&c(Y,_e)):de&16?Ae&16?te(ee,_e,Y,X,Q,oe,ue,se,ae):ne(ee,Q,oe,!0):(de&8&&c(Y,""),Ae&16&&S(_e,Y,X,Q,oe,ue,se,ae))},U=(F,T,Y,X,Q,oe,ue,se,ae)=>{F=F||ac,T=T||ac;const ee=F.length,de=T.length,_e=Math.min(ee,de);let be;for(be=0;be<_e;be++){const Ae=T[be]=ae?ha(T[be]):Bi(T[be]);x(F[be],Ae,Y,null,Q,oe,ue,se,ae)}ee>de?ne(F,Q,oe,!0,!1,_e):S(T,Y,X,Q,oe,ue,se,ae,_e)},te=(F,T,Y,X,Q,oe,ue,se,ae)=>{let ee=0;const de=T.length;let _e=F.length-1,be=de-1;for(;ee<=_e&&ee<=be;){const Ae=F[ee],Be=T[ee]=ae?ha(T[ee]):Bi(T[ee]);if(ya(Ae,Be))x(Ae,Be,Y,null,Q,oe,ue,se,ae);else break;ee++}for(;ee<=_e&&ee<=be;){const Ae=F[_e],Be=T[be]=ae?ha(T[be]):Bi(T[be]);if(ya(Ae,Be))x(Ae,Be,Y,null,Q,oe,ue,se,ae);else break;_e--,be--}if(ee>_e){if(ee<=be){const Ae=be+1,Be=Ae<de?T[Ae].el:X;for(;ee<=be;)x(null,T[ee]=ae?ha(T[ee]):Bi(T[ee]),Y,Be,Q,oe,ue,se,ae),ee++}}else if(ee>be)for(;ee<=_e;)R(F[ee],Q,oe,!0),ee++;else{const Ae=ee,Be=ee,ze=new Map;for(ee=Be;ee<=be;ee++){const _r=T[ee]=ae?ha(T[ee]):Bi(T[ee]);_r.key!=null&&ze.set(_r.key,ee)}let lt,Et=0;const Vt=be-Be+1;let kn=!1,vf=0;const Gs=new Array(Vt);for(ee=0;ee<Vt;ee++)Gs[ee]=0;for(ee=Ae;ee<=_e;ee++){const _r=F[ee];if(Et>=Vt){R(_r,Q,oe,!0);continue}let En;if(_r.key!=null)En=ze.get(_r.key);else for(lt=Be;lt<=be;lt++)if(Gs[lt-Be]===0&&ya(_r,T[lt])){En=lt;break}En===void 0?R(_r,Q,oe,!0):(Gs[En-Be]=ee+1,En>=vf?vf=En:kn=!0,x(_r,T[En],Y,null,Q,oe,ue,se,ae),Et++)}const Uc=kn?LI(Gs):ac;for(lt=Uc.length-1,ee=Vt-1;ee>=0;ee--){const _r=Be+ee,En=T[_r],zc=_r+1<de?T[_r+1].el:X;Gs[ee]===0?x(null,En,Y,zc,Q,oe,ue,se,ae):kn&&(lt<0||ee!==Uc[lt]?N(En,Y,zc,2):lt--)}}},N=(F,T,Y,X,Q=null)=>{const{el:oe,type:ue,transition:se,children:ae,shapeFlag:ee}=F;if(ee&6){N(F.component.subTree,T,Y,X);return}if(ee&128){F.suspense.move(T,Y,X);return}if(ee&64){ue.move(F,T,Y,ge);return}if(ue===dn){n(oe,T,Y);for(let _e=0;_e<ae.length;_e++)N(ae[_e],T,Y,X);n(F.anchor,T,Y);return}if(ue===Hg){y(F,T,Y);return}if(X!==2&&ee&1&&se)if(X===0)se.beforeEnter(oe),n(oe,T,Y),or(()=>se.enter(oe),Q);else{const{leave:_e,delayLeave:be,afterLeave:Ae}=se,Be=()=>n(oe,T,Y),ze=()=>{_e(oe,()=>{Be(),Ae&&Ae()})};be?be(oe,Be,ze):ze()}else n(oe,T,Y)},R=(F,T,Y,X=!1,Q=!1)=>{const{type:oe,props:ue,ref:se,children:ae,dynamicChildren:ee,shapeFlag:de,patchFlag:_e,dirs:be}=F;if(se!=null&&em(se,null,Y,F,!0),de&256){T.ctx.deactivate(F);return}const Ae=de&1&&be,Be=!cc(F);let ze;if(Be&&(ze=ue&&ue.onVnodeBeforeUnmount)&&Yn(ze,T,F),de&6)Ee(F.component,Y,X);else{if(de&128){F.suspense.unmount(Y,X);return}Ae&&fo(F,null,T,"beforeUnmount"),de&64?F.type.remove(F,T,Y,Q,ge,X):ee&&(oe!==dn||_e>0&&_e&64)?ne(ee,T,Y,!1,!0):(oe===dn&&_e&384||!Q&&de&16)&&ne(ae,T,Y),X&&H(F)}(Be&&(ze=ue&&ue.onVnodeUnmounted)||Ae)&&or(()=>{ze&&Yn(ze,T,F),Ae&&fo(F,null,T,"unmounted")},Y)},H=F=>{const{type:T,el:Y,anchor:X,transition:Q}=F;if(T===dn){K(Y,X);return}if(T===Hg){b(F);return}const oe=()=>{i(Y),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(F.shapeFlag&1&&Q&&!Q.persisted){const{leave:ue,delayLeave:se}=Q,ae=()=>ue(Y,oe);se?se(F.el,oe,ae):ae()}else oe()},K=(F,T)=>{let Y;for(;F!==T;)Y=f(F),i(F),F=Y;i(T)},Ee=(F,T,Y)=>{const{bum:X,scope:Q,update:oe,subTree:ue,um:se}=F;X&&Ku(X),Q.stop(),oe&&(oe.active=!1,R(ue,F,T,Y)),se&&or(se,T),or(()=>{F.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},ne=(F,T,Y,X=!1,Q=!1,oe=0)=>{for(let ue=oe;ue<F.length;ue++)R(F[ue],T,Y,X,Q)},j=F=>F.shapeFlag&6?j(F.component.subTree):F.shapeFlag&128?F.suspense.next():f(F.anchor||F.el);let Z=!1;const ce=(F,T,Y)=>{F==null?T._vnode&&R(T._vnode,null,null,!0):x(T._vnode||null,F,T,null,null,null,Y),Z||(Z=!0,Cx(),UD(),Z=!1),T._vnode=F},ge={p:x,um:R,m:N,r:H,mt:I,mc:S,pc:W,pbc:k,n:j,o:e};let We,Ue;return t&&([We,Ue]=t(ge)),{render:ce,hydrate:We,createApp:OI(ce,We)}}function Yg({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function ho({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function NI(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Rb(e,t,r=!1){const n=e.children,i=t.children;if(ke(n)&&ke(i))for(let s=0;s<n.length;s++){const a=n[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=ha(i[s]),o.el=a.el),r||Rb(a,o)),o.type===Zp&&(o.el=a.el)}}function LI(e){const t=e.slice(),r=[0];let n,i,s,a,o;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(s=0,a=r.length-1;s<a;)o=s+a>>1,e[r[o]]<u?s=o+1:a=o;u<e[r[s]]&&(s>0&&(t[n]=r[s-1]),r[s]=n)}}for(s=r.length,a=r[s-1];s-- >0;)r[s]=a,a=t[a];return r}function mA(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:mA(t)}const qI=e=>e.__isTeleport,Uu=e=>e&&(e.disabled||e.disabled===""),qx=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,Wx=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,tm=(e,t)=>{const r=e&&e.to;return Dt(r)?t?t(r):null:r},WI={name:"Teleport",__isTeleport:!0,process(e,t,r,n,i,s,a,o,l,u){const{mc:c,pc:d,pbc:f,o:{insert:g,querySelector:m,createText:x,createComment:v}}=u,p=Uu(t.props);let{shapeFlag:h,children:y,dynamicChildren:b}=t;if(e==null){const _=t.el=x(""),w=t.anchor=x("");g(_,r,n),g(w,r,n);const D=t.target=tm(t.props,m),S=t.targetAnchor=x("");D&&(g(S,D),a==="svg"||qx(D)?a="svg":(a==="mathml"||Wx(D))&&(a="mathml"));const A=(k,C)=>{h&16&&c(y,k,C,i,s,a,o,l)};p?A(r,w):D&&A(D,S)}else{t.el=e.el;const _=t.anchor=e.anchor,w=t.target=e.target,D=t.targetAnchor=e.targetAnchor,S=Uu(e.props),A=S?r:w,k=S?_:D;if(a==="svg"||qx(w)?a="svg":(a==="mathml"||Wx(w))&&(a="mathml"),b?(f(e.dynamicChildren,b,A,i,s,a,o),Rb(e,t,!0)):l||d(e,t,A,k,i,s,a,o,!1),p)S?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Af(t,r,_,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const C=t.target=tm(t.props,m);C&&Af(t,C,null,u,0)}else S&&Af(t,w,D,u,1)}bA(t)},remove(e,t,r,n,{um:i,o:{remove:s}},a){const{shapeFlag:o,children:l,anchor:u,targetAnchor:c,target:d,props:f}=e;if(d&&s(c),a&&s(u),o&16){const g=a||!Uu(f);for(let m=0;m<l.length;m++){const x=l[m];i(x,t,r,g,!!x.dynamicChildren)}}},move:Af,hydrate:jI};function Af(e,t,r,{o:{insert:n},m:i},s=2){s===0&&n(e.targetAnchor,t,r);const{el:a,anchor:o,shapeFlag:l,children:u,props:c}=e,d=s===2;if(d&&n(a,t,r),(!d||Uu(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],t,r,2);d&&n(o,t,r)}function jI(e,t,r,n,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},u){const c=t.target=tm(t.props,l);if(c){const d=c._lpa||c.firstChild;if(t.shapeFlag&16)if(Uu(t.props))t.anchor=u(a(e),t,o(e),r,n,i,s),t.targetAnchor=d;else{t.anchor=a(e);let f=d;for(;f;)if(f=a(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,c._lpa=t.targetAnchor&&a(t.targetAnchor);break}u(d,t,c,r,n,i,s)}bA(t)}return t.anchor&&a(t.anchor)}const YI=WI;function bA(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r&&r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const dn=Symbol.for("v-fgt"),Zp=Symbol.for("v-txt"),pn=Symbol.for("v-cmt"),Hg=Symbol.for("v-stc"),zu=[];let yi=null;function fc(e=!1){zu.push(yi=e?null:[])}function HI(){zu.pop(),yi=zu[zu.length-1]||null}let Td=1;function jx(e){Td+=e}function _A(e){return e.dynamicChildren=Td>0?yi||ac:null,HI(),Td>0&&yi&&yi.push(e),e}function Yx(e,t,r,n,i,s){return _A($i(e,t,r,n,i,s,!0))}function eg(e,t,r,n,i){return _A(Re(e,t,r,n,i,!0))}function Pd(e){return e?e.__v_isVNode===!0:!1}function ya(e,t){return e.type===t.type&&e.key===t.key}const xA=({key:e})=>e!=null?e:null,w0=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Dt(e)||Ht(e)||Me(e)?{i:Nt,r:e,k:t,f:!!r}:e:null);function $i(e,t=null,r=null,n=0,i=null,s=e===dn?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xA(t),ref:t&&w0(t),scopeId:Up,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Nt};return o?($b(l,r),s&128&&e.normalize(l)):r&&(l.shapeFlag|=Dt(r)?8:16),Td>0&&!a&&yi&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&yi.push(l),l}const Re=KI;function KI(e,t=null,r=null,n=0,i=null,s=!1){if((!e||e===GD)&&(e=pn),Pd(e)){const o=js(e,t,!0);return r&&$b(o,r),Td>0&&!s&&yi&&(o.shapeFlag&6?yi[yi.indexOf(e)]=o:yi.push(o)),o.patchFlag|=-2,o}if(tB(e)&&(e=e.__vccOpts),t){t=VI(t);let{class:o,style:l}=t;o&&!Dt(o)&&(t.class=Yp(o)),vt(l)&&(qD(l)&&!ke(l)&&(l=Bt({},l)),t.style=jp(l))}const a=Dt(e)?1:XD(e)?128:qI(e)?64:vt(e)?4:Me(e)?2:0;return $i(e,t,r,n,i,a,s,!0)}function VI(e){return e?qD(e)||fA(e)?Bt({},e):e:null}function js(e,t,r=!1,n=!1){const{props:i,ref:s,patchFlag:a,children:o,transition:l}=e,u=t?UI(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&xA(u),ref:t&&t.ref?r&&s?ke(s)?s.concat(w0(t)):[s,w0(t)]:w0(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==dn?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&js(e.ssContent),ssFallback:e.ssFallback&&js(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&(c.transition=l.clone(c)),c}function tp(e=" ",t=0){return Re(Zp,null,e,t)}function D7(e="",t=!1){return t?(fc(),eg(pn,null,e)):Re(pn,null,e)}function Bi(e){return e==null||typeof e=="boolean"?Re(pn):ke(e)?Re(dn,null,e.slice()):typeof e=="object"?ha(e):Re(Zp,null,String(e))}function ha(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:js(e)}function $b(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ke(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),$b(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!fA(t)?t._ctx=Nt:i===3&&Nt&&(Nt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Me(t)?(t={default:t,_ctx:Nt},r=32):(t=String(t),n&64?(r=16,t=[tp(t)]):r=8);e.children=t,e.shapeFlag|=r}function UI(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Yp([t.class,n.class]));else if(i==="style")t.style=jp([t.style,n.style]);else if(Lp(i)){const s=t[i],a=n[i];a&&s!==a&&!(ke(s)&&s.includes(a))&&(t[i]=s?[].concat(s,a):a)}else i!==""&&(t[i]=n[i])}return t}function Yn(e,t,r,n=null){Gn(e,t,7,[r,n])}const zI=cA();let JI=0;function GI(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||zI,s={uid:JI++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new DD(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pA(n,i),emitsOptions:JD(n,i),emit:null,emitted:null,propsDefaults:pt,inheritAttrs:n.inheritAttrs,ctx:pt,data:pt,props:pt,attrs:pt,slots:pt,refs:pt,setupState:pt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=rI.bind(null,s),e.ce&&e.ce(s),s}let Zt=null;const et=()=>Zt||Nt;let rp,rm;{const e=xD(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};rp=t("__VUE_INSTANCE_SETTERS__",r=>Zt=r),rm=t("__VUE_SSR_SETTERS__",r=>tg=r)}const Zd=e=>{const t=Zt;return rp(e),e.scope.on(),()=>{e.scope.off(),rp(t)}},Hx=()=>{Zt&&Zt.scope.off(),rp(null)};function wA(e){return e.vnode.shapeFlag&4}let tg=!1;function QI(e,t=!1){t&&rm(t);const{props:r,children:n}=e.vnode,i=wA(e);II(e,r,i,t),TI(e,n);const s=i?XI(e,t):void 0;return t&&rm(!1),s}function XI(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,wI);const{setup:n}=r;if(n){const i=e.setupContext=n.length>1?eB(e):null,s=Zd(e);oo();const a=Ia(n,e,0,[e.props,i]);if(lo(),s(),vD(a)){if(a.then(Hx,Hx),t)return a.then(o=>{Kx(e,o,t)}).catch(o=>{Kp(o,e,0)});e.asyncDep=a}else Kx(e,a,t)}else SA(e,t)}function Kx(e,t,r){Me(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:vt(t)&&(e.setupState=HD(t)),SA(e,r)}let Vx;function SA(e,t,r){const n=e.type;if(!e.render){if(!t&&Vx&&!n.render){const i=n.template||Tb(e).template;if(i){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:o,compilerOptions:l}=n,u=Bt(Bt({isCustomElement:s,delimiters:o},a),l);n.render=Vx(i,u)}}e.render=n.render||hn}{const i=Zd(e);oo();try{SI(e)}finally{lo(),i()}}}const ZI={get(e,t){return Jr(e,"get",""),e[t]}};function eB(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,ZI),slots:e.slots,emit:e.emit,expose:t}}function rg(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(HD(yl(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Vu)return Vu[r](e)},has(t,r){return r in t||r in Vu}}))}function nm(e,t=!0){return Me(e)?e.displayName||e.name:e.name||t&&e.__name}function tB(e){return Me(e)&&"__vccOpts"in e}const q=(e,t)=>HM(e,t,tg);function $(e,t,r){const n=arguments.length;return n===2?vt(t)&&!ke(t)?Pd(t)?Re(e,null,[t]):Re(e,t):Re(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Pd(r)&&(r=[r]),Re(e,t,r))}const rB="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const nB="http://www.w3.org/2000/svg",iB="http://www.w3.org/1998/Math/MathML",pa=typeof document!="undefined"?document:null,Ux=pa&&pa.createElement("template"),sB={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?pa.createElementNS(nB,e):t==="mathml"?pa.createElementNS(iB,e):pa.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>pa.createTextNode(e),createComment:e=>pa.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>pa.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,s){const a=r?r.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{Ux.innerHTML=n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e;const o=Ux.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Zs="transition",Jc="animation",Oc=Symbol("_vtc"),Xa=(e,{slots:t})=>$(pI,AA(e),t);Xa.displayName="Transition";const DA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},aB=Xa.props=Bt({},rA,DA),po=(e,t=[])=>{ke(e)?e.forEach(r=>r(...t)):e&&e(...t)},zx=e=>e?ke(e)?e.some(t=>t.length>1):e.length>1:!1;function AA(e){const t={};for(const E in e)E in DA||(t[E]=e[E]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:s=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:c=o,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:g=`${r}-leave-to`}=e,m=oB(i),x=m&&m[0],v=m&&m[1],{onBeforeEnter:p,onEnter:h,onEnterCancelled:y,onLeave:b,onLeaveCancelled:_,onBeforeAppear:w=p,onAppear:D=h,onAppearCancelled:S=y}=t,A=(E,M,I)=>{la(E,M?c:o),la(E,M?u:a),I&&I()},k=(E,M)=>{E._isLeaving=!1,la(E,d),la(E,g),la(E,f),M&&M()},C=E=>(M,I)=>{const P=E?D:h,L=()=>A(M,E,I);po(P,[M,L]),Jx(()=>{la(M,E?l:s),cs(M,E?c:o),zx(P)||Gx(M,n,x,L)})};return Bt(t,{onBeforeEnter(E){po(p,[E]),cs(E,s),cs(E,a)},onBeforeAppear(E){po(w,[E]),cs(E,l),cs(E,u)},onEnter:C(!1),onAppear:C(!0),onLeave(E,M){E._isLeaving=!0;const I=()=>k(E,M);cs(E,d),cs(E,f),EA(),Jx(()=>{!E._isLeaving||(la(E,d),cs(E,g),zx(b)||Gx(E,n,v,I))}),po(b,[E,I])},onEnterCancelled(E){A(E,!1),po(y,[E])},onAppearCancelled(E){A(E,!0),po(S,[E])},onLeaveCancelled(E){k(E),po(_,[E])}})}function oB(e){if(e==null)return null;if(vt(e))return[Kg(e.enter),Kg(e.leave)];{const t=Kg(e);return[t,t]}}function Kg(e){return yM(e)}function cs(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Oc]||(e[Oc]=new Set)).add(t)}function la(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[Oc];r&&(r.delete(t),r.size||(e[Oc]=void 0))}function Jx(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let lB=0;function Gx(e,t,r,n){const i=e._endId=++lB,s=()=>{i===e._endId&&n()};if(r)return setTimeout(s,r);const{type:a,timeout:o,propCount:l}=kA(e,t);if(!a)return n();const u=a+"end";let c=0;const d=()=>{e.removeEventListener(u,f),s()},f=g=>{g.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},o+1),e.addEventListener(u,f)}function kA(e,t){const r=window.getComputedStyle(e),n=m=>(r[m]||"").split(", "),i=n(`${Zs}Delay`),s=n(`${Zs}Duration`),a=Qx(i,s),o=n(`${Jc}Delay`),l=n(`${Jc}Duration`),u=Qx(o,l);let c=null,d=0,f=0;t===Zs?a>0&&(c=Zs,d=a,f=s.length):t===Jc?u>0&&(c=Jc,d=u,f=l.length):(d=Math.max(a,u),c=d>0?a>u?Zs:Jc:null,f=c?c===Zs?s.length:l.length:0);const g=c===Zs&&/\b(transform|all)(,|$)/.test(n(`${Zs}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:g}}function Qx(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>Xx(r)+Xx(e[n])))}function Xx(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function EA(){return document.body.offsetHeight}function cB(e,t,r){const n=e[Oc];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const np=Symbol("_vod"),CA=Symbol("_vsh"),A7={beforeMount(e,{value:t},{transition:r}){e[np]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Gc(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),Gc(e,!0),n.enter(e)):n.leave(e,()=>{Gc(e,!1)}):Gc(e,t))},beforeUnmount(e,{value:t}){Gc(e,t)}};function Gc(e,t){e.style.display=t?e[np]:"none",e[CA]=!t}const uB=Symbol(""),dB=/(^|;)\s*display\s*:/;function fB(e,t,r){const n=e.style,i=Dt(r);let s=!1;if(r&&!i){if(t)if(Dt(t))for(const a of t.split(";")){const o=a.slice(0,a.indexOf(":")).trim();r[o]==null&&S0(n,o,"")}else for(const a in t)r[a]==null&&S0(n,a,"");for(const a in r)a==="display"&&(s=!0),S0(n,a,r[a])}else if(i){if(t!==r){const a=n[uB];a&&(r+=";"+a),n.cssText=r,s=dB.test(r)}}else t&&e.removeAttribute("style");np in e&&(e[np]=s?n.display:"",e[CA]&&(n.display="none"))}const Zx=/\s*!important$/;function S0(e,t,r){if(ke(r))r.forEach(n=>S0(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=hB(e,t);Zx.test(r)?e.setProperty(gl(n),r.replace(Zx,""),"important"):e[n]=r}}const ew=["Webkit","Moz","ms"],Vg={};function hB(e,t){const r=Vg[t];if(r)return r;let n=Hi(t);if(n!=="filter"&&n in e)return Vg[t]=n;n=Wp(n);for(let i=0;i<ew.length;i++){const s=ew[i]+n;if(s in e)return Vg[t]=s}return t}const tw="http://www.w3.org/1999/xlink";function pB(e,t,r,n,i){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(tw,t.slice(6,t.length)):e.setAttributeNS(tw,t,r);else{const s=wM(t);r==null||s&&!wD(r)?e.removeAttribute(t):e.setAttribute(t,s?"":r)}}function gB(e,t,r,n,i,s,a){if(t==="innerHTML"||t==="textContent"){n&&a(n,i,s),e[t]=r==null?"":r;return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?e.getAttribute("value")||"":e.value,c=r==null?"":r;(u!==c||!("_value"in e))&&(e.value=c),r==null&&e.removeAttribute(t),e._value=r;return}let l=!1;if(r===""||r==null){const u=typeof e[t];u==="boolean"?r=wD(r):r==null&&u==="string"?(r="",l=!0):u==="number"&&(r=0,l=!0)}try{e[t]=r}catch{}l&&e.removeAttribute(t)}function yB(e,t,r,n){e.addEventListener(t,r,n)}function vB(e,t,r,n){e.removeEventListener(t,r,n)}const rw=Symbol("_vei");function mB(e,t,r,n,i=null){const s=e[rw]||(e[rw]={}),a=s[t];if(n&&a)a.value=n;else{const[o,l]=bB(t);if(n){const u=s[t]=wB(n,i);yB(e,o,u,l)}else a&&(vB(e,o,a,l),s[t]=void 0)}}const nw=/(?:Once|Passive|Capture)$/;function bB(e){let t;if(nw.test(e)){t={};let n;for(;n=e.match(nw);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):gl(e.slice(2)),t]}let Ug=0;const _B=Promise.resolve(),xB=()=>Ug||(_B.then(()=>Ug=0),Ug=Date.now());function wB(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Gn(SB(n,r.value),t,5,[n])};return r.value=e,r.attached=xB(),r}function SB(e,t){if(ke(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const iw=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,DB=(e,t,r,n,i,s,a,o,l)=>{const u=i==="svg";t==="class"?cB(e,n,u):t==="style"?fB(e,r,n):Lp(t)?vb(t)||mB(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):AB(e,t,n,u))?gB(e,t,n,s,a,o,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),pB(e,t,n,u))};function AB(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&iw(t)&&Me(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return iw(t)&&Dt(r)?!1:t in e}const OA=new WeakMap,MA=new WeakMap,ip=Symbol("_moveCb"),sw=Symbol("_enterCb"),IA={name:"TransitionGroup",props:Bt({},aB,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=et(),n=tA();let i,s;return Fb(()=>{if(!i.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!IB(i[0].el,r.vnode.el,a))return;i.forEach(CB),i.forEach(OB);const o=i.filter(MB);EA(),o.forEach(l=>{const u=l.el,c=u.style;cs(u,a),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[ip]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u[ip]=null,la(u,a))};u.addEventListener("transitionend",d)})}),()=>{const a=Ie(e),o=AA(a);let l=a.tag||dn;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),Cc(c,Fd(c,o,n,r)),OA.set(c,c.el.getBoundingClientRect()))}s=t.default?Bb(t.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&Cc(c,Fd(c,o,n,r))}return Re(l,null,s)}}},kB=e=>delete e.mode;IA.props;const EB=IA;function CB(e){const t=e.el;t[ip]&&t[ip](),t[sw]&&t[sw]()}function OB(e){MA.set(e,e.el.getBoundingClientRect())}function MB(e){const t=OA.get(e),r=MA.get(e),n=t.left-r.left,i=t.top-r.top;if(n||i){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${n}px,${i}px)`,s.transitionDuration="0s",e}}function IB(e,t,r){const n=e.cloneNode(),i=e[Oc];i&&i.forEach(o=>{o.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(o=>o&&n.classList.add(o)),n.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(n);const{hasTransform:a}=kA(n);return s.removeChild(n),a}const BB=["ctrl","shift","alt","meta"],FB={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>BB.some(r=>e[`${r}Key`]&&!t.includes(r))},k7=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(i,...s)=>{for(let a=0;a<t.length;a++){const o=FB[t[a]];if(o&&o(i,t))return}return e(i,...s)})},TB={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},E7=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=i=>{if(!("key"in i))return;const s=gl(i.key);if(t.some(a=>a===s||TB[a]===s))return e(i)})},PB=Bt({patchProp:DB},sB);let aw;function RB(){return aw||(aw=RI(PB))}const BA=(...e)=>{const t=RB().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=NB(n);if(!i)return;const s=t._component;!Me(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=r(i,!1,$B(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function $B(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function NB(e){return Dt(e)?document.querySelector(e):e}function vl(e,t,r,n){return Object.defineProperty(e,t,{get:r,set:n,enumerable:!0}),e}function C7(e,t){for(const r in t)vl(e,r,t[r]);return e}const ri=De(!1);let im;function LB(e,t){const r=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||[];return{browser:r[5]||r[3]||r[1]||"",version:r[4]||r[2]||"0",platform:t[0]||""}}function qB(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const FA="ontouchstart"in window||window.navigator.maxTouchPoints>0;function WB(e){const t=e.toLowerCase(),r=qB(t),n=LB(t,r),i={};n.browser&&(i[n.browser]=!0,i.version=n.version,i.versionNumber=parseInt(n.version,10)),n.platform&&(i[n.platform]=!0);const s=i.android||i.ios||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"];if(s===!0||t.indexOf("mobile")!==-1?i.mobile=!0:i.desktop=!0,i["windows phone"]&&(i.winphone=!0,delete i["windows phone"]),i.edga||i.edgios||i.edg?(i.edge=!0,n.browser="edge"):i.crios?(i.chrome=!0,n.browser="chrome"):i.fxios&&(i.firefox=!0,n.browser="firefox"),(i.ipod||i.ipad||i.iphone)&&(i.ios=!0),i.vivaldi&&(n.browser="vivaldi",i.vivaldi=!0),(i.chrome||i.opr||i.safari||i.vivaldi||i.mobile===!0&&i.ios!==!0&&s!==!0)&&(i.webkit=!0),i.opr&&(n.browser="opera",i.opera=!0),i.safari&&(i.blackberry||i.bb?(n.browser="blackberry",i.blackberry=!0):i.playbook?(n.browser="playbook",i.playbook=!0):i.android?(n.browser="android",i.android=!0):i.kindle?(n.browser="kindle",i.kindle=!0):i.silk&&(n.browser="silk",i.silk=!0)),i.name=n.browser,i.platform=n.platform,t.indexOf("electron")!==-1)i.electron=!0;else if(document.location.href.indexOf("-extension://")!==-1)i.bex=!0;else{if(window.Capacitor!==void 0?(i.capacitor=!0,i.nativeMobile=!0,i.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(i.cordova=!0,i.nativeMobile=!0,i.nativeMobileWrapper="cordova"),ri.value===!0&&(im={is:{...i}}),FA===!0&&i.mac===!0&&(i.desktop===!0&&i.safari===!0||i.nativeMobile===!0&&i.android!==!0&&i.ios!==!0&&i.ipad!==!0)){delete i.mac,delete i.desktop;const a=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(i,{mobile:!0,ios:!0,platform:a,[a]:!0})}i.mobile!==!0&&window.navigator.userAgentData&&window.navigator.userAgentData.mobile&&(delete i.desktop,i.mobile=!0)}return i}const ow=navigator.userAgent||navigator.vendor||window.opera,jB={has:{touch:!1,webStorage:!1},within:{iframe:!1}},Mt={userAgent:ow,is:WB(ow),has:{touch:FA},within:{iframe:window.self!==window.top}},Fo={install(e){const{$q:t}=e;ri.value===!0?(e.onSSRHydrated.push(()=>{Object.assign(t.platform,Mt),ri.value=!1}),t.platform=gi(this)):t.platform=this}};{let e;vl(Mt.has,"webStorage",()=>{if(e!==void 0)return e;try{if(window.localStorage)return e=!0,!0}catch{}return e=!1,!1}),Object.assign(Fo,Mt),ri.value===!0&&(Object.assign(Fo,im,jB),im=null)}function ct(e){return yl(zp(e))}function YB(e){return yl(e)}const ef=(e,t)=>{const r=gi(e);for(const n in e)vl(t,n,()=>r[n],i=>{r[n]=i});return t},lr={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(lr,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch{}function Vn(){}function O7(e){return e.button===0}function HB(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function KB(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let r=e.target;for(;r;){if(t.push(r),r.tagName==="HTML")return t.push(document),t.push(window),t;r=r.parentElement}}function sp(e){e.stopPropagation()}function va(e){e.cancelable!==!1&&e.preventDefault()}function Hn(e){e.cancelable!==!1&&e.preventDefault(),e.stopPropagation()}function M7(e,t){if(e===void 0||t===!0&&e.__dragPrevented===!0)return;const r=t===!0?n=>{n.__dragPrevented=!0,n.addEventListener("dragstart",va,lr.notPassiveCapture)}:n=>{delete n.__dragPrevented,n.removeEventListener("dragstart",va,lr.notPassiveCapture)};e.querySelectorAll("a, img").forEach(r)}function VB(e,t,r){const n=`__q_${t}_evt`;e[n]=e[n]!==void 0?e[n].concat(r):r,r.forEach(i=>{i[0].addEventListener(i[1],e[i[2]],lr[i[3]])})}function UB(e,t){const r=`__q_${t}_evt`;e[r]!==void 0&&(e[r].forEach(n=>{n[0].removeEventListener(n[1],e[n[2]],lr[n[3]])}),e[r]=void 0)}function TA(e,t=250,r){let n=null;function i(){const s=arguments,a=()=>{n=null,r!==!0&&e.apply(this,s)};n!==null?clearTimeout(n):r===!0&&e.apply(this,s),n=setTimeout(a,t)}return i.cancel=()=>{n!==null&&clearTimeout(n)},i}const zg=["sm","md","lg","xl"],{passive:lw}=lr;var zB=ef({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:Vn,setDebounce:Vn,install({$q:e,onSSRHydrated:t}){if(e.screen=this,this.__installed===!0){e.config.screen!==void 0&&(e.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:r}=window,n=r||window,i=document.scrollingElement||document.documentElement,s=r===void 0||Mt.is.mobile===!0?()=>[Math.max(window.innerWidth,i.clientWidth),Math.max(window.innerHeight,i.clientHeight)]:()=>[r.width*r.scale+window.innerWidth-i.clientWidth,r.height*r.scale+window.innerHeight-i.clientHeight],a=e.config.screen!==void 0&&e.config.screen.bodyClasses===!0;this.__update=d=>{const[f,g]=s();if(g!==this.height&&(this.height=g),f!==this.width)this.width=f;else if(d!==!0)return;let m=this.sizes;this.gt.xs=f>=m.sm,this.gt.sm=f>=m.md,this.gt.md=f>=m.lg,this.gt.lg=f>=m.xl,this.lt.sm=f<m.sm,this.lt.md=f<m.md,this.lt.lg=f<m.lg,this.lt.xl=f<m.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,m=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",m!==this.name&&(a===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${m}`)),this.name=m)};let o,l={},u=16;this.setSizes=d=>{zg.forEach(f=>{d[f]!==void 0&&(l[f]=d[f])})},this.setDebounce=d=>{u=d};const c=()=>{const d=getComputedStyle(document.body);d.getPropertyValue("--q-size-sm")&&zg.forEach(f=>{this.sizes[f]=parseInt(d.getPropertyValue(`--q-size-${f}`),10)}),this.setSizes=f=>{zg.forEach(g=>{f[g]&&(this.sizes[g]=f[g])}),this.__update(!0)},this.setDebounce=f=>{o!==void 0&&n.removeEventListener("resize",o,lw),o=f>0?TA(this.__update,f):this.__update,n.addEventListener("resize",o,lw)},this.setDebounce(u),Object.keys(l).length!==0?(this.setSizes(l),l=void 0):this.__update(),a===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};ri.value===!0?t.push(c):c()}});const gr=ef({isActive:!1,mode:!1},{__media:void 0,set(e){gr.mode=e,e==="auto"?(gr.__media===void 0&&(gr.__media=window.matchMedia("(prefers-color-scheme: dark)"),gr.__updateMedia=()=>{gr.set("auto")},gr.__media.addListener(gr.__updateMedia)),e=gr.__media.matches):gr.__media!==void 0&&(gr.__media.removeListener(gr.__updateMedia),gr.__media=void 0),gr.isActive=e===!0,document.body.classList.remove(`body--${e===!0?"light":"dark"}`),document.body.classList.add(`body--${e===!0?"dark":"light"}`)},toggle(){gr.set(gr.isActive===!1)},install({$q:e,ssrContext:t}){const{dark:r}=e.config;e.dark=this,this.__installed!==!0&&this.set(r!==void 0?r:!1)}});function JB(e,t,r=document.body){if(typeof e!="string")throw new TypeError("Expected a string as propName");if(typeof t!="string")throw new TypeError("Expected a string as value");if(!(r instanceof Element))throw new TypeError("Expected a DOM element");r.style.setProperty(`--q-${e}`,t)}let PA=!1;function GB(e){PA=e.isComposing===!0}function RA(e){return PA===!0||e!==Object(e)||e.isComposing===!0||e.qKeyEvent===!0}function Rd(e,t){return RA(e)===!0?!1:[].concat(t).includes(e.keyCode)}function $A(e){if(e.ios===!0)return"ios";if(e.android===!0)return"android"}function QB({is:e,has:t,within:r},n){const i=[e.desktop===!0?"desktop":"mobile",`${t.touch===!1?"no-":""}touch`];if(e.mobile===!0){const s=$A(e);s!==void 0&&i.push("platform-"+s)}if(e.nativeMobile===!0){const s=e.nativeMobileWrapper;i.push(s),i.push("native-mobile"),e.ios===!0&&(n[s]===void 0||n[s].iosStatusBarPadding!==!1)&&i.push("q-ios-padding")}else e.electron===!0?i.push("electron"):e.bex===!0&&i.push("bex");return r.iframe===!0&&i.push("within-iframe"),i}function XB(){const{is:e}=Mt,t=document.body.className,r=new Set(t.replace(/ {2}/g," ").split(" "));if(e.nativeMobile!==!0&&e.electron!==!0&&e.bex!==!0){if(e.desktop===!0)r.delete("mobile"),r.delete("platform-ios"),r.delete("platform-android"),r.add("desktop");else if(e.mobile===!0){r.delete("desktop"),r.add("mobile"),r.delete("platform-ios"),r.delete("platform-android");const i=$A(e);i!==void 0&&r.add(`platform-${i}`)}}Mt.has.touch===!0&&(r.delete("no-touch"),r.add("touch")),Mt.within.iframe===!0&&r.add("within-iframe");const n=Array.from(r).join(" ");t!==n&&(document.body.className=n)}function ZB(e){for(const t in e)JB(t,e[t])}var eF={install(e){if(this.__installed!==!0){if(ri.value===!0)XB();else{const{$q:t}=e;t.config.brand!==void 0&&ZB(t.config.brand);const r=QB(Mt,t.config);document.body.classList.add.apply(document.body.classList,r)}Mt.is.ios===!0&&document.body.addEventListener("touchstart",Vn),window.addEventListener("keydown",GB,!0)}}};const NA=()=>!0;function tF(e){return typeof e=="string"&&e!==""&&e!=="/"&&e!=="#/"}function rF(e){return e.startsWith("#")===!0&&(e=e.substring(1)),e.startsWith("/")===!1&&(e="/"+e),e.endsWith("/")===!0&&(e=e.substring(0,e.length-1)),"#"+e}function nF(e){if(e.backButtonExit===!1)return()=>!1;if(e.backButtonExit==="*")return NA;const t=["#/"];return Array.isArray(e.backButtonExit)===!0&&t.push(...e.backButtonExit.filter(tF).map(rF)),()=>t.includes(window.location.hash)}var sm={__history:[],add:Vn,remove:Vn,install({$q:e}){if(this.__installed===!0)return;const{cordova:t,capacitor:r}=Mt.is;if(t!==!0&&r!==!0)return;const n=e.config[t===!0?"cordova":"capacitor"];if(n!==void 0&&n.backButton===!1||r===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=a=>{a.condition===void 0&&(a.condition=NA),this.__history.push(a)},this.remove=a=>{const o=this.__history.indexOf(a);o>=0&&this.__history.splice(o,1)};const i=nF(Object.assign({backButtonExit:!0},n)),s=()=>{if(this.__history.length){const a=this.__history[this.__history.length-1];a.condition()===!0&&(this.__history.pop(),a.handler())}else i()===!0?navigator.app.exitApp():window.history.back()};t===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",s,!1)}):window.Capacitor.Plugins.App.addListener("backButton",s)}},am={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:e=>e?`Expand "${e}"`:"Expand",collapse:e=>e?`Collapse "${e}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>e===1?"1 record selected.":(e===0?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,r)=>e+"-"+t+" of "+r,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function cw(){const e=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof e=="string")return e.split(/[-_]/).map((t,r)=>r===0?t.toLowerCase():r>1||t.length<4?t.toUpperCase():t[0].toUpperCase()+t.slice(1).toLowerCase()).join("-")}const Fi=ef({__qLang:{}},{getLocale:cw,set(e=am,t){const r={...e,rtl:e.rtl===!0,getLocale:cw};{if(r.set=Fi.set,Fi.__langConfig===void 0||Fi.__langConfig.noHtmlAttrs!==!0){const n=document.documentElement;n.setAttribute("dir",r.rtl===!0?"rtl":"ltr"),n.setAttribute("lang",r.isoName)}Object.assign(Fi.__qLang,r)}},install({$q:e,lang:t,ssrContext:r}){e.lang=Fi.__qLang,Fi.__langConfig=e.config.lang,this.__installed===!0?t!==void 0&&this.set(t):(this.props=new Proxy(this.__qLang,{get(){return Reflect.get(...arguments)},ownKeys(n){return Reflect.ownKeys(n).filter(i=>i!=="set"&&i!=="getLocale")}}),this.set(t||am))}});var LA={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const ap=ef({iconMapFn:null,__qIconSet:{}},{set(e,t){const r={...e};r.set=ap.set,Object.assign(ap.__qIconSet,r)},install({$q:e,iconSet:t,ssrContext:r}){e.config.iconMapFn!==void 0&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__qIconSet,vl(e,"iconMapFn",()=>this.iconMapFn,n=>{this.iconMapFn=n}),this.__installed===!0?t!==void 0&&this.set(t):(this.props=new Proxy(this.__qIconSet,{get(){return Reflect.get(...arguments)},ownKeys(n){return Reflect.ownKeys(n).filter(i=>i!=="set")}}),this.set(t||LA))}}),iF="_q_",I7="_q_s_",Nb="_q_l_",sF="_q_pc_",aF="_q_fo_",B7="_q_tabs_";function hc(){}const op={};let qA=!1;function oF(){qA=!0}function Jg(e,t){if(e===t)return!0;if(e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let r,n;if(e.constructor===Array){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(Jg(e[n],t[n])!==!0)return!1;return!0}if(e.constructor===Map){if(e.size!==t.size)return!1;let s=e.entries();for(n=s.next();n.done!==!0;){if(t.has(n.value[0])!==!0)return!1;n=s.next()}for(s=e.entries(),n=s.next();n.done!==!0;){if(Jg(n.value[1],t.get(n.value[0]))!==!0)return!1;n=s.next()}return!0}if(e.constructor===Set){if(e.size!==t.size)return!1;const s=e.entries();for(n=s.next();n.done!==!0;){if(t.has(n.value[0])!==!0)return!1;n=s.next()}return!0}if(e.buffer!=null&&e.buffer.constructor===ArrayBuffer){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const i=Object.keys(e).filter(s=>e[s]!==void 0);if(r=i.length,r!==Object.keys(t).filter(s=>t[s]!==void 0).length)return!1;for(n=r;n--!==0;){const s=i[n];if(Jg(e[s],t[s])!==!0)return!1}return!0}return e!==e&&t!==t}function Un(e){return e!==null&&typeof e=="object"&&Array.isArray(e)!==!0}function Lb(e){return Object.prototype.toString.call(e)==="[object Date]"}function lF(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function F7(e){return typeof e=="number"&&isFinite(e)}const uw=[Fo,eF,gr,zB,sm,Fi,ap];function qb(e,t){const r=BA(e);r.config.globalProperties=t.config.globalProperties;const{reload:n,...i}=t._context;return Object.assign(r._context,i),r}function dw(e,t){t.forEach(r=>{r.install(e),r.__installed=!0})}function cF(e,t,r){e.config.globalProperties.$q=r.$q,e.provide(iF,r.$q),dw(r,uw),t.components!==void 0&&Object.values(t.components).forEach(n=>{Un(n)===!0&&n.name!==void 0&&e.component(n.name,n)}),t.directives!==void 0&&Object.values(t.directives).forEach(n=>{Un(n)===!0&&n.name!==void 0&&e.directive(n.name,n)}),t.plugins!==void 0&&dw(r,Object.values(t.plugins).filter(n=>typeof n.install=="function"&&uw.includes(n)===!1)),ri.value===!0&&(r.$q.onSSRHydrated=()=>{r.onSSRHydrated.forEach(n=>{n()}),r.$q.onSSRHydrated=()=>{}})}var uF=function(e,t={}){const r={version:"2.16.4"};qA===!1?(t.config!==void 0&&Object.assign(op,t.config),r.config={...op},oF()):r.config=t.config||{},cF(e,t,{parentApp:e,$q:r,lang:t.lang,iconSet:t.iconSet,onSSRHydrated:[]})},dF={name:"Quasar",version:"2.16.4",install:uF,lang:Fi,iconSet:ap};function fF(e,t,r){let n;function i(){n!==void 0&&(sm.remove(n),n=void 0)}return Fr(()=>{e.value===!0&&i()}),{removeFromHistory:i,addToHistory(){n={condition:()=>r.value===!0,handler:t},sm.add(n)}}}function D0(e){if(Object(e.$parent)===e.$parent)return e.$parent;let{parent:t}=e.$;for(;Object(t)===t;){if(Object(t.proxy)===t.proxy)return t.proxy;t=t.parent}}function WA(e,t){typeof t.type=="symbol"?Array.isArray(t.children)===!0&&t.children.forEach(r=>{WA(e,r)}):e.add(t)}function T7(e){const t=new Set;return e.forEach(r=>{WA(t,r)}),Array.from(t)}function jA(e){return e.appContext.config.globalProperties.$router!==void 0}function Ju(e){return e.isUnmounted===!0||e.isDeactivated===!0}function om(){let e=null;const t=et();function r(){e!==null&&(clearTimeout(e),e=null)}return Gp(r),Fr(r),{removeTimeout:r,registerTimeout(n,i){r(),Ju(t)===!1&&(e=setTimeout(()=>{e=null,n()},i))}}}function hF(){let e;const t=et();function r(){e=void 0}return Gp(r),Fr(r),{removeTick:r,registerTick(n){e=n,vr(()=>{e===n&&(Ju(t)===!1&&e(),e=void 0)})}}}const pF={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},gF=["beforeShow","show","beforeHide","hide"];function yF({showing:e,canShow:t,hideOnRouteChange:r,handleShow:n,handleHide:i,processOnMount:s}){const a=et(),{props:o,emit:l,proxy:u}=a;let c;function d(h){e.value===!0?m(h):f(h)}function f(h){if(o.disable===!0||h!==void 0&&h.qAnchorHandled===!0||t!==void 0&&t(h)!==!0)return;const y=o["onUpdate:modelValue"]!==void 0;y===!0&&(l("update:modelValue",!0),c=h,vr(()=>{c===h&&(c=void 0)})),(o.modelValue===null||y===!1)&&g(h)}function g(h){e.value!==!0&&(e.value=!0,l("beforeShow",h),n!==void 0?n(h):l("show",h))}function m(h){if(o.disable===!0)return;const y=o["onUpdate:modelValue"]!==void 0;y===!0&&(l("update:modelValue",!1),c=h,vr(()=>{c===h&&(c=void 0)})),(o.modelValue===null||y===!1)&&x(h)}function x(h){e.value!==!1&&(e.value=!1,l("beforeHide",h),i!==void 0?i(h):l("hide",h))}function v(h){o.disable===!0&&h===!0?o["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):h===!0!==e.value&&(h===!0?g:x)(c)}Ve(()=>o.modelValue,v),r!==void 0&&jA(a)===!0&&Ve(()=>u.$route.fullPath,()=>{r.value===!0&&e.value===!0&&m()}),s===!0&&ur(()=>{v(o.modelValue)});const p={show:f,hide:m,toggle:d};return Object.assign(u,p),p}const vF={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function mF(e,t=()=>{},r=()=>{}){return{transitionProps:q(()=>{const n=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||r()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:q(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let To=[],$d=[];function YA(e){$d=$d.filter(t=>t!==e)}function bF(e){YA(e),$d.push(e)}function fw(e){YA(e),$d.length===0&&To.length!==0&&(To[To.length-1](),To=[])}function Wb(e){$d.length===0?e():To.push(e)}function _F(e){To=To.filter(t=>t!==e)}let xF=1,wF=document.body;function ng(e,t){const r=document.createElement("div");if(r.id=t!==void 0?`q-portal--${t}--${xF++}`:e,op.globalNodes!==void 0){const n=op.globalNodes.class;n!==void 0&&(r.className=n)}return wF.appendChild(r),r}function jb(e){e.remove()}const A0=[];function P7(e){return A0.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function SF(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return D0(e)}else if(e.__qPortal===!0){const r=D0(e);return r!==void 0&&r.$options.name==="QPopupProxy"?(e.hide(t),r):e}e=D0(e)}while(e!=null)}function R7(e,t,r){for(;r!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(r--,e.$options.name==="QMenu"){e=SF(e,t);continue}e.hide(t)}e=D0(e)}}const DF=ct({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function AF(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function kF(e,t,r,n){const i=De(!1),s=De(!1);let a=null;const o={},l=n==="dialog"&&AF(e);function u(d){if(d===!0){fw(o),s.value=!0;return}s.value=!1,i.value===!1&&(l===!1&&a===null&&(a=ng(!1,n)),i.value=!0,A0.push(e.proxy),bF(o))}function c(d){if(s.value=!1,d!==!0)return;fw(o),i.value=!1;const f=A0.indexOf(e.proxy);f!==-1&&A0.splice(f,1),a!==null&&(jb(a),a=null)}return Xp(()=>{c(!0)}),e.proxy.__qPortal=!0,vl(e.proxy,"contentEl",()=>t.value),{showPortal:u,hidePortal:c,portalIsActive:i,portalIsAccessible:s,renderPortal:()=>l===!0?r():i.value===!0?[$(YI,{to:a},$(DF,r))]:void 0}}function lm(e,t){const r=e.style;for(const n in t)r[n]=t[n]}function EF(e){if(e==null)return;if(typeof e=="string")try{return document.querySelector(e)||void 0}catch{return}const t=Ma(e);if(t)return t.$el||t}function CF(e,t){if(e==null||e.contains(t)===!0)return!0;for(let r=e.nextElementSibling;r!==null;r=r.nextElementSibling)if(r.contains(t))return!0;return!1}const OF=[Element,String],MF=[null,document,document.body,document.scrollingElement,document.documentElement];function IF(e,t){let r=EF(t);if(r===void 0){if(e==null)return window;r=e.closest(".scroll,.scroll-y,.overflow-auto")}return MF.includes(r)?window:r}function Yb(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function Hb(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function HA(e,t,r=0){const n=arguments[3]===void 0?performance.now():arguments[3],i=Yb(e);if(r<=0){i!==t&&cm(e,t);return}requestAnimationFrame(s=>{const a=s-n,o=i+(t-i)/Math.max(a,r)*a;cm(e,o),o!==t&&HA(e,t,r-a,s)})}function KA(e,t,r=0){const n=arguments[3]===void 0?performance.now():arguments[3],i=Hb(e);if(r<=0){i!==t&&um(e,t);return}requestAnimationFrame(s=>{const a=s-n,o=i+(t-i)/Math.max(a,r)*a;um(e,o),o!==t&&KA(e,t,r-a,s)})}function cm(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function um(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function $7(e,t,r){if(r){HA(e,t,r);return}cm(e,t)}function N7(e,t,r){if(r){KA(e,t,r);return}um(e,t)}let kf;function Gg(){if(kf!==void 0)return kf;const e=document.createElement("p"),t=document.createElement("div");lm(e,{width:"100%",height:"200px"}),lm(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const r=e.offsetWidth;t.style.overflow="scroll";let n=e.offsetWidth;return r===n&&(n=t.clientWidth),t.remove(),kf=r-n,kf}function BF(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}let Qc=0,Qg,Xg,qu,Zg=!1,hw,pw,gw,go=null;function FF(e){TF(e)&&Hn(e)}function TF(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=KB(e),r=e.shiftKey&&!e.deltaX,n=!r&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),i=r||n?e.deltaY:e.deltaX;for(let s=0;s<t.length;s++){const a=t[s];if(BF(a,n))return n?i<0&&a.scrollTop===0?!0:i>0&&a.scrollTop+a.clientHeight===a.scrollHeight:i<0&&a.scrollLeft===0?!0:i>0&&a.scrollLeft+a.clientWidth===a.scrollWidth}return!0}function yw(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function Ef(e){Zg!==!0&&(Zg=!0,requestAnimationFrame(()=>{Zg=!1;const{height:t}=e.target,{clientHeight:r,scrollTop:n}=document.scrollingElement;(qu===void 0||t!==window.innerHeight)&&(qu=r-t,document.scrollingElement.scrollTop=n),n>qu&&(document.scrollingElement.scrollTop-=Math.ceil((n-qu)/8))}))}function vw(e){const t=document.body,r=window.visualViewport!==void 0;if(e==="add"){const{overflowY:n,overflowX:i}=window.getComputedStyle(t);Qg=Hb(window),Xg=Yb(window),hw=t.style.left,pw=t.style.top,gw=window.location.href,t.style.left=`-${Qg}px`,t.style.top=`-${Xg}px`,i!=="hidden"&&(i==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),n!=="hidden"&&(n==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,Mt.is.ios===!0&&(r===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",Ef,lr.passiveCapture),window.visualViewport.addEventListener("scroll",Ef,lr.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",yw,lr.passiveCapture))}Mt.is.desktop===!0&&Mt.is.mac===!0&&window[`${e}EventListener`]("wheel",FF,lr.notPassive),e==="remove"&&(Mt.is.ios===!0&&(r===!0?(window.visualViewport.removeEventListener("resize",Ef,lr.passiveCapture),window.visualViewport.removeEventListener("scroll",Ef,lr.passiveCapture)):window.removeEventListener("scroll",yw,lr.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=hw,t.style.top=pw,window.location.href===gw&&window.scrollTo(Qg,Xg),qu=void 0)}function dm(e){let t="add";if(e===!0){if(Qc++,go!==null){clearTimeout(go),go=null;return}if(Qc>1)return}else{if(Qc===0||(Qc--,Qc>0))return;if(t="remove",Mt.is.ios===!0&&Mt.is.nativeMobile===!0){go!==null&&clearTimeout(go),go=setTimeout(()=>{vw(t),go=null},100);return}}vw(t)}function PF(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,dm(t))}}}function Br(e,t){return e!==void 0&&e()||t}function L7(e,t){if(e!==void 0){const r=e();if(r!=null)return r.slice()}return t}function _a(e,t){return e!==void 0?t.concat(e()):t}function RF(e,t){return e===void 0?t:t!==void 0?t.concat(e()):e()}function q7(e,t,r,n,i,s){t.key=n+i;const a=$(e,t,r);return i===!0?eA(a,s()):a}const Wo=[];let Mc;function $F(e){Mc=e.keyCode===27}function NF(){Mc===!0&&(Mc=!1)}function LF(e){Mc===!0&&(Mc=!1,Rd(e,27)===!0&&Wo[Wo.length-1](e))}function VA(e){window[e]("keydown",$F),window[e]("blur",NF),window[e]("keyup",LF),Mc=!1}function qF(e){Mt.is.desktop===!0&&(Wo.push(e),Wo.length===1&&VA("addEventListener"))}function mw(e){const t=Wo.indexOf(e);t!==-1&&(Wo.splice(t,1),Wo.length===0&&VA("removeEventListener"))}const jo=[];function UA(e){jo[jo.length-1](e)}function WF(e){Mt.is.desktop===!0&&(jo.push(e),jo.length===1&&document.body.addEventListener("focusin",UA))}function bw(e){const t=jo.indexOf(e);t!==-1&&(jo.splice(t,1),jo.length===0&&document.body.removeEventListener("focusin",UA))}let Cf=0;const jF={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},_w={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var zA=ct({name:"QDialog",inheritAttrs:!1,props:{...pF,...vF,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...gF,"shake","click","escapeKey"],setup(e,{slots:t,emit:r,attrs:n}){const i=et(),s=De(null),a=De(!1),o=De(!1);let l=null,u=null,c,d;const f=q(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:g}=PF(),{registerTimeout:m}=om(),{registerTick:x,removeTick:v}=hF(),{transitionProps:p,transitionStyle:h}=mF(e,()=>_w[e.position][0],()=>_w[e.position][1]),y=q(()=>h.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:b,hidePortal:_,portalIsAccessible:w,renderPortal:D}=kF(i,s,Ee,"dialog"),{hide:S}=yF({showing:a,hideOnRouteChange:f,handleShow:P,handleHide:L,processOnMount:!0}),{addToHistory:A,removeFromHistory:k}=fF(a,S,f),C=q(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${jF[e.position]}`+(o.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),E=q(()=>a.value===!0&&e.seamless!==!0),M=q(()=>e.autoClose===!0?{onClick:R}:{}),I=q(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${E.value===!0?"modal":"seamless"}`,n.class]);Ve(()=>e.maximized,ne=>{a.value===!0&&N(ne)}),Ve(E,ne=>{g(ne),ne===!0?(WF(K),qF(U)):(bw(K),mw(U))});function P(ne){A(),u=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,N(e.maximized),b(),o.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),x(V)):v(),m(()=>{if(i.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:j,bottom:Z}=document.activeElement.getBoundingClientRect(),{innerHeight:ce}=window,ge=window.visualViewport!==void 0?window.visualViewport.height:ce;j>0&&Z>ge/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-ge,Z>=ce?1/0:Math.ceil(document.scrollingElement.scrollTop+Z-ge/2))),document.activeElement.scrollIntoView()}d=!0,s.value.click(),d=!1}b(!0),o.value=!1,r("show",ne)},e.transitionDuration)}function L(ne){v(),k(),te(!0),o.value=!0,_(),u!==null&&(((ne&&ne.type.indexOf("key")===0?u.closest('[tabindex]:not([tabindex^="-"])'):void 0)||u).focus(),u=null),m(()=>{_(!0),o.value=!1,r("hide",ne)},e.transitionDuration)}function V(ne){Wb(()=>{let j=s.value;if(j!==null){if(ne!==void 0){const Z=j.querySelector(ne);if(Z!==null){Z.focus({preventScroll:!0});return}}j.contains(document.activeElement)!==!0&&(j=j.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||j.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||j.querySelector("[autofocus], [data-autofocus]")||j,j.focus({preventScroll:!0}))}})}function W(ne){ne&&typeof ne.focus=="function"?ne.focus({preventScroll:!0}):V(),r("shake");const j=s.value;j!==null&&(j.classList.remove("q-animate--scale"),j.classList.add("q-animate--scale"),l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,s.value!==null&&(j.classList.remove("q-animate--scale"),V())},170))}function U(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&W():(r("escapeKey"),S()))}function te(ne){l!==null&&(clearTimeout(l),l=null),(ne===!0||a.value===!0)&&(N(!1),e.seamless!==!0&&(g(!1),bw(K),mw(U))),ne!==!0&&(u=null)}function N(ne){ne===!0?c!==!0&&(Cf<1&&document.body.classList.add("q-body--dialog"),Cf++,c=!0):c===!0&&(Cf<2&&document.body.classList.remove("q-body--dialog"),Cf--,c=!1)}function R(ne){d!==!0&&(S(ne),r("click",ne))}function H(ne){e.persistent!==!0&&e.noBackdropDismiss!==!0?S(ne):e.noShake!==!0&&W()}function K(ne){e.allowFocusOutside!==!0&&w.value===!0&&CF(s.value,ne.target)!==!0&&V('[tabindex]:not([tabindex="-1"])')}Object.assign(i.proxy,{focus:V,shake:W,__updateRefocusTarget(ne){u=ne||null}}),Fr(te);function Ee(){return $("div",{role:"dialog","aria-modal":E.value===!0?"true":"false",...n,class:I.value},[$(Xa,{name:"q-transition--fade",appear:!0},()=>E.value===!0?$("div",{class:"q-dialog__backdrop fixed-full",style:y.value,"aria-hidden":"true",tabindex:-1,onClick:H}):null),$(Xa,p.value,()=>a.value===!0?$("div",{ref:s,class:C.value,style:h.value,tabindex:-1,...M.value},Br(t.default)):null)])}return D}});const fm={xs:18,sm:24,md:32,lg:38,xl:46},tf={size:String};function rf(e,t=fm){return q(()=>e.size!==void 0?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null)}const ig={size:{type:[String,Number],default:"1em"},color:String};function sg(e){return{cSize:q(()=>e.size in fm?`${fm[e.size]}px`:e.size),classes:q(()=>"q-spinner"+(e.color?` text-${e.color}`:""))}}var Za=ct({name:"QSpinner",props:{...ig,thickness:{type:Number,default:5}},setup(e){const{cSize:t,classes:r}=sg(e);return()=>$("svg",{class:r.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[$("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}});const JA={ratio:[String,Number]};function GA(e,t){return q(()=>{const r=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(r)!==!0&&r>0?{paddingBottom:`${100/r}%`}:null})}const YF=1.7778;var ey=ct({name:"QImg",props:{...JA,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:YF},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:r}){const n=De(e.initialRatio),i=GA(e,n),s=et(),{registerTimeout:a,removeTimeout:o}=om(),{registerTimeout:l,removeTimeout:u}=om(),c=q(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),d=q(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),f=[De(null),De(c.value)],g=De(0),m=De(!1),x=De(!1),v=q(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),p=q(()=>({width:e.width,height:e.height})),h=q(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),y=q(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function b(){if(u(),e.loadingShowDelay===0){m.value=!0;return}l(()=>{m.value=!0},e.loadingShowDelay)}function _(){u(),m.value=!1}function w({target:E}){Ju(s)===!1&&(o(),n.value=E.naturalHeight===0?.5:E.naturalWidth/E.naturalHeight,D(E,1))}function D(E,M){M===1e3||Ju(s)===!0||(E.complete===!0?S(E):a(()=>{D(E,M+1)},50))}function S(E){Ju(s)!==!0&&(g.value=g.value^1,f[g.value].value=null,_(),E.getAttribute("__qerror")!=="true"&&(x.value=!1),r("load",E.currentSrc||E.src))}function A(E){o(),_(),x.value=!0,f[g.value].value=d.value,f[g.value^1].value=c.value,r("error",E)}function k(E){const M=f[E].value,I={key:"img_"+E,class:h.value,style:y.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...M};return g.value===E?Object.assign(I,{class:I.class+"current",onLoad:w,onError:A}):I.class+="loaded",$("div",{class:"q-img__container absolute-full",key:"img"+E},$("img",I))}function C(){return m.value===!1?$("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Br(t[x.value===!0?"error":"default"])):$("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[$(Za,{color:e.spinnerColor,size:e.spinnerSize})])}{let E=function(){Ve(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,M=>{o(),x.value=!1,M===null?(_(),f[g.value^1].value=c.value):b(),f[g.value].value=M},{immediate:!0})};ri.value===!0?ur(E):E()}return()=>{const E=[];return i.value!==null&&E.push($("div",{key:"filler",style:i.value})),f[0].value!==null&&E.push(k(0)),f[1].value!==null&&E.push(k(1)),E.push($(Xa,{name:"q-transition--fade"},C)),$("div",{key:"main",class:v.value,style:p.value,role:"img","aria-label":e.alt},E)}}});const xw="0 0 24 24",ww=e=>e,ty=e=>`ionicons ${e}`,QA={"mdi-":e=>`mdi ${e}`,"icon-":ww,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":ty,"ion-ios":ty,"ion-logo":ty,"iconfont ":ww,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`},XA={o_:"-outlined",r_:"-round",s_:"-sharp"},ZA={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},HF=new RegExp("^("+Object.keys(QA).join("|")+")"),KF=new RegExp("^("+Object.keys(XA).join("|")+")"),Sw=new RegExp("^("+Object.keys(ZA).join("|")+")"),VF=/^[Mm]\s?[-+]?\.?\d/,UF=/^img:/,zF=/^svguse:/,JF=/^ion-/,GF=/^(fa-(sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;var Ys=ct({name:"QIcon",props:{...tf,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(e,{slots:t}){const{proxy:{$q:r}}=et(),n=rf(e),i=q(()=>"q-icon"+(e.left===!0?" on-left":"")+(e.right===!0?" on-right":"")+(e.color!==void 0?` text-${e.color}`:"")),s=q(()=>{let a,o=e.name;if(o==="none"||!o)return{none:!0};if(r.iconMapFn!==null){const c=r.iconMapFn(o);if(c!==void 0)if(c.icon!==void 0){if(o=c.icon,o==="none"||!o)return{none:!0}}else return{cls:c.cls,content:c.content!==void 0?c.content:" "}}if(VF.test(o)===!0){const[c,d=xw]=o.split("|");return{svg:!0,viewBox:d,nodes:c.split("&&").map(f=>{const[g,m,x]=f.split("@@");return $("path",{style:m,d:g,transform:x})})}}if(UF.test(o)===!0)return{img:!0,src:o.substring(4)};if(zF.test(o)===!0){const[c,d=xw]=o.split("|");return{svguse:!0,src:c.substring(7),viewBox:d}}let l=" ";const u=o.match(HF);if(u!==null)a=QA[u[1]](o);else if(GF.test(o)===!0)a=o;else if(JF.test(o)===!0)a=`ionicons ion-${r.platform.is.ios===!0?"ios":"md"}${o.substring(3)}`;else if(Sw.test(o)===!0){a="notranslate material-symbols";const c=o.match(Sw);c!==null&&(o=o.substring(6),a+=ZA[c[1]]),l=o}else{a="notranslate material-icons";const c=o.match(KF);c!==null&&(o=o.substring(2),a+=XA[c[1]]),l=o}return{cls:a,content:l}});return()=>{const a={class:i.value,style:n.value,"aria-hidden":"true",role:"presentation"};return s.value.none===!0?$(e.tag,a,Br(t.default)):s.value.img===!0?$(e.tag,a,_a(t.default,[$("img",{src:s.value.src})])):s.value.svg===!0?$(e.tag,a,_a(t.default,[$("svg",{viewBox:s.value.viewBox||"0 0 24 24"},s.value.nodes)])):s.value.svguse===!0?$(e.tag,a,_a(t.default,[$("svg",{viewBox:s.value.viewBox},[$("use",{"xlink:href":s.value.src})])])):(s.value.cls!==void 0&&(a.class+=" "+s.value.cls),$(e.tag,a,_a(t.default,[s.value.content])))}}}),k0=ct({name:"QAvatar",props:{...tf,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:t}){const r=rf(e),n=q(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),i=q(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const s=e.icon!==void 0?[$(Ys,{name:e.icon})]:void 0;return $("div",{class:n.value,style:r.value},[$("div",{class:"q-avatar__content row flex-center overflow-hidden",style:i.value},RF(t.default,s))])}}});const ml={dark:{type:Boolean,default:null}};function bl(e,t){return q(()=>e.dark===null?t.dark.isActive:e.dark)}const QF={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},ry={xs:2,sm:4,md:8,lg:16,xl:24};var lp=ct({name:"QSeparator",props:{...ml,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=et(),r=bl(e,t.proxy.$q),n=q(()=>e.vertical===!0?"vertical":"horizontal"),i=q(()=>` q-separator--${n.value}`),s=q(()=>e.inset!==!1?`${i.value}-${QF[e.inset]}`:""),a=q(()=>`q-separator${i.value}${s.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(r.value===!0?" q-separator--dark":"")),o=q(()=>{const l={};if(e.size!==void 0&&(l[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const u=e.spaced===!0?`${ry.md}px`:e.spaced in ry?`${ry[e.spaced]}px`:e.spaced,c=e.vertical===!0?["Left","Right"]:["Top","Bottom"];l[`margin${c[0]}`]=l[`margin${c[1]}`]=u}return l});return()=>$("hr",{class:a.value,style:o.value,"aria-orientation":n.value})}}),ma=ct({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const r=q(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>$(e.tag,{class:r.value},Br(t.default))}}),cp=ct({name:"QCard",props:{...ml,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:r}}=et(),n=bl(e,r),i=q(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>$(e.tag,{class:i.value},Br(t.default))}});const XF={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function ZF(){const{props:e,proxy:{$q:t}}=et(),r=zr(Nb,hc);if(r===hc)return console.error("QPageSticky needs to be child of QLayout"),hc;const n=q(()=>{const d=e.position;return{top:d.indexOf("top")!==-1,right:d.indexOf("right")!==-1,bottom:d.indexOf("bottom")!==-1,left:d.indexOf("left")!==-1,vertical:d==="top"||d==="bottom",horizontal:d==="left"||d==="right"}}),i=q(()=>r.header.offset),s=q(()=>r.right.offset),a=q(()=>r.footer.offset),o=q(()=>r.left.offset),l=q(()=>{let d=0,f=0;const g=n.value,m=t.lang.rtl===!0?-1:1;g.top===!0&&i.value!==0?f=`${i.value}px`:g.bottom===!0&&a.value!==0&&(f=`${-a.value}px`),g.left===!0&&o.value!==0?d=`${m*o.value}px`:g.right===!0&&s.value!==0&&(d=`${-m*s.value}px`);const x={transform:`translate(${d}, ${f})`};return e.offset&&(x.margin=`${e.offset[1]}px ${e.offset[0]}px`),g.vertical===!0?(o.value!==0&&(x[t.lang.rtl===!0?"right":"left"]=`${o.value}px`),s.value!==0&&(x[t.lang.rtl===!0?"left":"right"]=`${s.value}px`)):g.horizontal===!0&&(i.value!==0&&(x.top=`${i.value}px`),a.value!==0&&(x.bottom=`${a.value}px`)),x}),u=q(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function c(d){const f=Br(d.default);return $("div",{class:u.value,style:l.value},e.expand===!0?f:[$("div",f)])}return{$layout:r,getStickyContent:c}}var eT=ct({name:"QPageSticky",props:XF,setup(e,{slots:t}){const{getStickyContent:r}=ZF();return()=>r(t)}}),tT=ct({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:r}}=et(),n=zr(Nb,hc);if(n===hc)return console.error("QPageContainer needs to be child of QLayout"),hc;dc(sF,!0);const i=q(()=>{const s={};return n.header.space===!0&&(s.paddingTop=`${n.header.size}px`),n.right.space===!0&&(s[`padding${r.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(s.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(s[`padding${r.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),s});return()=>$("div",{class:"q-page-container",style:i.value},Br(t.default))}});const{passive:Dw}=lr,rT=["both","horizontal","vertical"];var nT=ct({name:"QScrollObserver",props:{axis:{type:String,validator:e=>rT.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:OF},emits:["scroll"],setup(e,{emit:t}){const r={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let n=null,i,s;Ve(()=>e.scrollTarget,()=>{l(),o()});function a(){n!==null&&n();const d=Math.max(0,Yb(i)),f=Hb(i),g={top:d-r.position.top,left:f-r.position.left};if(e.axis==="vertical"&&g.top===0||e.axis==="horizontal"&&g.left===0)return;const m=Math.abs(g.top)>=Math.abs(g.left)?g.top<0?"up":"down":g.left<0?"left":"right";r.position={top:d,left:f},r.directionChanged=r.direction!==m,r.delta=g,r.directionChanged===!0&&(r.direction=m,r.inflectionPoint=r.position),t("scroll",{...r})}function o(){i=IF(s,e.scrollTarget),i.addEventListener("scroll",u,Dw),u(!0)}function l(){i!==void 0&&(i.removeEventListener("scroll",u,Dw),i=void 0)}function u(d){if(d===!0||e.debounce===0||e.debounce==="0")a();else if(n===null){const[f,g]=e.debounce?[setTimeout(a,e.debounce),clearTimeout]:[requestAnimationFrame(a),cancelAnimationFrame];n=()=>{g(f),n=null}}}const{proxy:c}=et();return Ve(()=>c.$q.lang.rtl,a),ur(()=>{s=c.$el.parentNode,o()}),Fr(()=>{n!==null&&n(),l()}),Object.assign(c,{trigger:u,getPosition:()=>r}),Vn}});function iT(){const e=De(!ri.value);return e.value===!1&&ur(()=>{e.value=!0}),{isHydrated:e}}const ek=typeof ResizeObserver!="undefined",Aw=ek===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var kw=ct({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let r=null,n,i={width:-1,height:-1};function s(l){l===!0||e.debounce===0||e.debounce==="0"?a():r===null&&(r=setTimeout(a,e.debounce))}function a(){if(r!==null&&(clearTimeout(r),r=null),n){const{offsetWidth:l,offsetHeight:u}=n;(l!==i.width||u!==i.height)&&(i={width:l,height:u},t("resize",i))}}const{proxy:o}=et();if(o.trigger=s,ek===!0){let l;const u=c=>{n=o.$el.parentNode,n?(l=new ResizeObserver(s),l.observe(n),a()):c!==!0&&vr(()=>{u(!0)})};return ur(()=>{u()}),Fr(()=>{r!==null&&clearTimeout(r),l!==void 0&&(l.disconnect!==void 0?l.disconnect():n&&l.unobserve(n))}),Vn}else{let c=function(){r!==null&&(clearTimeout(r),r=null),u!==void 0&&(u.removeEventListener!==void 0&&u.removeEventListener("resize",s,lr.passive),u=void 0)},d=function(){c(),n&&n.contentDocument&&(u=n.contentDocument.defaultView,u.addEventListener("resize",s,lr.passive),a())};const{isHydrated:l}=iT();let u;return ur(()=>{vr(()=>{n=o.$el,n&&d()})}),Fr(c),()=>{if(l.value===!0)return $("object",{class:"q--avoid-card-border",style:Aw.style,tabindex:-1,type:"text/html",data:Aw.url,"aria-hidden":"true",onLoad:d})}}}}),sT=ct({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:r}){const{proxy:{$q:n}}=et(),i=De(null),s=De(n.screen.height),a=De(e.container===!0?0:n.screen.width),o=De({position:0,direction:"down",inflectionPoint:0}),l=De(0),u=De(ri.value===!0?0:Gg()),c=q(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),d=q(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),f=q(()=>u.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${u.value}px`}:null),g=q(()=>u.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${u.value}px`,width:`calc(100% + ${u.value}px)`}:null);function m(b){if(e.container===!0||document.qScrollPrevented!==!0){const _={position:b.position.top,direction:b.direction,directionChanged:b.directionChanged,inflectionPoint:b.inflectionPoint.top,delta:b.delta.top};o.value=_,e.onScroll!==void 0&&r("scroll",_)}}function x(b){const{height:_,width:w}=b;let D=!1;s.value!==_&&(D=!0,s.value=_,e.onScrollHeight!==void 0&&r("scrollHeight",_),p()),a.value!==w&&(D=!0,a.value=w),D===!0&&e.onResize!==void 0&&r("resize",b)}function v({height:b}){l.value!==b&&(l.value=b,p())}function p(){if(e.container===!0){const b=s.value>l.value?Gg():0;u.value!==b&&(u.value=b)}}let h=null;const y={instances:{},view:q(()=>e.view),isContainer:q(()=>e.container),rootRef:i,height:s,containerHeight:l,scrollbarWidth:u,totalWidth:q(()=>a.value+u.value),rows:q(()=>{const b=e.view.toLowerCase().split(" ");return{top:b[0].split(""),middle:b[1].split(""),bottom:b[2].split("")}}),header:gi({size:0,offset:0,space:!1}),right:gi({size:300,offset:0,space:!1}),footer:gi({size:0,offset:0,space:!1}),left:gi({size:300,offset:0,space:!1}),scroll:o,animate(){h!==null?clearTimeout(h):document.body.classList.add("q-body--layout-animate"),h=setTimeout(()=>{h=null,document.body.classList.remove("q-body--layout-animate")},155)},update(b,_,w){y[b][_]=w}};if(dc(Nb,y),Gg()>0){let w=function(){b=null,_.classList.remove("hide-scrollbar")},D=function(){if(b===null){if(_.scrollHeight>n.screen.height)return;_.classList.add("hide-scrollbar")}else clearTimeout(b);b=setTimeout(w,300)},S=function(A){b!==null&&A==="remove"&&(clearTimeout(b),w()),window[`${A}EventListener`]("resize",D)},b=null;const _=document.body;Ve(()=>e.container!==!0?"add":"remove",S),e.container!==!0&&S("add"),Xp(()=>{S("remove")})}return()=>{const b=_a(t.default,[$(nT,{onScroll:m}),$(kw,{onResize:x})]),_=$("div",{class:c.value,style:d.value,ref:e.container===!0?void 0:i,tabindex:-1},b);return e.container===!0?$("div",{class:"q-layout-container overflow-hidden",ref:i},[$(kw,{onResize:v}),$("div",{class:"absolute-full",style:f.value},[$("div",{class:"scroll",style:g.value},[_])])]):_}}}),aT=ct({name:"QResponsive",props:JA,setup(e,{slots:t}){const r=GA(e);return()=>$("div",{class:"q-responsive"},[$("div",{class:"q-responsive__filler overflow-hidden"},[$("div",{style:r.value})]),$("div",{class:"q-responsive__content absolute-full fit"},Br(t.default))])}}),oT="/assets/MoHLogo.b52ea93d.png",lT="/assets/pepfar-new-logo.7a384e3c.jpeg",cT="/assets/LogoiDMED.85615611.png";function uT(e){return _b()?(kD(e),!0):!1}function dT(e){return typeof e=="function"?e():Ma(e)}const ag=typeof window!="undefined"&&typeof document!="undefined";typeof WorkerGlobalScope!="undefined"&&globalThis instanceof WorkerGlobalScope;const fT=ag?window:void 0;ag&&window.document;ag&&window.navigator;ag&&window.location;function hT(){const e=De(!1),t=et();return t&&ur(()=>{e.value=!0},t),e}function pT(e){const t=hT();return q(()=>(t.value,Boolean(e())))}function gT(e,t={}){const{window:r=fT}=t,n=pT(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let i;const s=De(!1),a=u=>{s.value=u.matches},o=()=>{!i||("removeEventListener"in i?i.removeEventListener("change",a):i.removeListener(a))},l=dI(()=>{!n.value||(o(),i=r.matchMedia(dT(e)),"addEventListener"in i?i.addEventListener("change",a):i.addListener(a),s.value=i.matches)});return uT(()=>{l(),o(),i=void 0}),s}function yT(e){return Lb(e)===!0?"__q_date|"+e.getTime():lF(e)===!0?"__q_expr|"+e.source:typeof e=="number"?"__q_numb|"+e:typeof e=="boolean"?"__q_bool|"+(e?"1":"0"):typeof e=="string"?"__q_strn|"+e:typeof e=="function"?"__q_strn|"+e.toString():e===Object(e)?"__q_objt|"+JSON.stringify(e):e}function vT(e){if(e.length<9)return e;const r=e.substring(0,8),n=e.substring(9);switch(r){case"__q_date":const i=Number(n);return new Date(Number.isNaN(i)===!0?n:i);case"__q_expr":return new RegExp(n);case"__q_numb":return Number(n);case"__q_bool":return Boolean(n==="1");case"__q_strn":return""+n;case"__q_objt":return JSON.parse(n);default:return e}}function tk(){const e=()=>null;return{has:()=>!1,hasItem:()=>!1,getLength:()=>0,getItem:e,getIndex:e,getKey:e,getAll:()=>{},getAllKeys:()=>[],set:Vn,setItem:Vn,remove:Vn,removeItem:Vn,clear:Vn,isEmpty:()=>!0}}function rk(e){const t=window[e+"Storage"],r=a=>{const o=t.getItem(a);return o?vT(o):null},n=a=>t.getItem(a)!==null,i=(a,o)=>{t.setItem(a,yT(o))},s=a=>{t.removeItem(a)};return{has:n,hasItem:n,getLength:()=>t.length,getItem:r,getIndex:a=>a<t.length?r(t.key(a)):null,getKey:a=>a<t.length?t.key(a):null,getAll:()=>{let a;const o={},l=t.length;for(let u=0;u<l;u++)a=t.key(u),o[a]=r(a);return o},getAllKeys:()=>{const a=[],o=t.length;for(let l=0;l<o;l++)a.push(t.key(l));return a},set:i,setItem:i,remove:s,removeItem:s,clear:()=>{t.clear()},isEmpty:()=>t.length===0}}const nk=Mt.has.webStorage===!1?tk():rk("local"),Ti={install({$q:e}){e.localStorage=nk}};Object.assign(Ti,nk);function mT(e,t,r){switch(r){case">":return e>t;case">=":return e>=t;case"<":return e<t;case"<=":return e<=t;case"=":return e===t;case"!=":return e!==t;default:return e===t}}function hm(e){return e==null}function ik(e){return e instanceof Date&&!Number.isNaN(e.getTime())&&typeof e.toISOString=="function"}function it(e){return Array.isArray(e)}function ny(e){return typeof e=="function"}function wl(e){return bT(e)===0}function bT(e){return it(e)?e.length:Object.keys(e).length}function _T(e,t,r,n="SORT_REGULAR"){let i=-1;const s=e.map(a=>({criteria:t.map(l=>{if(typeof l=="function")return l(a);const u=sk(a,l,!1);return ik(u)?new Date(u).getTime():u}),index:++i,value:a}));return xT(s,(a,o)=>wT(a,o,r,n))}function xT(e,t){let r=e.length;e.sort(t);const n=[];for(;r--;)n[r]=e[r].value;return n}function wT(e,t,r,n){let i=-1;const s=e.criteria,a=t.criteria,o=s.length;for(;++i<o;){const l=ST(s[i],a[i],n);if(l){const u=r[i];return l*(u==="desc"?-1:1)}}return e.index-t.index}function ST(e,t,r){if(e!==t){const n=e!==void 0,i=e===null,s=e===e,a=t!==void 0,o=t===null;return(typeof e!="number"||typeof t!="number")&&(e=String(e),t=String(t),r==="SORT_FLAG_CASE"&&(e=e.toUpperCase(),t=t.toUpperCase())),!o&&e>t||i&&a||!n||!s?1:-1}return 0}function DT(e,t){return e.reduce((r,n)=>{const i=t(n);return r[i]===void 0&&(r[i]=[]),r[i].push(n),r},{})}function og(e){throw new Error(["[Pinia ORM]"].concat(e).join(" "))}function Gu(e,t){e||og(t)}function AT(e,t){let r="",n=e;for(;n--;)r+=t[Math.random()*64|0];return r}function kT(e,t){const r=t?{key:e,params:t}:{key:e},n=JSON.stringify(r);return typeof process=="undefined"?btoa(n):n}function sk(e,t,r=!0){t=typeof t=="string"?t.split("."):t;const n=t.shift();return e&&Object.prototype.hasOwnProperty.call(e,n)&&t.length===0?e[n]:!e||!Object.prototype.hasOwnProperty.call(e,n)?r?e:void 0:sk(e[n],t)}function pm(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||typeof e!="object"&&typeof t!="object")return e===t;if(e.prototype!==t.prototype)return!1;const r=Object.keys(e);return r.length!==Object.keys(t).length?!1:r.every(n=>pm(e[n],t[n]))}var ET=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ak;const nf=e=>ak=e,ok=Symbol();function gm(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Qu;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Qu||(Qu={}));function CT(){const e=AD(!0),t=e.run(()=>De({}));let r=[],n=[];const i=yl({install(s){nf(i),i._a=s,s.provide(ok,i),s.config.globalProperties.$pinia=i,n.forEach(a=>r.push(a)),n=[]},use(s){return!this._a&&!ET?n.push(s):r.push(s),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return i}const lk=()=>{};function Ew(e,t,r,n=lk){e.push(t);const i=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),n())};return!r&&_b()&&kD(i),i}function Sl(e,...t){e.slice().forEach(r=>{r(...t)})}const OT=e=>e();function ym(e,t){e instanceof Map&&t instanceof Map&&t.forEach((r,n)=>e.set(n,r)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const n=t[r],i=e[r];gm(i)&&gm(n)&&e.hasOwnProperty(r)&&!Ht(n)&&!qo(n)?e[r]=ym(i,n):e[r]=n}return e}const MT=Symbol();function IT(e){return!gm(e)||!e.hasOwnProperty(MT)}const{assign:ca}=Object;function BT(e){return!!(Ht(e)&&e.effect)}function FT(e,t,r,n){const{state:i,actions:s,getters:a}=t,o=r.state.value[e];let l;function u(){o||(r.state.value[e]=i?i():{});const c=zM(r.state.value[e]);return ca(c,s,Object.keys(a||{}).reduce((d,f)=>(d[f]=yl(q(()=>{nf(r);const g=r._s.get(e);return a[f].call(g,g)})),d),{}))}return l=ck(e,u,t,r,n,!0),l}function ck(e,t,r={},n,i,s){let a;const o=ca({actions:{}},r),l={deep:!0};let u,c,d=[],f=[],g;const m=n.state.value[e];!s&&!m&&(n.state.value[e]={}),De({});let x;function v(S){let A;u=c=!1,typeof S=="function"?(S(n.state.value[e]),A={type:Qu.patchFunction,storeId:e,events:g}):(ym(n.state.value[e],S),A={type:Qu.patchObject,payload:S,storeId:e,events:g});const k=x=Symbol();vr().then(()=>{x===k&&(u=!0)}),c=!0,Sl(d,A,n.state.value[e])}const p=s?function(){const{state:A}=r,k=A?A():{};this.$patch(C=>{ca(C,k)})}:lk;function h(){a.stop(),d=[],f=[],n._s.delete(e)}function y(S,A){return function(){nf(n);const k=Array.from(arguments),C=[],E=[];function M(L){C.push(L)}function I(L){E.push(L)}Sl(f,{args:k,name:S,store:_,after:M,onError:I});let P;try{P=A.apply(this&&this.$id===e?this:_,k)}catch(L){throw Sl(E,L),L}return P instanceof Promise?P.then(L=>(Sl(C,L),L)).catch(L=>(Sl(E,L),Promise.reject(L))):(Sl(C,P),P)}}const b={_p:n,$id:e,$onAction:Ew.bind(null,f),$patch:v,$reset:p,$subscribe(S,A={}){const k=Ew(d,S,A.detached,()=>C()),C=a.run(()=>Ve(()=>n.state.value[e],E=>{(A.flush==="sync"?c:u)&&S({storeId:e,type:Qu.direct,events:g},E)},ca({},l,A)));return k},$dispose:h},_=gi(b);n._s.set(e,_);const D=(n._a&&n._a.runWithContext||OT)(()=>n._e.run(()=>(a=AD()).run(t)));for(const S in D){const A=D[S];if(Ht(A)&&!BT(A)||qo(A))s||(m&&IT(A)&&(Ht(A)?A.value=m[S]:ym(A,m[S])),n.state.value[e][S]=A);else if(typeof A=="function"){const k=y(S,A);D[S]=k,o.actions[S]=A}}return ca(_,D),ca(Ie(_),D),Object.defineProperty(_,"$state",{get:()=>n.state.value[e],set:S=>{v(A=>{ca(A,S)})}}),n._p.forEach(S=>{ca(_,a.run(()=>S({store:_,app:n._a,pinia:n,options:o})))}),m&&s&&r.hydrate&&r.hydrate(_.$state,m),u=!0,c=!0,_}function TT(e,t,r){let n,i;const s=typeof t=="function";typeof e=="string"?(n=e,i=s?r:t):(i=e,n=e.id);function a(o,l){const u=MI();return o=o||(u?zr(ok,null):null),o&&nf(o),o=ak,o._s.has(n)||(s?ck(n,t,i,o):FT(n,i,o)),o._s.get(n)}return a.$id=n,a}class PT{constructor(t,r={},n={}){if(!t||typeof t!="string")throw new Error(`Expected a string key for Entity, but found ${t}.`);const{idAttribute:i="id",mergeStrategy:s=(o,l)=>({...o,...l}),processStrategy:a=o=>({...o})}=n;this._key=t,this._getId=i,this._mergeStrategy=s,this._processStrategy=a,this.define(r)}get key(){return this._key}define(t){this.schema=Object.keys(t).reduce((r,n)=>{const i=t[n];return{...r,[n]:i}},this.schema||{})}getId(t,r,n){return this._getId(t,r,n)}merge(t,r){return this._mergeStrategy(t,r)}normalize(t,r,n,i,s,a){const o=this.getId(t,r,n),l=this.key;if(l in a||(a[l]={}),o in a[l]||(a[l][o]=[]),a[l][o].includes(t))return o;a[l][o].push(t);const u=this._processStrategy(t,r,n);return Object.keys(this.schema).forEach(c=>{if(u.hasOwnProperty(c)&&typeof u[c]=="object"){const d=this.schema[c],f=typeof d=="function"?d(t):d;u[c]=i(u[c],u,c,f,s,a)}}),s(this,u,t,r,n),o}}class uk{constructor(t,r){r&&(this._schemaAttribute=typeof r=="string"?n=>n[r]:r),this.define(t)}get isSingleSchema(){return!this._schemaAttribute}define(t){this.schema=t}getSchemaAttribute(t,r,n){return!this.isSingleSchema&&this._schemaAttribute(t,r,n)}inferSchema(t,r,n){if(this.isSingleSchema)return this.schema;const i=this.getSchemaAttribute(t,r,n);return this.schema[i]}normalizeValue(t,r,n,i,s,a){const o=this.inferSchema(t,r,n);if(!o)return t;const l=i(t,r,n,o,s,a);return this.isSingleSchema||l===void 0||l===null?l:{id:l,schema:this.getSchemaAttribute(t,r,n)}}}class RT extends uk{constructor(t,r){if(!r)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');super(t,r)}normalize(t,r,n,i,s,a){return this.normalizeValue(t,r,n,i,s,a)}}const $T=e=>{if(Array.isArray(e)&&e.length>1)throw new Error(`Expected schema definition to be a single schema, but found ${e.length}.`);return e[0]},dk=e=>Array.isArray(e)?e:Object.keys(e).map(t=>e[t]),NT=(e,t,r,n,i,s,a)=>dk(t).map(o=>i(o,r,n,$T(e),s,a));class LT extends uk{normalize(t,r,n,i,s,a){return dk(t).map(o=>this.normalizeValue(o,r,n,i,s,a)).filter(o=>o!=null)}}const qT=(e,t,r,n,i,s,a)=>{const o={...t};return Object.keys(e).forEach(l=>{const u=e[l],c=typeof u=="function"?u(t):u,d=i(t[l],t,l,c,s,a);d==null?delete o[l]:o[l]=d}),o},vm=(e,t,r,n,i,s)=>typeof e!="object"||!e?e:typeof n=="object"&&(!n.normalize||typeof n.normalize!="function")?(Array.isArray(n)?NT:qT)(n,e,t,r,vm,i,s):n.normalize(e,t,r,vm,i,s),WT=e=>(t,r,n,i,s)=>{const a=t.key,o=t.getId(n,i,s);a in e||(e[a]={}),e[a][o]=e[a][o]?t.merge(e[a][o],r):r},iy={Array:LT,Entity:PT,Union:RT},jT=(e,t)=>{if(!e||typeof e!="object")throw new Error(`Unexpected input given to normalize. Expected type to be "object", found "${e===null?"null":typeof e}".`);const r={},n=WT(r),s=vm(e,e,null,t,n,{});return{entities:r,result:s}};var YT=Object.defineProperty,HT=(e,t,r)=>t in e?YT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Kb=(e,t,r)=>(HT(e,typeof t!="symbol"?t+"":t,r),r);class fk{constructor(t){Kb(this,"$parameters",{}),this.$self().attributes=t,this.$parameters={...this.$parameters,...this.$self().parameters}}get(t){return t}set(t){return t}static withParameters(t){return this.parameters=t,this}getParameters(){return this.$parameters}$self(){return this.constructor}static newRawInstance(t){return new this(t)}}Kb(fk,"attributes");Kb(fk,"parameters");var KT=Object.defineProperty,VT=(e,t,r)=>t in e?KT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Cw=(e,t,r)=>(VT(e,typeof t!="symbol"?t+"":t,r),r);class hk{constructor(t){Cw(this,"model"),Cw(this,"key"),this.model=t,this.key=""}setKey(t){return this.key=t,this}}var UT=Object.defineProperty,zT=(e,t,r)=>t in e?UT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sy=(e,t,r)=>(zT(e,typeof t!="symbol"?t+"":t,r),r);class tr extends hk{constructor(t,r){super(t),sy(this,"parent"),sy(this,"related"),sy(this,"onDeleteMode"),this.parent=t,this.related=r}getRelated(){return this.related}getKeys(t,r){return t.map(n=>n[r])}onDelete(t){return this.onDeleteMode=t,this}mapToDictionary(t,r){return t.reduce((n,i)=>{const[s,a]=r(i);return n[s]||(n[s]=[]),n[s].push(a),n},{})}compositeKeyMapper(t,r,n){it(t)&&it(r)?t.forEach((i,s)=>{n(i,r[s])}):!it(r)&&!it(t)?n(t,r):og(["This relation cant be resolve. Either child or parent doesnt have different key types (composite)",JSON.stringify(t),JSON.stringify(r)])}getKey(t){return it(t)?`[${t.join(",")}]`:t}}var JT=Object.defineProperty,GT=(e,t,r)=>t in e?JT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Xc=(e,t,r)=>(GT(e,typeof t!="symbol"?t+"":t,r),r);class mm extends tr{constructor(t,r,n,i,s){super(t,t),Xc(this,"relatedModels"),Xc(this,"relatedTypes"),Xc(this,"morphId"),Xc(this,"morphType"),Xc(this,"ownerKey"),this.relatedModels=r,this.relatedTypes=this.createRelatedTypes(r),this.morphId=n,this.morphType=i,this.ownerKey=s}createRelatedTypes(t){return t.reduce((r,n)=>(r[n.$entity()]=n,r),{})}getType(){return this.morphType}getRelateds(){return this.relatedModels}define(t){return t.union(this.relatedModels,(r,n,i)=>{const s=n[this.morphType],a=this.relatedTypes[s],o=this.ownerKey||a.$getKeyName();return n[this.morphId]=r[o],s})}attach(t,r){}addEagerConstraints(t,r){}match(t,r,n){const i=this.buildDictionary(n,r);r.forEach(s=>{var u,c;const a=s[this.morphType],o=s[this.morphId],l=(c=(u=i[a])==null?void 0:u[o])!=null?c:null;s.$setRelation(t,l)})}make(t,r){return!t||!r?null:this.relatedTypes[r].$newInstance(t)}buildDictionary(t,r){const n=this.getKeysByEntity(r),i={};for(const s in n){const a=this.relatedTypes[s];Gu(!!a,[`Trying to load "morph to" relation of \`${s}\``,"but the model could not be found."]);const o=this.ownerKey||a.$getKeyName(),l=t.newQueryWithConstraints(s).whereIn(o,n[s]).get(!1);i[s]=l.reduce((u,c)=>(u[c[o]]=c,u),{})}return i}getKeysByEntity(t){return t.reduce((r,n)=>{const i=n[this.morphType],s=n[this.morphId];return s!==null&&this.relatedTypes[i]!==void 0&&(r[i]||(r[i]=[]),r[i].push(s)),r},{})}}var QT=Object.defineProperty,XT=(e,t,r)=>t in e?QT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ow=(e,t,r)=>(XT(e,typeof t!="symbol"?t+"":t,r),r);class sf extends hk{constructor(t,r=null){super(t),Ow(this,"value"),Ow(this,"isNullable",!0),this.value=typeof r=="function"?r():r}notNullable(){return this.isNullable=!1,this}makeReturn(t,r){return r===void 0?this.value:r===null?(this.isNullable||this.throwWarning(["is set as non nullable!"]),r):(typeof r!==t&&this.throwWarning([r,"is not a",t]),r)}throwWarning(t){console.warn(["[Pinia ORM]"].concat([`Field ${this.model.$entity()}:${this.key} - `,...t]).join(" "))}}var ZT=Object.defineProperty,e2=(e,t,r)=>t in e?ZT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ay=(e,t,r)=>(e2(e,typeof t!="symbol"?t+"":t,r),r);class pk extends sf{constructor(t,r={}){var n,i;super(t),ay(this,"options"),ay(this,"alphabet","useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"),ay(this,"size",21),this.options=typeof r=="number"?{size:r}:r,this.alphabet=(n=this.options.alphabet)!=null?n:this.alphabet,this.size=(i=this.options.size)!=null?i:this.size}make(t){const r=this.model.$casts()[this.model.$getKeyName()];return r?t!=null?t:r.withParameters(this.options).newRawInstance(this.model.$fields()).set(t):t!=null?t:AT(this.size,this.alphabet)}}var t2=Object.defineProperty,r2=(e,t,r)=>t in e?t2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mw=(e,t,r)=>(r2(e,typeof t!="symbol"?t+"":t,r),r);class n2{constructor(t){Mw(this,"schemas",{}),Mw(this,"model"),this.model=t}one(t,r){t=t||this.model,r=r||this.model;const n=`${t.$self().modelEntity()}${r.$self().modelEntity()}`;if(this.schemas[n])return this.schemas[n];const i=this.newEntity(t,r);this.schemas[n]=i;const s=this.definition(t);return i.define(s),i}many(t,r){return new iy.Array(this.one(t,r))}union(t,r){const n=t.reduce((i,s)=>(i[s.$self().modelEntity()]=this.one(s),i),{});return new iy.Union(n,r)}newEntity(t,r){const n=t.$self().modelEntity(),i=this.idAttribute(t,r);return new iy.Entity(n,{},{idAttribute:i})}idAttribute(t,r){const n=this.getUidPrimaryKeyPairs(t);return(i,s,a)=>{var l,u,c,d;a!==null&&((l=r.$fields()[a])==null||l.attach(s,i));for(const f in n)hm(i[f])&&(i[f]=n[f].setKey(f).make(i[f]));return["BelongsTo","HasOne","MorphOne","MorphTo"].includes((c=(u=r.$fields()[a])==null?void 0:u.constructor.name)!=null?c:"")&&it(s[a])&&og(['You are passing a list to "',`${r.$modelEntity()}.${a}`,`" which is a one to one Relation(${(d=r.$fields()[a])==null?void 0:d.constructor.name}):`,JSON.stringify(s[a])]),t.$getIndexId(i)}}getUidPrimaryKeyPairs(t){const r=t.$fields(),n=t.$getKeyName(),i=it(n)?n:[n],s={};return i.forEach(a=>{const o=r[a];o instanceof pk&&(s[a]=o)}),s}definition(t){const r=t.$fields(),n={};for(const i in r){const s=r[i];s instanceof tr&&(n[i]=s.define(this))}return n}}var i2=Object.defineProperty,s2=(e,t,r)=>t in e?i2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a2=(e,t,r)=>(s2(e,typeof t!="symbol"?t+"":t,r),r);class o2{constructor(t){a2(this,"model"),this.model=t}process(t){const r=this.normalize(t);return[t,r]}normalize(t){const r=it(t)?[this.getSchema()]:this.getSchema();return jT(t,r).entities}getSchema(){return new n2(this.model).one()}}function l2(e){return{save(t,r=!0){this.data=Object.assign({},this.data,t),r&&e&&e.newQuery(this.$id).save(Object.values(t))},insert(t,r=!0){this.data=Object.assign({},this.data,t),r&&e&&e.newQuery(this.$id).insert(Object.values(t))},update(t,r=!0){this.data=Object.assign({},this.data,t),r&&e&&e.newQuery(this.$id).update(Object.values(t))},fresh(t,r=!0){this.data=t,r&&e&&e.newQuery(this.$id).fresh(Object.values(t))},destroy(t,r=!0){r&&e?e.newQuery(this.$id).newQuery(this.$id).destroy(t):(t.forEach(n=>delete this.data[n]),this.data.__ob__&&this.data.__ob__.dep.notify())},delete(t,r=!0){r&&e?e.whereId(t).delete():(t.forEach(n=>delete this.data[n]),this.data.__ob__&&this.data.__ob__.dep.notify())},flush(t,r=!0){this.data={},r&&e&&e.newQuery(this.$id).flush()}}}function gk(e,t,r){return TT(e,{state:()=>({data:{}}),actions:l2(r),...t})}var c2=Object.defineProperty,u2=(e,t,r)=>t in e?c2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Dl=(e,t,r)=>(u2(e,typeof t!="symbol"?t+"":t,r),r);class yk extends tr{constructor(t,r,n,i,s,a,o){super(t,r),Dl(this,"pivot"),Dl(this,"foreignPivotKey"),Dl(this,"relatedPivotKey"),Dl(this,"parentKey"),Dl(this,"relatedKey"),Dl(this,"pivotKey","pivot"),this.pivot=n,this.foreignPivotKey=i,this.relatedPivotKey=s,this.parentKey=a,this.relatedKey=o}getRelateds(){return[this.related,this.pivot]}define(t){return t.many(this.related,this.parent)}attach(t,r){var i;const n=(i=r.pivot)!=null?i:{};n[this.foreignPivotKey]=t[this.parentKey],n[this.relatedPivotKey]=r[this.relatedKey],r[`pivot_${this.pivot.$entity()}`]=n}make(t){return t?t.map(r=>this.related.$newInstance(r)):[]}match(t,r,n){const i=n.get(!1),s=n.newQuery(this.pivot.$entity()).whereIn(this.relatedPivotKey,this.getKeys(i,this.relatedKey)).whereIn(this.foreignPivotKey,this.getKeys(r,this.parentKey)).groupBy(this.foreignPivotKey,this.relatedPivotKey).get();r.forEach(a=>{const o=[];i.forEach(l=>{var d,f;const u=(f=(d=s[`[${a[this.parentKey]},${l[this.relatedKey]}]`])==null?void 0:d[0])!=null?f:null;if(!u)return;const c=l.$newInstance(l.$toJson(),{operation:void 0});c.$setRelation("pivot",u),o.push(c)}),a.$setRelation(t,o)})}addEagerConstraints(t,r){}}var d2=Object.defineProperty,f2=(e,t,r)=>t in e?d2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dr=(e,t,r)=>(f2(e,typeof t!="symbol"?t+"":t,r),r);class Xu{constructor(t,r,n,i,s){dr(this,"database"),dr(this,"model"),dr(this,"wheres",[]),dr(this,"orders",[]),dr(this,"groups",[]),dr(this,"take",null),dr(this,"skip",0),dr(this,"visible",["*"]),dr(this,"hidden",[]),dr(this,"cache"),dr(this,"eagerLoad",{}),dr(this,"pinia"),dr(this,"fromCache",!1),dr(this,"cacheConfig",{}),dr(this,"getNewHydrated",!1),dr(this,"hydratedDataCache"),this.database=t,this.model=r,this.pinia=s,this.cache=n,this.hydratedDataCache=i,this.getNewHydrated=!1}newQuery(t){return this.getNewHydrated=!0,new Xu(this.database,this.database.getModel(t),this.cache,this.hydratedDataCache,this.pinia)}newQueryWithConstraints(t){const r=new Xu(this.database,this.database.getModel(t),this.cache,this.hydratedDataCache,this.pinia);return r.eagerLoad={...this.eagerLoad},r.wheres=[...this.wheres],r.orders=[...this.orders],r.take=this.take,r.skip=this.skip,r.fromCache=this.fromCache,r.cacheConfig=this.cacheConfig,r}newQueryForRelation(t){return new Xu(this.database,t.getRelated(),this.cache,new Map,this.pinia)}newInterpreter(){return new o2(this.model)}commit(t,r){const n=gk(this.model.$storeName(),this.model.$piniaOptions(),this)(this.pinia);return t&&typeof n[t]=="function"&&n[t](r,!1),this.cache&&["get","all","insert","flush","delete","update","destroy"].includes(t)&&this.cache.clear(),n.$state.data}withMeta(){return this.makeVisible(["_meta"])}makeVisible(t){return this.visible=t,this.getNewHydrated=!0,this}makeHidden(t){return this.hidden=t,this.getNewHydrated=!0,this}where(t,r){return this.wheres.push({field:t,value:r,boolean:"and"}),this}whereIn(t,r){return r instanceof Set&&(r=Array.from(r)),this.where(t,r)}whereNotIn(t,r){return r instanceof Set&&(r=Array.from(r)),this.where(n=>!r.includes(n[t]))}orWhereIn(t,r){return r instanceof Set&&(r=Array.from(r)),this.orWhere(t,r)}orWhereNotIn(t,r){return r instanceof Set&&(r=Array.from(r)),this.orWhere(n=>!r.includes(n[t]))}whereId(t){return this.where(this.model.$getKeyName(),t)}orWhere(t,r){return this.wheres.push({field:t,value:r,boolean:"or"}),this}whereNull(t){return this.where(t,null)}whereNotNull(t){return this.where(r=>r[t]!=null)}whereHas(t,r=()=>{},n,i){return this.where(this.getFieldWhereForRelations(t,r,n,i))}orWhereHas(t,r=()=>{},n,i){return this.orWhere(this.getFieldWhereForRelations(t,r,n,i))}has(t,r,n){return this.where(this.getFieldWhereForRelations(t,()=>{},r,n))}orHas(t,r,n){return this.orWhere(this.getFieldWhereForRelations(t,()=>{},r,n))}doesntHave(t){return this.where(this.getFieldWhereForRelations(t,()=>{},"=",0))}orDoesntHave(t){return this.orWhere(this.getFieldWhereForRelations(t,()=>{},"=",0))}whereDoesntHave(t,r=()=>{}){return this.where(this.getFieldWhereForRelations(t,r,"=",0))}orWhereDoesntHave(t,r=()=>{}){return this.orWhere(this.getFieldWhereForRelations(t,r,"=",0))}groupBy(...t){return t.forEach(r=>{this.groups.push({field:r})}),this}orderBy(t,r="asc"){return this.orders.push({field:t,direction:r}),this}limit(t){return this.take=t,this}offset(t){return this.skip=t,this}with(t,r=()=>{}){return this.getNewHydrated=!0,this.eagerLoad[t]=r,this}withAll(t=()=>{}){let r=this.model.$fields();Object.values(this.model.$types()).forEach(i=>{r={...r,...i.fields()}});for(const i in r)r[i]instanceof tr&&this.with(i,t);return this}withAllRecursive(t=3){return this.withAll(r=>{t>0&&r.withAllRecursive(t-1)})}useCache(t,r){return this.fromCache=!0,this.cacheConfig={key:t,params:r},this}getFieldWhereForRelations(t,r=()=>{},n,i){const s=this.newQuery(this.model.$entity()).with(t,r).get(!1).filter(a=>{const o=a[t];return mT(it(o)?o.length:o===null?0:1,typeof n=="number"?n:i!=null?i:1,typeof n=="number"||i===void 0?">=":n)}).map(a=>a.$getIndexId());return a=>s.includes(a.$getIndexId())}storeFind(t=[]){const r=this.commit("all"),n=[],i=new Set(t);return i.size>0?i.forEach(s=>{r[s]&&n.push(this.hydrate(r[s],{visible:this.visible,hidden:this.hidden,operation:"get"}))}):Object.values(r).forEach(s=>n.push(this.hydrate(s,{visible:this.visible,hidden:this.hidden,operation:"get"}))),n}all(){return this.storeFind()}get(t=!0){if(!this.fromCache||!this.cache)return this.internalGet(t);const r=this.cacheConfig.key?this.cacheConfig.key+JSON.stringify(this.cacheConfig.params):kT(this.model.$entity(),{where:this.wheres,groups:this.groups,orders:this.orders,eagerLoads:this.eagerLoad,skip:this.skip,take:this.take,hidden:this.hidden,visible:this.visible}),n=this.cache.get(r);if(n)return n;const i=this.internalGet(t);return this.cache.set(r,i),i}internalGet(t){var n;if(this.model.$entity()!==this.model.$baseEntity()||this.model.$namespace()!==this.model.$baseNamespace()){const i=(n=this.model.$fields()[this.model.$typeKey()].make())!=null?n:this.model.$entity();this.where(this.model.$typeKey(),i)}let r=this.select();return this.orders.length===0&&(r=this.filterLimit(r)),wl(r)||this.eagerLoadRelations(r),this.orders.length>0&&(r=this.filterOrder(r),r=this.filterLimit(r)),t&&r.forEach(i=>i.$self().retrieved(i)),this.groups.length>0?this.filterGroup(r):r}first(){var t;return(t=this.limit(1).get()[0])!=null?t:null}find(t){return this.whereId(t)[it(t)?"get":"first"]()}select(){let t=[];const r=this.wheres,n=this.wheres.findIndex(s=>s.field===this.model.$getKeyName());if(n>-1){const s=this.wheres[n].value;t=((ny(s)?[]:it(s)?s:[s])||[]).map(String)||[],t.length>0&&(this.wheres=[...this.wheres.slice(0,n),...this.wheres.slice(n+1)])}let i=this.storeFind(t);return i=this.filterWhere(i),this.wheres=r,i}filterWhere(t){if(wl(this.wheres))return t;const r=this.getWhereComparator();return t.filter(n=>r(n))}getWhereComparator(){const{and:t,or:r}=DT(this.wheres,n=>n.boolean);return n=>{const i=[];return t&&i.push(t.every(s=>this.whereComparator(n,s))),r&&i.push(r.some(s=>this.whereComparator(n,s))),i.includes(!0)}}whereComparator(t,r){return ny(r.field)?r.field(t):it(r.value)?r.value.includes(t[r.field]):ny(r.value)?r.value(t[r.field]):t[r.field]===r.value}filterOrder(t){const r=this.orders.map(i=>i.field),n=this.orders.map(i=>i.direction);return _T(t,r,n)}filterGroup(t){const r={},n=this.groups.map(i=>i.field);return t.forEach(i=>{const s=n.length===1?i[n[0]]:`[${n.map(a=>i[a]).toString()}]`;r[s]=(r[s]||[]).concat(i)}),r}filterLimit(t){return this.take!==null?t.slice(this.skip,this.skip+this.take):t.slice(this.skip)}load(t){this.eagerLoadRelations(t)}eagerLoadRelations(t){for(const r in this.eagerLoad)this.eagerLoadRelation(t,r,this.eagerLoad[r])}eagerLoadRelation(t,r,n){const i=this.getRelation(r),s=this.newQueryForRelation(i);i.addEagerConstraints(s,t),n(s),i.match(r,t,s)}getRelation(t){return this.model.$getRelation(t)}revive(t){return it(t)?this.reviveMany(t):this.reviveOne(t)}reviveOne(t){var s;this.getNewHydrated=!1;const r=this.model.$getIndexId(t),n=(s=this.commit("get")[r])!=null?s:null;if(!n)return null;const i=this.hydrate(n,{visible:this.visible,hidden:this.hidden,operation:"get"});return this.reviveRelations(i,t),i}reviveMany(t){return t.reduce((r,n)=>{const i=this.reviveOne(n);return i&&r.push(i),r},[])}reviveRelations(t,r){const n=this.model.$fields();for(const i in r){const s=n[i];if(!(s instanceof tr))continue;const a=r[i];if(!a)return;if(s instanceof mm){const o=t[s.getType()];t[i]=this.newQuery(o).reviveOne(a);continue}t[i]=it(a)?this.newQueryForRelation(s).reviveMany(a):this.newQueryForRelation(s).reviveOne(a)}}new(t=!0){let r=this.hydrate({},{operation:t?"set":"get"});const n=r.$self().creating(r),i=r.$self().saving(r);return n===!1||i===!1?null:(r.$isDirty()&&(r=this.hydrate(r.$getAttributes(),{operation:t?"set":"get"})),t&&(this.hydratedDataCache.set(this.model.$entity()+r.$getKey(void 0,!0),this.hydrate(r.$getAttributes(),{operation:"get"})),r.$self().created(r),r.$self().saved(r),this.commit("insert",this.compile(r))),r)}save(t){let r=this.newInterpreter().process(t);const n=this.model.$types(),i=this.model.$baseEntity()!==this.model.$entity()||this.model.$baseNamespace()!==this.model.$namespace();if(Object.values(n).length>0||i){const o=Object.keys(n),l={};t=it(t)?t:[t],t.forEach(u=>{var d;const c=o.includes(`${u[this.model.$typeKey()]}`)||i?(d=u[this.model.$typeKey()])!=null?d:this.model.$fields()[this.model.$typeKey()].value:o[0];l[c]||(l[c]=[]),l[c].push(u)});for(const u in l){const c=n[u];c.modelEntity()===this.model.$modelEntity()?r=this.newInterpreter().process(l[u]):this.newQueryWithConstraints(c.modelEntity()).save(l[u])}}const[s,a]=r;for(const o in a){const l=this.newQuery(o),u=a[o];l.saveElements(u)}return this.revive(s)}saveElements(t){const r={},n=this.commit("all"),i=[];for(const s in t){const a=t[s],o=n[s];let l=o?Object.assign(this.hydrate(o,{operation:"set",action:"update"}),a):this.hydrate(a,{operation:"set",action:"save"});const u=l.$self().saving(l,a),c=o?l.$self().updating(l,a):l.$self().creating(l,a);u===!1||c===!1||(l.$isDirty()&&(l=this.hydrate(l.$getAttributes(),{operation:"set",action:o?"update":"save"})),i.push(()=>l.$self().saved(l,a)),i.push(()=>o?l.$self().updated(l,a):l.$self().created(l,a)),r[s]=l.$getAttributes(),Object.values(l.$types()).length>0&&!r[s][l.$typeKey()]&&(r[s][l.$typeKey()]=a[l.$typeKey()]))}Object.keys(r).length>0&&(this.commit("save",r),i.forEach(s=>s()))}insert(t){const r=this.hydrate(t,{operation:"set",action:"insert"});return this.commit("insert",this.compile(r)),r}fresh(t){this.hydratedDataCache.clear();const r=this.hydrate(t,{action:"update"});return this.commit("fresh",this.compile(r)),r}update(t){const r=this.get(!1);if(wl(r))return[];const n=r.map(i=>{const s=Object.assign(this.hydrate(i.$getAttributes(),{action:"update",operation:"set"}),t);if(i.$self().updating(s,t)===!1)return i;const a=s.$isDirty()?this.hydrate({...i.$getAttributes(),...t},{action:"update",operation:"set"}):s;return a.$self().updated(a,t),a});return this.commit("update",this.compile(n)),n}destroy(t){return it(t)?this.destroyMany(t):this.destroyOne(t)}destroyOne(t){const r=this.find(t);if(!r)return null;const[n,i]=this.dispatchDeleteHooks(r);return i.includes(r.$getIndexId())||(this.commit("destroy",[r.$getIndexId()]),n.forEach(s=>s())),r}destroyMany(t){const r=this.find(t);if(wl(r))return[];const[n,i]=this.dispatchDeleteHooks(r),s=this.getIndexIdsFromCollection(r).filter(a=>!i.includes(a));return this.commit("destroy",s),n.forEach(a=>a()),r}delete(){const t=this.get(!1);if(wl(t))return[];const[r,n]=this.dispatchDeleteHooks(t),i=this.getIndexIdsFromCollection(t).filter(s=>!n.includes(s));return this.commit("delete",i),r.forEach(s=>s()),t}flush(){return this.commit("flush"),this.hydratedDataCache.clear(),this.get(!1)}checkAndDeleteRelations(t){const r=t.$fields();for(const n in r){const i=r[n];if(r[n]instanceof tr&&i.onDeleteMode&&t[n]){const a=(it(t[n])?t[n]:[t[n]]).map(l=>l.$getKey(void 0,!0)),o={};if(i instanceof yk){this.newQuery(i.pivot.$entity()).where(i.foreignPivotKey,t[t.$getLocalKey()]).delete();continue}switch(i.onDeleteMode){case"cascade":{this.newQueryForRelation(i).destroy(a);break}case"set null":{i.foreignKey&&(o[i.foreignKey]=null),i.morphId&&(o[i.morphId]=null,o[i.morphType]=null),this.newQueryForRelation(i).whereId(a).update(o);break}}}}}dispatchDeleteHooks(t){const r=[],n=[];return t=it(t)?t:[t],this.withAll().load(t),t.forEach(i=>{i.$self().deleting(i)===!1?n.push(i.$getIndexId()):(this.hydratedDataCache.delete("set"+this.model.$entity()+i.$getIndexId()),this.hydratedDataCache.delete("get"+this.model.$entity()+i.$getIndexId()),r.push(()=>i.$self().deleted(i)),this.checkAndDeleteRelations(i))}),[r,n]}getIndexIdsFromCollection(t){return t.map(r=>r.$getIndexId())}hydrate(t,r){return it(t)?t.map(n=>this.hydrate(n,r)):this.getHydratedModel(t,{relations:!1,...r||{}})}compile(t){return(it(t)?t:[t]).reduce((n,i)=>(n[i.$getIndexId()]=i.$getAttributes(),n),{})}getHydratedModel(t,r){const n=this.model.$entity()+this.model.$getKey(t,!0),i=(r==null?void 0:r.operation)+n;let s=this.hydratedDataCache.get(i);if((r==null?void 0:r.action)==="update"&&(this.hydratedDataCache.delete("get"+n),s=void 0),!this.getNewHydrated&&s)return s;const a=this.model.$types()[t[this.model.$typeKey()]],l=(u=>(a?a.newRawInstance():this.model).$newInstance(t,{relations:!1,...r||{},...u}))();return wl(this.eagerLoad)&&(r==null?void 0:r.operation)!=="set"&&this.hydratedDataCache.set(i,l),l}}var h2=Object.defineProperty,p2=(e,t,r)=>t in e?h2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g2=(e,t,r)=>(p2(e,typeof t!="symbol"?t+"":t,r),r),y2=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},ki=(e,t,r)=>(y2(e,t,"read from private field"),r?r.call(e):t.get(e)),v2=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Iw,jn;class vk{constructor(){g2(this,Iw),v2(this,jn,new Map)}has(t){var r;return!!(ki(this,jn).has(t)&&((r=ki(this,jn).get(t))==null?void 0:r.deref()))}get(t){const r=ki(this,jn).get(t);if(!r)return;const n=r.deref();if(n)return n;ki(this,jn).delete(t)}set(t,r){return ki(this,jn).set(t,new WeakRef(r)),this}get size(){return ki(this,jn).size}clear(){ki(this,jn).clear()}delete(t){return ki(this,jn).delete(t),!1}forEach(t){for(const[r,n]of this)t(n,r,this)}*[(Iw=Symbol.toStringTag,Symbol.iterator)](){for(const[t,r]of ki(this,jn)){const n=r.deref();if(!n){ki(this,jn).delete(t);continue}yield[t,n]}}*entries(){for(const[t,r]of this)yield[t,r]}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}}jn=new WeakMap;const m2=new vk,b2=new Map,_2={model:{namespace:"",withMeta:!1,hidden:["_meta"],visible:["*"]},cache:{shared:!0,provider:vk}},nc={..._2};var x2=Object.defineProperty,w2=(e,t,r)=>t in e?x2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,us=(e,t,r)=>(w2(e,typeof t!="symbol"?t+"":t,r),r);class Vb{constructor(t,r){return us(this,"database"),us(this,"model"),us(this,"pinia"),us(this,"queryCache"),us(this,"hydratedDataCache"),us(this,"use"),us(this,"config"),this.config=nc,this.database=t,this.pinia=r,this.hydratedDataCache=b2,new Proxy(this,{get(n,i){if(typeof i!="symbol"){if(i in n)return n[i];if(!(i==="use"||i==="model"||i==="queryCache"))return function(...s){return n.query()[i](...s)}}}})}static setModel(t){return this.useModel=t,this}setConfig(t){this.config=t}initialize(t){var r;return this.config.cache&&this.config.cache!==!0&&(this.queryCache=this.config.cache.shared?m2:new this.config.cache.provider),t?(this.model=t.newRawInstance(),this):this.use||this.$self().useModel?(this.use=(r=this.use)!=null?r:this.$self().useModel,this.model=this.use.newRawInstance(),this):this}$self(){return this.constructor}getModel(){return Gu(!!this.model,["The model is not registered. Please define the model to be used at","`use` property of the repository class."]),this.model}piniaStore(){return gk(this.model.$storeName(),this.model.$piniaOptions(),this.query())(this.pinia)}repo(t){return he(t)}query(){return new Xu(this.database,this.getModel(),this.queryCache,this.hydratedDataCache,this.pinia)}cache(){return this.queryCache}where(t,r){return this.query().where(t,r)}orWhere(t,r){return this.query().orWhere(t,r)}whereHas(t,r=()=>{},n,i){return this.query().whereHas(t,r,n,i)}orWhereHas(t,r=()=>{},n,i){return this.query().orWhereHas(t,r,n,i)}has(t,r,n){return this.query().has(t,r,n)}orHas(t,r,n){return this.query().orHas(t,r,n)}doesntHave(t){return this.query().doesntHave(t)}orDoesntHave(t){return this.query().orDoesntHave(t)}whereDoesntHave(t,r=()=>{}){return this.query().whereDoesntHave(t,r)}orWhereDoesntHave(t,r=()=>{}){return this.query().orWhereDoesntHave(t,r)}withMeta(){return this.query().withMeta()}makeVisible(t){return this.query().makeVisible(t)}makeHidden(t){return this.query().makeHidden(t)}groupBy(...t){return this.query().groupBy(...t)}orderBy(t,r){return this.query().orderBy(t,r)}limit(t){return this.query().limit(t)}offset(t){return this.query().offset(t)}with(t,r){return this.query().with(t,r)}withAll(t){return this.query().withAll(t)}withAllRecursive(t){return this.query().withAllRecursive(t)}useCache(t,r){return this.query().useCache(t,r)}all(){return this.query().get()}revive(t){return this.query().revive(t)}make(t){return it(t)?t.map(r=>this.getModel().$newInstance(r,{relations:!0})):this.getModel().$newInstance(t,{relations:!0})}save(t){return this.query().save(t)}new(t=!0){return this.query().new(t)}insert(t){return this.query().insert(t)}fresh(t){return this.query().fresh(t)}destroy(t){return this.query().destroy(t)}flush(){return this.query().flush()}}us(Vb,"_isRepository",!0);us(Vb,"useModel");var S2=Object.defineProperty,D2=(e,t,r)=>t in e?S2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,A2=(e,t,r)=>(D2(e,typeof t!="symbol"?t+"":t,r),r);class k2{constructor(){A2(this,"models",{})}register(t){const r=t.$self().modelEntity();this.models[r]||(this.models[r]=t,this.registerRelatedModels(t))}registerRelatedModels(t){const r=t.$fields();for(const n in r){const i=r[n];i instanceof tr&&i.getRelateds().forEach(s=>{this.register(s)})}}getModel(t){return this.models[t]}}const E2=[];function C2(e){let t=nc;return E2.forEach(r=>{const n=r({config:t,repository:e,model:e.getModel()});t={...t,...n.config}}),e.setConfig(t),e}function he(e,t){const r=new k2,n=e._isRepository?new e(r,t).initialize():new Vb(r,t).initialize(e);try{const i=Object.values(n.getModel().$types());i.length>0?i.forEach(s=>n.database.register(s.newRawInstance())):n.database.register(n.getModel())}catch(i){console.error("[Pinia ORM] Failed to register models",i)}return C2(n)}class O2 extends sf{make(t){return t===void 0?this.value:t}}let M2=class extends sf{constructor(t,r){super(t,r)}make(t){return this.makeReturn("string",t)}};class I2 extends sf{constructor(t,r){super(t,r)}make(t){return this.makeReturn("number",t)}}class B2 extends sf{constructor(t,r){super(t,r)}make(t){return this.makeReturn("boolean",t)}}var F2=Object.defineProperty,T2=(e,t,r)=>t in e?F2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Bw=(e,t,r)=>(T2(e,typeof t!="symbol"?t+"":t,r),r);class Fw extends tr{constructor(t,r,n,i){super(t,r),Bw(this,"foreignKey"),Bw(this,"localKey"),this.foreignKey=n,this.localKey=i}getRelateds(){return[this.related]}define(t){return t.one(this.related,this.parent)}attach(t,r){this.compositeKeyMapper(this.foreignKey,this.localKey,(n,i)=>{r[n]=t[i]})}addEagerConstraints(t,r){this.compositeKeyMapper(this.foreignKey,this.localKey,(n,i)=>t.whereIn(n,this.getKeys(r,i)))}match(t,r,n){const i=this.buildDictionary(n.get(!1));r.forEach(s=>{const a=s[this.getKey(this.localKey)];i[a]?s.$setRelation(t,i[a][0]):s.$setRelation(t,null)})}buildDictionary(t){return this.mapToDictionary(t,r=>[r[this.getKey(this.foreignKey)],r])}make(t){return t?this.related.$newInstance(t):null}}var P2=Object.defineProperty,R2=(e,t,r)=>t in e?P2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oy=(e,t,r)=>(R2(e,typeof t!="symbol"?t+"":t,r),r);class $2 extends tr{constructor(t,r,n,i){super(t,r),oy(this,"child"),oy(this,"foreignKey"),oy(this,"ownerKey"),this.foreignKey=n,this.ownerKey=i,this.child=r}getRelateds(){return[this.child]}define(t){return t.one(this.child,this.parent)}attach(t,r){this.compositeKeyMapper(this.foreignKey,this.ownerKey,(n,i)=>{t[n]=r[i]})}addEagerConstraints(t,r){this.compositeKeyMapper(this.foreignKey,this.ownerKey,(n,i)=>t.whereIn(i,this.getEagerModelKeys(r,n)))}getEagerModelKeys(t,r){return t.reduce((n,i)=>(i[r]!==null&&n.push(i[r]),n),[])}match(t,r,n){const i=this.buildDictionary(n.get(!1));r.forEach(s=>{const a=s[this.getKey(this.foreignKey)];i[a]?s.$setRelation(t,i[a]):s.$setRelation(t,null)})}buildDictionary(t){return t.reduce((r,n)=>(r[n[this.getKey(this.ownerKey)]]=n,r),{})}make(t){return t?this.child.$newInstance(t):null}}var N2=Object.defineProperty,L2=(e,t,r)=>t in e?N2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Tw=(e,t,r)=>(L2(e,typeof t!="symbol"?t+"":t,r),r);class q2 extends tr{constructor(t,r,n,i){super(t,r),Tw(this,"foreignKey"),Tw(this,"localKey"),this.foreignKey=n,this.localKey=i}getRelateds(){return[this.related]}define(t){return t.many(this.related,this.parent)}attach(t,r){this.compositeKeyMapper(this.foreignKey,this.localKey,(n,i)=>{r[n]=t[i]})}addEagerConstraints(t,r){this.compositeKeyMapper(this.foreignKey,this.localKey,(n,i)=>t.whereIn(n,this.getKeys(r,i)))}match(t,r,n){const i=this.buildDictionary(n.get(!1));r.forEach(s=>{const a=this.getKey(it(this.localKey)?this.localKey.map(o=>s[o]):s[this.localKey]);i[a]?s.$setRelation(t,i[a]):s.$setRelation(t,[])})}buildDictionary(t){return this.mapToDictionary(t,r=>[this.getKey(it(this.foreignKey)?this.foreignKey.map(i=>r[i]):r[this.foreignKey]),r])}make(t){return t?t.map(r=>this.related.$newInstance(r)):[]}}var W2=Object.defineProperty,j2=(e,t,r)=>t in e?W2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ly=(e,t,r)=>(j2(e,typeof t!="symbol"?t+"":t,r),r);class Y2 extends tr{constructor(t,r,n,i){super(t,r),ly(this,"child"),ly(this,"foreignKey"),ly(this,"ownerKey"),this.foreignKey=n,this.ownerKey=i,this.child=r}getRelateds(){return[this.child]}define(t){return t.many(this.child,this.parent)}attach(t,r){r[this.ownerKey]!==void 0&&(t[this.foreignKey]||(t[this.foreignKey]=[]),this.attachIfMissing(t[this.foreignKey],r[this.ownerKey]))}attachIfMissing(t,r){t.includes(r)||t.push(r)}addEagerConstraints(t,r){t.whereIn(this.ownerKey,this.getEagerModelKeys(r))}getEagerModelKeys(t){return t.reduce((r,n)=>[...r,...n[this.foreignKey]],[])}match(t,r,n){const i=this.buildDictionary(n.get(!1));r.forEach(s=>{const a=this.getRelatedModels(i,s[this.foreignKey]);s.$setRelation(t,a)})}buildDictionary(t){return t.reduce((r,n)=>(r[n[this.ownerKey]]=n,r),{})}getRelatedModels(t,r){return r.reduce((n,i)=>{const s=t[i];return s&&n.push(s),n},[])}make(t){return t?t.map(r=>this.child.$newInstance(r)):[]}}var H2=Object.defineProperty,K2=(e,t,r)=>t in e?H2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cy=(e,t,r)=>(K2(e,typeof t!="symbol"?t+"":t,r),r);class Pw extends tr{constructor(t,r,n,i,s){super(t,r),cy(this,"morphId"),cy(this,"morphType"),cy(this,"localKey"),this.morphId=n,this.morphType=i,this.localKey=s}getRelateds(){return[this.related]}define(t){return t.one(this.related,this.parent)}attach(t,r){r[this.morphId]=t[this.localKey],r[this.morphType]=this.parent.$entity()}addEagerConstraints(t,r){t.where(this.morphType,this.parent.$entity()).whereIn(this.morphId,this.getKeys(r,this.localKey))}match(t,r,n){const i=this.buildDictionary(n.get(!1));r.forEach(s=>{const a=s[this.localKey];i[a]?s.$setRelation(t,i[a]):s.$setRelation(t,null)})}buildDictionary(t){return t.reduce((r,n)=>(r[n[this.morphId]]=n,r),{})}make(t){return t?this.related.$newInstance(t):null}}var V2=Object.defineProperty,U2=(e,t,r)=>t in e?V2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uy=(e,t,r)=>(U2(e,typeof t!="symbol"?t+"":t,r),r);class z2 extends tr{constructor(t,r,n,i,s){super(t,r),uy(this,"morphId"),uy(this,"morphType"),uy(this,"localKey"),this.morphId=n,this.morphType=i,this.localKey=s}getRelateds(){return[this.related]}define(t){return t.many(this.related,this.parent)}attach(t,r){r[this.morphId]=t[this.localKey],r[this.morphType]=this.parent.$entity()}addEagerConstraints(t,r){t.where(this.morphType,this.parent.$entity()),t.whereIn(this.morphId,this.getKeys(r,this.localKey))}match(t,r,n){const i=this.buildDictionary(n.get(!1));r.forEach(s=>{const a=s[this.localKey];i[a]?s.$setRelation(t,i[a]):s.$setRelation(t,[])})}buildDictionary(t){return this.mapToDictionary(t,r=>[r[this.morphId],r])}make(t){return t?t.map(r=>this.related.$newInstance(r)):[]}}var J2=Object.defineProperty,G2=(e,t,r)=>t in e?J2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Zc=(e,t,r)=>(G2(e,typeof t!="symbol"?t+"":t,r),r);class Q2 extends tr{constructor(t,r,n,i,s,a,o){super(t,r),Zc(this,"through"),Zc(this,"firstKey"),Zc(this,"secondKey"),Zc(this,"localKey"),Zc(this,"secondLocalKey"),this.through=n,this.firstKey=i,this.secondKey=s,this.localKey=a,this.secondLocalKey=o}getRelateds(){return[this.related,this.through]}define(t){return t.many(this.related,this.parent)}attach(t,r){}addEagerConstraints(t,r){}match(t,r,n){const i=n.newQuery(this.through.$entity()).where(this.firstKey,this.getKeys(r,this.localKey)).get(!1),s=n.where(this.secondKey,this.getKeys(i,this.secondLocalKey)).groupBy(this.secondKey).get(!1),a=this.buildDictionary(i,s);r.forEach(o=>{const l=o[this.localKey];a[l]?o.$setRelation(t,a[l][0]):o.$setRelation(t,[])})}buildDictionary(t,r){return this.mapToDictionary(t,n=>[n[this.firstKey],r[n[this.secondLocalKey]]])}make(t){return t?t.map(r=>this.related.$newInstance(r)):[]}}var X2=Object.defineProperty,Z2=(e,t,r)=>t in e?X2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,yo=(e,t,r)=>(Z2(e,typeof t!="symbol"?t+"":t,r),r);class eP extends tr{constructor(t,r,n,i,s,a,o,l){super(t,r),yo(this,"pivot"),yo(this,"morphId"),yo(this,"morphType"),yo(this,"relatedId"),yo(this,"parentKey"),yo(this,"relatedKey"),yo(this,"pivotKey","pivot"),this.pivot=n,this.morphId=s,this.morphType=a,this.relatedId=i,this.parentKey=o,this.relatedKey=l}getRelateds(){return[this.related,this.pivot]}define(t){return t.many(this.related,this.parent)}attach(t,r){var i;const n=(i=r.pivot)!=null?i:{};n[this.morphId]=t[this.parentKey],n[this.morphType]=this.parent.$entity(),n[this.relatedId]=r[this.relatedKey],r[`pivot_${this.pivot.$entity()}`]=n}make(t){return t?t.map(r=>this.related.$newInstance(r)):[]}match(t,r,n){const i=n.get(!1),s=n.newQuery(this.pivot.$entity()).whereIn(this.relatedId,this.getKeys(i,this.relatedKey)).whereIn(this.morphId,this.getKeys(r,this.parentKey)).groupBy(this.morphId,this.relatedId,this.morphType).get();r.forEach(a=>{const o=[];i.forEach(l=>{var d,f;const u=(f=(d=s[`[${a[this.parentKey]},${l[this.relatedKey]},${this.parent.$entity()}]`])==null?void 0:d[0])!=null?f:null,c=l.$newInstance(l.$toJson(),{operation:void 0});c.$setRelation("pivot",u),u&&o.push(c)}),a.$setRelation(t,o)})}addEagerConstraints(t,r){}}var tP=Object.defineProperty,rP=(e,t,r)=>t in e?tP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,at=(e,t,r)=>(rP(e,typeof t!="symbol"?t+"":t,r),r);class J{constructor(t,r={operation:"set"}){var i;at(this,"pivot"),this.$boot(),((i=r.fill)!=null?i:!0)&&this.$fill(t,r)}static fields(){return{}}static usedNamespace(){var t;return(t=this.namespace)!=null?t:nc.model.namespace}static modelEntity(){return(this.usedNamespace()?this.usedNamespace()+"/":"")+this.entity}static initializeSchema(){var n;const t=this.modelEntity();this.schemas[t]={},this.fieldsOnDelete[t]=(n=this.fieldsOnDelete[t])!=null?n:{};const r={...this.fields(),...this.registries[t]};for(const i in r){const s=r[i];this.schemas[t][i]=typeof s=="function"?s():s,this.fieldsOnDelete[t][i]&&(this.schemas[t][i]=this.schemas[t][i].onDelete(this.fieldsOnDelete[t][i]))}}static setRegistry(t,r){return this.registries[this.modelEntity()]||(this.registries[this.modelEntity()]={}),this.registries[this.modelEntity()][t]=r,this}static setFieldDeleteMode(t,r){var n;return this.fieldsOnDelete[this.modelEntity()]=(n=this.fieldsOnDelete[this.modelEntity()])!=null?n:{},this.fieldsOnDelete[this.modelEntity()][t]=r,this}static setMutator(t,r){return this.fieldMutators[t]=r,this}static setCast(t,r){return this.fieldCasts[t]=r,this}static setHidden(t){return this.hidden.push(t),this}static clearBootedModels(){this.booted={},this.original={},this.schemas={},this.fieldMutators={},this.fieldCasts={},this.hidden=[],this.visible=[]}static clearRegistries(){this.registries={}}static newRawInstance(){return new this(void 0,{fill:!1})}static attr(t){return new O2(this.newRawInstance(),t)}static string(t){return new M2(this.newRawInstance(),t)}static number(t){return new I2(this.newRawInstance(),t)}static boolean(t){return new B2(this.newRawInstance(),t)}static uid(t){return new pk(this.newRawInstance(),t)}static hasOne(t,r,n){const i=this.newRawInstance();return n=n!=null?n:i.$getKeyName(),new Fw(i,t.newRawInstance(),r,n)}static belongsTo(t,r,n){const i=t.newRawInstance();return n=n!=null?n:i.$getKeyName(),new $2(this.newRawInstance(),i,r,n)}static belongsToMany(t,r,n,i,s,a){const o=t.newRawInstance(),l=this.newRawInstance(),u=r.newRawInstance();return s=s!=null?s:l.$getLocalKey(),a=a!=null?a:o.$getLocalKey(),this.schemas[t.entity][`pivot_${u.$entity()}`]=new Fw(o,u,i,a),new yk(l,o,u,n,i,s,a)}static morphToMany(t,r,n,i,s,a,o){const l=t.newRawInstance(),u=this.newRawInstance(),c=r.newRawInstance();return a=a!=null?a:u.$getLocalKey(),o=o!=null?o:l.$getLocalKey(),this.schemas[t.entity][`pivot_${c.$entity()}`]=new Pw(l,c,n,u.$entity(),o),new eP(u,l,c,n,i,s,a,o)}static hasMany(t,r,n){const i=this.newRawInstance();return n=n!=null?n:i.$getKeyName(),new q2(i,t.newRawInstance(),r,n)}static hasManyBy(t,r,n){const i=t.newRawInstance();return n=n!=null?n:i.$getLocalKey(),new Y2(this.newRawInstance(),i,r,n)}static hasManyThrough(t,r,n,i,s,a){const o=this.newRawInstance(),l=r.newRawInstance();return s=s!=null?s:o.$getLocalKey(),a=a!=null?a:l.$getLocalKey(),new Q2(o,t.newRawInstance(),l,n,i,s,a)}static morphOne(t,r,n,i){const s=this.newRawInstance();return i=i!=null?i:s.$getLocalKey(),new Pw(s,t.newRawInstance(),r,n,i)}static morphTo(t,r,n,i=""){const s=this.newRawInstance(),a=t.map(o=>o.newRawInstance());return new mm(s,a,r,n,i)}static morphMany(t,r,n,i){const s=this.newRawInstance();return i=i!=null?i:s.$getLocalKey(),new z2(s,t.newRawInstance(),r,n,i)}static mutators(){return{}}static casts(){return{}}static types(){return{}}$self(){return this.constructor}$entity(){return this.$self().entity}$config(){return this.$self().config}$namespace(){return this.$self().usedNamespace()}$storeName(){return(this.$namespace()?this.$namespace()+"/":"")+this.$baseEntity()}$baseEntity(){var t;return(t=this.$self().baseEntity)!=null?t:this.$entity()}$baseNamespace(){var t;return(t=this.$self().baseNamespace)!=null?t:this.$namespace()}$modelEntity(){return this.$self().modelEntity()}$typeKey(){return this.$self().typeKey}$types(){return this.$self().types()}$piniaOptions(){return this.$self().piniaOptions}$primaryKey(){return this.$self().primaryKey}$fields(){return this.$self().schemas[this.$modelEntity()]}$hidden(){return this.$self().hidden}$visible(){return this.$self().visible}$newInstance(t,r){const n=this.$self();return new n(t,r)}$boot(){this.$self().booted[this.$modelEntity()]||(this.$self().booted[this.$modelEntity()]=!0,this.$initializeSchema())}$initializeSchema(){this.$self().initializeSchema()}$casts(){return{...this.$getCasts(),...this.$self().fieldCasts}}$fill(t={},r={}){var l,u,c,d;const n=(l=r.operation)!=null?l:"get",i={...nc.model,...this.$config()};i.withMeta&&(this.$self().schemas[this.$entity()][this.$self().metaKey]=this.$self().attr({}));const s=this.$fields(),a=(u=r.relations)!=null?u:!0,o={...this.$getMutators(),...this.$self().fieldMutators};for(const f in s){if(n==="get"&&!this.isFieldVisible(f,this.$hidden(),this.$visible(),r))continue;const g=s[f];let m=t[f];if(g instanceof tr&&!a)continue;const x=o==null?void 0:o[f],v=(c=this.$casts()[f])==null?void 0:c.newRawInstance(s);x&&n==="get"&&(m=typeof x=="function"?x(m):typeof x.get=="function"?x.get(m):m),v&&n==="get"&&(m=v.get(m));let p=this.$fillField(f,g,m);x&&typeof x!="function"&&n==="set"&&x.set&&(p=x.set(p)),v&&n==="set"&&(p=v.set(p)),this[f]=(d=this[f])!=null?d:p}return n==="set"&&(this.$self().original[this.$getKey(this,!0)]=this.$getAttributes()),i.withMeta&&n==="set"&&this.$fillMeta(r.action),this}$fillMeta(t="save"){const r=Math.floor(Date.now()/1e3);t==="save"&&(this[this.$self().metaKey]={createdAt:r,updatedAt:r}),t==="update"&&(this[this.$self().metaKey].updatedAt=r)}$fillField(t,r,n){if(n!==void 0)return r instanceof mm?r.setKey(t).make(n,this[r.getType()]):r.setKey(t).make(n);if(this[t]===void 0)return r.setKey(t).make()}isFieldVisible(t,r,n,i){var u,c;const s=r.length>0?r:nc.model.hidden,a=[...n.length>0?n:nc.model.visible,String(this.$primaryKey())],o=(u=i.visible)!=null?u:[],l=(c=i.hidden)!=null?c:[];return(s.includes("*")||s.includes(t))&&!o.includes(t)||l.includes(t)?!1:(a.includes("*")||a.includes(t))&&!l.includes(t)||o.includes(t)}$getKeyName(){return this.$primaryKey()}$getKey(t,r=!1){if(t=t!=null?t:this,this.$hasCompositeKey()){const i=this.$getCompositeKey(t);return r?"["+(i==null?void 0:i.join(","))+"]":i}const n=t[this.$getKeyName()];return hm(n)?null:n}$hasCompositeKey(){return it(this.$getKeyName())}$getCompositeKey(t){let r=[];return this.$getKeyName().every(n=>{const i=t[n];return hm(i)?(r=null,!1):(r.push(i),!0)}),r===null?null:r}$getIndexId(t){const r=t!=null?t:this,n=this.$getKey(r);return Gu(n!==null,["The record is missing the primary key. If you want to persist record","without the primary key, please define the primary key field with the","`uid` attribute."]),this.$stringifyId(n)}$stringifyId(t){return it(t)?JSON.stringify(t):String(t)}$getLocalKey(){return Gu(!this.$hasCompositeKey(),["Please provide the local key for the relationship. The model with the","composite key can't infer its local key."]),this.$getKeyName()}$getRelation(t){let r=this.$fields()[t];return Object.values(this.$types()).forEach(i=>{r===void 0&&(r=i.fields()[t])}),Gu(r instanceof tr,[`Relationship [${t}] on model [${this.$entity()}] not found.`]),r}$setRelation(t,r){return t.includes("pivot")?(this.pivot=r,this):(this.$fields()[t]&&(this[t]=r),this)}$getMutators(){return this.$self().mutators()}$getCasts(){return this.$self().casts()}$getOriginal(){return this.$self().original[this.$getKey(this,!0)]}$refresh(){return this.$isDirty()&&Object.entries(this.$getOriginal()).forEach(t=>{this[t[0]]=t[1]}),this}$isDirty(t){const r=this.$getOriginal();return t?(Object.keys(r).includes(t)||og(['The property"',t,'"does not exit in the model "',this.$entity(),'"']),!pm(this[t],r[t])):!pm(r,this.$getAttributes())}$getAttributes(){return this.$toJson(this,{relations:!1})}$toJson(t,r={}){var a;t=t!=null?t:this;const n=t.$fields(),i=(a=r.relations)!=null?a:!0,s={};for(const o in n){const l=n[o],u=t[o];if(!(l instanceof tr)){s[o]=this.serializeValue(u);continue}i&&(s[o]=this.serializeRelation(u))}return s}serializeValue(t){return t===null?null:it(t)?this.serializeArray(t):typeof t=="object"?ik(t)?t.toISOString():this.serializeObject(t):t}serializeArray(t){return t.map(r=>this.serializeValue(r))}serializeObject(t){const r={};for(const n in t)r[n]=this.serializeValue(t[n]);return r}serializeRelation(t){if(t!==void 0)return t===null?null:it(t)?t.map(r=>r.$toJson()):t.$toJson()}}at(J,"entity");at(J,"baseEntity");at(J,"baseNamespace");at(J,"namespace");at(J,"primaryKey","id");at(J,"metaKey","_meta");at(J,"hidden",["_meta"]);at(J,"visible",[]);at(J,"config");at(J,"typeKey","type");at(J,"fieldsOnDelete",{});at(J,"original",{});at(J,"schemas",{});at(J,"registries",{});at(J,"piniaOptions",{});at(J,"fieldMutators",{});at(J,"fieldCasts",{});at(J,"booted",{});at(J,"saving",()=>{});at(J,"updating",()=>{});at(J,"creating",()=>{});at(J,"deleting",()=>{});at(J,"retrieved",()=>{});at(J,"saved",()=>{});at(J,"updated",()=>{});at(J,"created",()=>{});at(J,"deleted",()=>{});function mk(e,t){return function(){return e.apply(t,arguments)}}const{toString:nP}=Object.prototype,{getPrototypeOf:Ub}=Object,lg=(e=>t=>{const r=nP.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Di=e=>(e=e.toLowerCase(),t=>lg(t)===e),cg=e=>t=>typeof t===e,{isArray:Rc}=Array,Nd=cg("undefined");function iP(e){return e!==null&&!Nd(e)&&e.constructor!==null&&!Nd(e.constructor)&&Qn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const bk=Di("ArrayBuffer");function sP(e){let t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&bk(e.buffer),t}const aP=cg("string"),Qn=cg("function"),_k=cg("number"),ug=e=>e!==null&&typeof e=="object",oP=e=>e===!0||e===!1,E0=e=>{if(lg(e)!=="object")return!1;const t=Ub(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lP=Di("Date"),cP=Di("File"),uP=Di("Blob"),dP=Di("FileList"),fP=e=>ug(e)&&Qn(e.pipe),hP=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Qn(e.append)&&((t=lg(e))==="formdata"||t==="object"&&Qn(e.toString)&&e.toString()==="[object FormData]"))},pP=Di("URLSearchParams"),[gP,yP,vP,mP]=["ReadableStream","Request","Response","Headers"].map(Di),bP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function af(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e=="undefined")return;let n,i;if(typeof e!="object"&&(e=[e]),Rc(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let o;for(n=0;n<a;n++)o=s[n],t.call(null,e[o],o,e)}}function xk(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const wk=(()=>typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global)(),Sk=e=>!Nd(e)&&e!==wk;function bm(){const{caseless:e}=Sk(this)&&this||{},t={},r=(n,i)=>{const s=e&&xk(t,i)||i;E0(t[s])&&E0(n)?t[s]=bm(t[s],n):E0(n)?t[s]=bm({},n):Rc(n)?t[s]=n.slice():t[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&af(arguments[n],r);return t}const _P=(e,t,r,{allOwnKeys:n}={})=>(af(t,(i,s)=>{r&&Qn(i)?e[s]=mk(i,r):e[s]=i},{allOwnKeys:n}),e),xP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),wP=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},SP=(e,t,r,n)=>{let i,s,a;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],(!n||n(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=r!==!1&&Ub(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},DP=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},AP=e=>{if(!e)return null;if(Rc(e))return e;let t=e.length;if(!_k(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},kP=(e=>t=>e&&t instanceof e)(typeof Uint8Array!="undefined"&&Ub(Uint8Array)),EP=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},CP=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},OP=Di("HTMLFormElement"),MP=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Rw=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),IP=Di("RegExp"),Dk=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};af(r,(i,s)=>{let a;(a=t(i,s,e))!==!1&&(n[s]=a||i)}),Object.defineProperties(e,n)},BP=e=>{Dk(e,(t,r)=>{if(Qn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(!!Qn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},FP=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Rc(e)?n(e):n(String(e).split(t)),r},TP=()=>{},PP=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,dy="abcdefghijklmnopqrstuvwxyz",$w="0123456789",Ak={DIGIT:$w,ALPHA:dy,ALPHA_DIGIT:dy+dy.toUpperCase()+$w},RP=(e=16,t=Ak.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function $P(e){return!!(e&&Qn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const NP=e=>{const t=new Array(10),r=(n,i)=>{if(ug(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const s=Rc(n)?[]:{};return af(n,(a,o)=>{const l=r(a,i+1);!Nd(l)&&(s[o]=l)}),t[i]=void 0,s}}return n};return r(e,0)},LP=Di("AsyncFunction"),qP=e=>e&&(ug(e)||Qn(e))&&Qn(e.then)&&Qn(e.catch);var z={isArray:Rc,isArrayBuffer:bk,isBuffer:iP,isFormData:hP,isArrayBufferView:sP,isString:aP,isNumber:_k,isBoolean:oP,isObject:ug,isPlainObject:E0,isReadableStream:gP,isRequest:yP,isResponse:vP,isHeaders:mP,isUndefined:Nd,isDate:lP,isFile:cP,isBlob:uP,isRegExp:IP,isFunction:Qn,isStream:fP,isURLSearchParams:pP,isTypedArray:kP,isFileList:dP,forEach:af,merge:bm,extend:_P,trim:bP,stripBOM:xP,inherits:wP,toFlatObject:SP,kindOf:lg,kindOfTest:Di,endsWith:DP,toArray:AP,forEachEntry:EP,matchAll:CP,isHTMLForm:OP,hasOwnProperty:Rw,hasOwnProp:Rw,reduceDescriptors:Dk,freezeMethods:BP,toObjectSet:FP,toCamelCase:MP,noop:TP,toFiniteNumber:PP,findKey:xk,global:wk,isContextDefined:Sk,ALPHABET:Ak,generateString:RP,isSpecCompliantForm:$P,toJSONObject:NP,isAsyncFn:LP,isThenable:qP};function Fe(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}z.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const kk=Fe.prototype,Ek={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ek[e]={value:e}});Object.defineProperties(Fe,Ek);Object.defineProperty(kk,"isAxiosError",{value:!0});Fe.from=(e,t,r,n,i,s)=>{const a=Object.create(kk);return z.toFlatObject(e,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Fe.call(a,e.message,t,r,n,i),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};var WP=null;function _m(e){return z.isPlainObject(e)||z.isArray(e)}function Ck(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function Nw(e,t,r){return e?e.concat(t).map(function(i,s){return i=Ck(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function jP(e){return z.isArray(e)&&!e.some(_m)}const YP=z.toFlatObject(z,{},null,function(t){return/^is[A-Z]/.test(t)});function dg(e,t,r){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!z.isUndefined(v[x])});const n=r.metaTokens,i=r.visitor||c,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob!="undefined"&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(z.isDate(m))return m.toISOString();if(!l&&z.isBlob(m))throw new Fe("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(m)||z.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,x,v){let p=m;if(m&&!v&&typeof m=="object"){if(z.endsWith(x,"{}"))x=n?x:x.slice(0,-2),m=JSON.stringify(m);else if(z.isArray(m)&&jP(m)||(z.isFileList(m)||z.endsWith(x,"[]"))&&(p=z.toArray(m)))return x=Ck(x),p.forEach(function(y,b){!(z.isUndefined(y)||y===null)&&t.append(a===!0?Nw([x],b,s):a===null?x:x+"[]",u(y))}),!1}return _m(m)?!0:(t.append(Nw(v,x,s),u(m)),!1)}const d=[],f=Object.assign(YP,{defaultVisitor:c,convertValue:u,isVisitable:_m});function g(m,x){if(!z.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));d.push(m),z.forEach(m,function(p,h){(!(z.isUndefined(p)||p===null)&&i.call(t,p,z.isString(h)?h.trim():h,x,f))===!0&&g(p,x?x.concat(h):[h])}),d.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Lw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function zb(e,t){this._pairs=[],e&&dg(e,this,t)}const Ok=zb.prototype;Ok.append=function(t,r){this._pairs.push([t,r])};Ok.toString=function(t){const r=t?function(n){return t.call(this,n,Lw)}:Lw;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function HP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mk(e,t,r){if(!t)return e;const n=r&&r.encode||HP,i=r&&r.serialize;let s;if(i?s=i(t,r):s=z.isURLSearchParams(t)?t.toString():new zb(t,r).toString(n),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class KP{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,function(n){n!==null&&t(n)})}}var qw=KP,Ik={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},VP=typeof URLSearchParams!="undefined"?URLSearchParams:zb,UP=typeof FormData!="undefined"?FormData:null,zP=typeof Blob!="undefined"?Blob:null,JP={isBrowser:!0,classes:{URLSearchParams:VP,FormData:UP,Blob:zP},protocols:["http","https","file","blob","url","data"]};const Jb=typeof window!="undefined"&&typeof document!="undefined",GP=(e=>Jb&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator!="undefined"&&navigator.product),QP=(()=>typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),XP=Jb&&window.location.href||"http://localhost";var ZP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jb,hasStandardBrowserWebWorkerEnv:QP,hasStandardBrowserEnv:GP,origin:XP},Symbol.toStringTag,{value:"Module"})),mi={...ZP,...JP};function e4(e,t){return dg(e,new mi.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return mi.isNode&&z.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function t4(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function r4(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function Bk(e){function t(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&z.isArray(i)?i.length:a,l?(z.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!z.isObject(i[a]))&&(i[a]=[]),t(r,n,i[a],s)&&z.isArray(i[a])&&(i[a]=r4(i[a])),!o)}if(z.isFormData(e)&&z.isFunction(e.entries)){const r={};return z.forEachEntry(e,(n,i)=>{t(t4(n),i,r,0)}),r}return null}function n4(e,t,r){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Gb={transitional:Ik,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=z.isObject(t);if(s&&z.isHTMLForm(t)&&(t=new FormData(t)),z.isFormData(t))return i?JSON.stringify(Bk(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return e4(t,this.formSerializer).toString();if((o=z.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return dg(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),n4(t)):t}],transformResponse:[function(t){const r=this.transitional||Gb.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?Fe.from(o,Fe.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mi.classes.FormData,Blob:mi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{Gb.headers[e]={}});var Qb=Gb;const i4=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var s4=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||t[r]&&i4[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t};const Ww=Symbol("internals");function eu(e){return e&&String(e).trim().toLowerCase()}function C0(e){return e===!1||e==null?e:z.isArray(e)?e.map(C0):String(e)}function a4(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const o4=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function fy(e,t,r,n,i){if(z.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!z.isString(t)){if(z.isString(n))return t.indexOf(n)!==-1;if(z.isRegExp(n))return n.test(t)}}function l4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function c4(e,t){const r=z.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,a){return this[n].call(this,t,i,s,a)},configurable:!0})})}class fg{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(o,l,u){const c=eu(l);if(!c)throw new Error("header name must be a non-empty string");const d=z.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=C0(o))}const a=(o,l)=>z.forEach(o,(u,c)=>s(u,c,l));if(z.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(z.isString(t)&&(t=t.trim())&&!o4(t))a(s4(t),r);else if(z.isHeaders(t))for(const[o,l]of t.entries())s(l,o,n);else t!=null&&s(r,t,n);return this}get(t,r){if(t=eu(t),t){const n=z.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return a4(i);if(z.isFunction(r))return r.call(this,i,n);if(z.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=eu(t),t){const n=z.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||fy(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(a){if(a=eu(a),a){const o=z.findKey(n,a);o&&(!r||fy(n,n[o],o,r))&&(delete n[o],i=!0)}}return z.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||fy(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return z.forEach(this,(i,s)=>{const a=z.findKey(n,s);if(a){r[a]=C0(i),delete r[s];return}const o=t?l4(s):String(s).trim();o!==s&&delete r[s],r[o]=C0(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return z.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&z.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Ww]=this[Ww]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=eu(a);n[o]||(c4(i,a),n[o]=!0)}return z.isArray(t)?t.forEach(s):s(t),this}}fg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(fg.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});z.freezeMethods(fg);var bi=fg;function hy(e,t){const r=this||Qb,n=t||r,i=bi.from(n.headers);let s=n.data;return z.forEach(e,function(o){s=o.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Fk(e){return!!(e&&e.__CANCEL__)}function $c(e,t,r){Fe.call(this,e==null?"canceled":e,Fe.ERR_CANCELED,t,r),this.name="CanceledError"}z.inherits($c,Fe,{__CANCEL__:!0});function Tk(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Fe("Request failed with status code "+r.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function u4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function d4(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,a;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=n[s];a||(a=u),r[i]=l,n[i]=u;let d=s,f=0;for(;d!==i;)f+=r[d++],d=d%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-a<t)return;const g=c&&u-c;return g?Math.round(f*1e3/g):void 0}}function f4(e,t){let r=0;const n=1e3/t;let i=null;return function(){const a=this===!0,o=Date.now();if(a||o-r>n)return i&&(clearTimeout(i),i=null),r=o,e.apply(null,arguments);i||(i=setTimeout(()=>(i=null,r=Date.now(),e.apply(null,arguments)),n-(o-r)))}}var up=(e,t,r=3)=>{let n=0;const i=d4(50,250);return f4(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,u=i(l),c=a<=o;n=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-a)/u:void 0,event:s,lengthComputable:o!=null};d[t?"download":"upload"]=!0,e(d)},r)},h4=mi.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let a=s;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){const o=z.isString(a)?i(a):a;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}(),p4=mi.hasStandardBrowserEnv?{write(e,t,r,n,i,s){const a=[e+"="+encodeURIComponent(t)];z.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),z.isString(n)&&a.push("path="+n),z.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function g4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function y4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Pk(e,t){return e&&!g4(t)?y4(e,t):t}const jw=e=>e instanceof bi?{...e}:e;function ul(e,t){t=t||{};const r={};function n(u,c,d){return z.isPlainObject(u)&&z.isPlainObject(c)?z.merge.call({caseless:d},u,c):z.isPlainObject(c)?z.merge({},c):z.isArray(c)?c.slice():c}function i(u,c,d){if(z.isUndefined(c)){if(!z.isUndefined(u))return n(void 0,u,d)}else return n(u,c,d)}function s(u,c){if(!z.isUndefined(c))return n(void 0,c)}function a(u,c){if(z.isUndefined(c)){if(!z.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function o(u,c,d){if(d in t)return n(u,c);if(d in e)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,c)=>i(jw(u),jw(c),!0)};return z.forEach(Object.keys(Object.assign({},e,t)),function(c){const d=l[c]||i,f=d(e[c],t[c],c);z.isUndefined(f)&&d!==o||(r[c]=f)}),r}var Rk=e=>{const t=ul({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=t;t.headers=a=bi.from(a),t.url=Mk(Pk(t.baseURL,t.url),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(z.isFormData(r)){if(mi.hasStandardBrowserEnv||mi.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...c].join("; "))}}if(mi.hasStandardBrowserEnv&&(n&&z.isFunction(n)&&(n=n(t)),n||n!==!1&&h4(t.url))){const u=i&&s&&p4.read(s);u&&a.set(i,u)}return t};const v4=typeof XMLHttpRequest!="undefined";var m4=v4&&function(e){return new Promise(function(r,n){const i=Rk(e);let s=i.data;const a=bi.from(i.headers).normalize();let{responseType:o}=i,l;function u(){i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let c=new XMLHttpRequest;c.open(i.method.toUpperCase(),i.url,!0),c.timeout=i.timeout;function d(){if(!c)return;const g=bi.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),x={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:g,config:e,request:c};Tk(function(p){r(p),u()},function(p){n(p),u()},x),c=null}"onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){!c||(n(new Fe("Request aborted",Fe.ECONNABORTED,i,c)),c=null)},c.onerror=function(){n(new Fe("Network Error",Fe.ERR_NETWORK,i,c)),c=null},c.ontimeout=function(){let m=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||Ik;i.timeoutErrorMessage&&(m=i.timeoutErrorMessage),n(new Fe(m,x.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,i,c)),c=null},s===void 0&&a.setContentType(null),"setRequestHeader"in c&&z.forEach(a.toJSON(),function(m,x){c.setRequestHeader(x,m)}),z.isUndefined(i.withCredentials)||(c.withCredentials=!!i.withCredentials),o&&o!=="json"&&(c.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&c.addEventListener("progress",up(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",up(i.onUploadProgress)),(i.cancelToken||i.signal)&&(l=g=>{!c||(n(!g||g.type?new $c(null,e,c):g),c.abort(),c=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const f=u4(i.url);if(f&&mi.protocols.indexOf(f)===-1){n(new Fe("Unsupported protocol "+f+":",Fe.ERR_BAD_REQUEST,e));return}c.send(s||null)})};const b4=(e,t)=>{let r=new AbortController,n;const i=function(l){if(!n){n=!0,a();const u=l instanceof Error?l:this.reason;r.abort(u instanceof Fe?u:new $c(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{i(new Fe(`timeout ${t} of ms exceeded`,Fe.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),e=null)};e.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:o}=r;return o.unsubscribe=a,[o,()=>{s&&clearTimeout(s),s=null}]};var _4=b4;const x4=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},w4=async function*(e,t,r){for await(const n of e)yield*x4(ArrayBuffer.isView(n)?n:await r(String(n)),t)},Yw=(e,t,r,n,i)=>{const s=w4(e,t,i);let a=0;return new ReadableStream({type:"bytes",async pull(o){const{done:l,value:u}=await s.next();if(l){o.close(),n();return}let c=u.byteLength;r&&r(a+=c),o.enqueue(new Uint8Array(u))},cancel(o){return n(o),s.return()}},{highWaterMark:2})},Hw=(e,t)=>{const r=e!=null;return n=>setTimeout(()=>t({lengthComputable:r,total:e,loaded:n}))},hg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$k=hg&&typeof ReadableStream=="function",xm=hg&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),S4=$k&&(()=>{let e=!1;const t=new Request(mi.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),Kw=64*1024,wm=$k&&!!(()=>{try{return z.isReadableStream(new Response("").body)}catch{}})(),dp={stream:wm&&(e=>e.body)};hg&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!dp[t]&&(dp[t]=z.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Fe(`Response type '${t}' is not supported`,Fe.ERR_NOT_SUPPORT,n)})})})(new Response);const D4=async e=>{if(e==null)return 0;if(z.isBlob(e))return e.size;if(z.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(z.isArrayBufferView(e))return e.byteLength;if(z.isURLSearchParams(e)&&(e=e+""),z.isString(e))return(await xm(e)).byteLength},A4=async(e,t)=>{const r=z.toFiniteNumber(e.getContentLength());return r==null?D4(t):r};var k4=hg&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:f}=Rk(e);u=u?(u+"").toLowerCase():"text";let[g,m]=i||s||a?_4([i,s],a):[],x,v;const p=()=>{!x&&setTimeout(()=>{g&&g.unsubscribe()}),x=!0};let h;try{if(l&&S4&&r!=="get"&&r!=="head"&&(h=await A4(c,n))!==0){let w=new Request(t,{method:"POST",body:n,duplex:"half"}),D;z.isFormData(n)&&(D=w.headers.get("content-type"))&&c.setContentType(D),w.body&&(n=Yw(w.body,Kw,Hw(h,up(l)),null,xm))}z.isString(d)||(d=d?"cors":"omit"),v=new Request(t,{...f,signal:g,method:r.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",withCredentials:d});let y=await fetch(v);const b=wm&&(u==="stream"||u==="response");if(wm&&(o||b)){const w={};["status","statusText","headers"].forEach(S=>{w[S]=y[S]});const D=z.toFiniteNumber(y.headers.get("content-length"));y=new Response(Yw(y.body,Kw,o&&Hw(D,up(o,!0)),b&&p,xm),w)}u=u||"text";let _=await dp[z.findKey(dp,u)||"text"](y,e);return!b&&p(),m&&m(),await new Promise((w,D)=>{Tk(w,D,{data:_,headers:bi.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:v})})}catch(y){throw p(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,e,v),{cause:y.cause||y}):Fe.from(y,y&&y.code,e,v)}});const Sm={http:WP,xhr:m4,fetch:k4};z.forEach(Sm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Vw=e=>`- ${e}`,E4=e=>z.isFunction(e)||e===null||e===!1;var Nk={getAdapter:e=>{e=z.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let s=0;s<t;s++){r=e[s];let a;if(n=r,!E4(r)&&(n=Sm[(a=String(r)).toLowerCase()],n===void 0))throw new Fe(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=t?s.length>1?`since :
`+s.map(Vw).join(`
`):" "+Vw(s[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:Sm};function py(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $c(null,e)}function Uw(e){return py(e),e.headers=bi.from(e.headers),e.data=hy.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nk.getAdapter(e.adapter||Qb.adapter)(e).then(function(n){return py(e),n.data=hy.call(e,e.transformResponse,n),n.headers=bi.from(n.headers),n},function(n){return Fk(n)||(py(e),n&&n.response&&(n.response.data=hy.call(e,e.transformResponse,n.response),n.response.headers=bi.from(n.response.headers))),Promise.reject(n)})}const Lk="1.7.2",Xb={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xb[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const zw={};Xb.transitional=function(t,r,n){function i(s,a){return"[Axios v"+Lk+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(t===!1)throw new Fe(i(a," has been removed"+(r?" in "+r:"")),Fe.ERR_DEPRECATED);return r&&!zw[a]&&(zw[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,a,o):!0}};function C4(e,t,r){if(typeof e!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],a=t[s];if(a){const o=e[s],l=o===void 0||a(o,s,e);if(l!==!0)throw new Fe("option "+s+" must be "+l,Fe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Fe("Unknown option "+s,Fe.ERR_BAD_OPTION)}}var Dm={assertOptions:C4,validators:Xb};const ea=Dm.validators;class fp{constructor(t){this.defaults=t,this.interceptors={request:new qw,response:new qw}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ul(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Dm.assertOptions(n,{silentJSONParsing:ea.transitional(ea.boolean),forcedJSONParsing:ea.transitional(ea.boolean),clarifyTimeoutError:ea.transitional(ea.boolean)},!1),i!=null&&(z.isFunction(i)?r.paramsSerializer={serialize:i}:Dm.assertOptions(i,{encode:ea.function,serialize:ea.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&z.merge(s.common,s[r.method]);s&&z.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=bi.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(l=l&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let c,d=0,f;if(!l){const m=[Uw.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,u),f=m.length,c=Promise.resolve(r);d<f;)c=c.then(m[d++],m[d++]);return c}f=o.length;let g=r;for(d=0;d<f;){const m=o[d++],x=o[d++];try{g=m(g)}catch(v){x.call(this,v);break}}try{c=Uw.call(this,g)}catch(m){return Promise.reject(m)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=ul(this.defaults,t);const r=Pk(t.baseURL,t.url);return Mk(r,t.params,t.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(t){fp.prototype[t]=function(r,n){return this.request(ul(n||{},{method:t,url:r,data:(n||{}).data}))}});z.forEach(["post","put","patch"],function(t){function r(n){return function(s,a,o){return this.request(ul(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}fp.prototype[t]=r(),fp.prototype[t+"Form"]=r(!0)});var O0=fp;class Zb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},t(function(s,a,o){n.reason||(n.reason=new $c(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new Zb(function(i){t=i}),cancel:t}}}var O4=Zb;function M4(e){return function(r){return e.apply(null,r)}}function I4(e){return z.isObject(e)&&e.isAxiosError===!0}const Am={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Am).forEach(([e,t])=>{Am[t]=e});var B4=Am;function qk(e){const t=new O0(e),r=mk(O0.prototype.request,t);return z.extend(r,O0.prototype,t,{allOwnKeys:!0}),z.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return qk(ul(e,i))},r}const Lt=qk(Qb);Lt.Axios=O0;Lt.CanceledError=$c;Lt.CancelToken=O4;Lt.isCancel=Fk;Lt.VERSION=Lk;Lt.toFormData=dg;Lt.AxiosError=Fe;Lt.Cancel=Lt.CanceledError;Lt.all=function(t){return Promise.all(t)};Lt.spread=M4;Lt.isAxiosError=I4;Lt.mergeConfig=ul;Lt.AxiosHeaders=bi;Lt.formToJSON=e=>Bk(z.isHTMLForm(e)?new FormData(e):e);Lt.getAdapter=Nk.getAdapter;Lt.HttpStatusCode=B4;Lt.default=Lt;var Wk=Lt;class pc extends J{static fields(){return{user_id:this.attr(null),role_id:this.attr(null)}}}B(pc,"entity","userRoles"),B(pc,"primaryKey",["user_id","role_id"]),B(pc,"piniaOptions",{persist:!0});function F4(e,t=250){let r=!1,n;return function(){return r===!1&&(r=!0,setTimeout(()=>{r=!1},t),n=e.apply(this,arguments)),n}}function Jw(e,t,r,n){r.modifiers.stop===!0&&sp(e);const i=r.modifiers.color;let s=r.modifiers.center;s=s===!0||n===!0;const a=document.createElement("span"),o=document.createElement("span"),l=HB(e),{left:u,top:c,width:d,height:f}=t.getBoundingClientRect(),g=Math.sqrt(d*d+f*f),m=g/2,x=`${(d-g)/2}px`,v=s?x:`${l.left-u-m}px`,p=`${(f-g)/2}px`,h=s?p:`${l.top-c-m}px`;o.className="q-ripple__inner",lm(o,{height:`${g}px`,width:`${g}px`,transform:`translate3d(${v},${h},0) scale3d(.2,.2,1)`,opacity:0}),a.className=`q-ripple${i?" text-"+i:""}`,a.setAttribute("dir","ltr"),a.appendChild(o),t.appendChild(a);const y=()=>{a.remove(),clearTimeout(b)};r.abort.push(y);let b=setTimeout(()=>{o.classList.add("q-ripple__inner--enter"),o.style.transform=`translate3d(${x},${p},0) scale3d(1,1,1)`,o.style.opacity=.2,b=setTimeout(()=>{o.classList.remove("q-ripple__inner--enter"),o.classList.add("q-ripple__inner--leave"),o.style.opacity=0,b=setTimeout(()=>{a.remove(),r.abort.splice(r.abort.indexOf(y),1)},275)},250)},50)}function Gw(e,{modifiers:t,value:r,arg:n}){const i=Object.assign({},e.cfg.ripple,t,r);e.modifiers={early:i.early===!0,stop:i.stop===!0,center:i.center===!0,color:i.color||n,keyCodes:[].concat(i.keyCodes||13)}}var T4=YB({name:"ripple",beforeMount(e,t){const r=t.instance.$.appContext.config.globalProperties.$q.config||{};if(r.ripple===!1)return;const n={cfg:r,enabled:t.value!==!1,modifiers:{},abort:[],start(i){n.enabled===!0&&i.qSkipRipple!==!0&&i.type===(n.modifiers.early===!0?"pointerdown":"click")&&Jw(i,e,n,i.qKeyEvent===!0)},keystart:F4(i=>{n.enabled===!0&&i.qSkipRipple!==!0&&Rd(i,n.modifiers.keyCodes)===!0&&i.type===`key${n.modifiers.early===!0?"down":"up"}`&&Jw(i,e,n,!0)},300)};Gw(n,t),e.__qripple=n,VB(n,"main",[[e,"pointerdown","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const r=e.__qripple;r!==void 0&&(r.enabled=t.value!==!1,r.enabled===!0&&Object(t.value)===t.value&&Gw(r,t))}},beforeUnmount(e){const t=e.__qripple;t!==void 0&&(t.abort.forEach(r=>{r()}),UB(t,"main"),delete e._qripple)}});const jk={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},P4=Object.keys(jk),Yk={align:{type:String,validator:e=>P4.includes(e)}};function Hk(e){return q(()=>{const t=e.align===void 0?e.vertical===!0?"stretch":"left":e.align;return`${e.vertical===!0?"items":"justify"}-${jk[t]}`})}function Qw(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function Xw(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function R4(e,t){for(const r in t){const n=t[r],i=e[r];if(typeof n=="string"){if(n!==i)return!1}else if(Array.isArray(i)===!1||i.length!==n.length||n.some((s,a)=>s!==i[a]))return!1}return!0}function Zw(e,t){return Array.isArray(t)===!0?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function $4(e,t){return Array.isArray(e)===!0?Zw(e,t):Array.isArray(t)===!0?Zw(t,e):e===t}function N4(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if($4(e[r],t[r])===!1)return!1;return!0}const Kk={to:[String,Object],replace:Boolean,href:String,target:String,disable:Boolean},j7={...Kk,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"}};function L4({fallbackTag:e,useDisableForRouterLinkProps:t=!0}={}){const r=et(),{props:n,proxy:i,emit:s}=r,a=jA(r),o=q(()=>n.disable!==!0&&n.href!==void 0),l=q(t===!0?()=>a===!0&&n.disable!==!0&&o.value!==!0&&n.to!==void 0&&n.to!==null&&n.to!=="":()=>a===!0&&o.value!==!0&&n.to!==void 0&&n.to!==null&&n.to!==""),u=q(()=>l.value===!0?h(n.to):null),c=q(()=>u.value!==null),d=q(()=>o.value===!0||c.value===!0),f=q(()=>n.type==="a"||d.value===!0?"a":n.tag||e||"div"),g=q(()=>o.value===!0?{href:n.href,target:n.target}:c.value===!0?{href:u.value.href,target:n.target}:{}),m=q(()=>{if(c.value===!1)return-1;const{matched:_}=u.value,{length:w}=_,D=_[w-1];if(D===void 0)return-1;const S=i.$route.matched;if(S.length===0)return-1;const A=S.findIndex(Xw.bind(null,D));if(A!==-1)return A;const k=Qw(_[w-2]);return w>1&&Qw(D)===k&&S[S.length-1].path!==k?S.findIndex(Xw.bind(null,_[w-2])):A}),x=q(()=>c.value===!0&&m.value!==-1&&R4(i.$route.params,u.value.params)),v=q(()=>x.value===!0&&m.value===i.$route.matched.length-1&&N4(i.$route.params,u.value.params)),p=q(()=>c.value===!0?v.value===!0?` ${n.exactActiveClass} ${n.activeClass}`:n.exact===!0?"":x.value===!0?` ${n.activeClass}`:"":"");function h(_){try{return i.$router.resolve(_)}catch{}return null}function y(_,{returnRouterError:w,to:D=n.to,replace:S=n.replace}={}){if(n.disable===!0)return _.preventDefault(),Promise.resolve(!1);if(_.metaKey||_.altKey||_.ctrlKey||_.shiftKey||_.button!==void 0&&_.button!==0||n.target==="_blank")return Promise.resolve(!1);_.preventDefault();const A=i.$router[S===!0?"replace":"push"](D);return w===!0?A:A.then(()=>{}).catch(()=>{})}function b(_){if(c.value===!0){const w=D=>y(_,D);s("click",_,w),_.defaultPrevented!==!0&&w()}else s("click",_)}return{hasRouterLink:c,hasHrefLink:o,hasLink:d,linkTag:f,resolvedLink:u,linkIsActive:x,linkIsExactActive:v,linkClass:p,linkAttrs:g,getLink:h,navigateToRouterLink:y,navigateOnClick:b}}const e1={none:0,xs:4,sm:8,md:16,lg:24,xl:32},q4={xs:8,sm:10,md:14,lg:20,xl:24},W4=["button","submit","reset"],j4=/[^\s]\/[^\s]/,Y4=["flat","outline","push","unelevated"];function Vk(e,t){return e.flat===!0?"flat":e.outline===!0?"outline":e.push===!0?"push":e.unelevated===!0?"unelevated":t}function Y7(e){const t=Vk(e);return t!==void 0?{[t]:!0}:{}}const H4={...tf,...Kk,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...Y4.reduce((e,t)=>(e[t]=Boolean)&&e,{}),square:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...Yk.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean},K4={...H4,round:Boolean};function V4(e){const t=rf(e,q4),r=Hk(e),{hasRouterLink:n,hasLink:i,linkTag:s,linkAttrs:a,navigateOnClick:o}=L4({fallbackTag:"button"}),l=q(()=>{const v=e.fab===!1&&e.fabMini===!1?t.value:{};return e.padding!==void 0?Object.assign({},v,{padding:e.padding.split(/\s+/).map(p=>p in e1?e1[p]+"px":p).join(" "),minWidth:"0",minHeight:"0"}):v}),u=q(()=>e.rounded===!0||e.fab===!0||e.fabMini===!0),c=q(()=>e.disable!==!0&&e.loading!==!0),d=q(()=>c.value===!0?e.tabindex||0:-1),f=q(()=>Vk(e,"standard")),g=q(()=>{const v={tabindex:d.value};return i.value===!0?Object.assign(v,a.value):W4.includes(e.type)===!0&&(v.type=e.type),s.value==="a"?(e.disable===!0?v["aria-disabled"]="true":v.href===void 0&&(v.role="button"),n.value!==!0&&j4.test(e.type)===!0&&(v.type=e.type)):e.disable===!0&&(v.disabled="",v["aria-disabled"]="true"),e.loading===!0&&e.percentage!==void 0&&Object.assign(v,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),v}),m=q(()=>{let v;e.color!==void 0?e.flat===!0||e.outline===!0?v=`text-${e.textColor||e.color}`:v=`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(v=`text-${e.textColor}`);const p=e.round===!0?"round":`rectangle${u.value===!0?" q-btn--rounded":e.square===!0?" q-btn--square":""}`;return`q-btn--${f.value} q-btn--${p}`+(v!==void 0?" "+v:"")+(c.value===!0?" q-btn--actionable q-focusable q-hoverable":e.disable===!0?" disabled":"")+(e.fab===!0?" q-btn--fab":e.fabMini===!0?" q-btn--fab-mini":"")+(e.noCaps===!0?" q-btn--no-uppercase":"")+(e.dense===!0?" q-btn--dense":"")+(e.stretch===!0?" no-border-radius self-stretch":"")+(e.glossy===!0?" glossy":"")+(e.square?" q-btn--square":"")}),x=q(()=>r.value+(e.stack===!0?" column":" row")+(e.noWrap===!0?" no-wrap text-no-wrap":"")+(e.loading===!0?" q-btn__content--hidden":""));return{classes:m,style:l,innerClasses:x,attributes:g,hasLink:i,linkTag:s,navigateOnClick:o,isActionable:c}}const{passiveCapture:On}=lr;let Al=null,kl=null,El=null;var hp=ct({name:"QBtn",props:{...K4,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(e,{slots:t,emit:r}){const{proxy:n}=et(),{classes:i,style:s,innerClasses:a,attributes:o,hasLink:l,linkTag:u,navigateOnClick:c,isActionable:d}=V4(e),f=De(null),g=De(null);let m=null,x,v=null;const p=q(()=>e.label!==void 0&&e.label!==null&&e.label!==""),h=q(()=>e.disable===!0||e.ripple===!1?!1:{keyCodes:l.value===!0?[13,32]:[13],...e.ripple===!0?{}:e.ripple}),y=q(()=>({center:e.round})),b=q(()=>{const I=Math.max(0,Math.min(100,e.percentage));return I>0?{transition:"transform 0.6s",transform:`translateX(${I-100}%)`}:{}}),_=q(()=>{if(e.loading===!0)return{onMousedown:M,onTouchstart:M,onClick:M,onKeydown:M,onKeyup:M};if(d.value===!0){const I={onClick:D,onKeydown:S,onMousedown:k};if(n.$q.platform.has.touch===!0){const P=e.onTouchstart!==void 0?"":"Passive";I[`onTouchstart${P}`]=A}return I}return{onClick:Hn}}),w=q(()=>({ref:f,class:"q-btn q-btn-item non-selectable no-outline "+i.value,style:s.value,...o.value,..._.value}));function D(I){if(f.value!==null){if(I!==void 0){if(I.defaultPrevented===!0)return;const P=document.activeElement;if(e.type==="submit"&&P!==document.body&&f.value.contains(P)===!1&&P.contains(f.value)===!1){f.value.focus();const L=()=>{document.removeEventListener("keydown",Hn,!0),document.removeEventListener("keyup",L,On),f.value!==null&&f.value.removeEventListener("blur",L,On)};document.addEventListener("keydown",Hn,!0),document.addEventListener("keyup",L,On),f.value.addEventListener("blur",L,On)}}c(I)}}function S(I){f.value!==null&&(r("keydown",I),Rd(I,[13,32])===!0&&kl!==f.value&&(kl!==null&&E(),I.defaultPrevented!==!0&&(f.value.focus(),kl=f.value,f.value.classList.add("q-btn--active"),document.addEventListener("keyup",C,!0),f.value.addEventListener("blur",C,On)),Hn(I)))}function A(I){f.value!==null&&(r("touchstart",I),I.defaultPrevented!==!0&&(Al!==f.value&&(Al!==null&&E(),Al=f.value,m=I.target,m.addEventListener("touchcancel",C,On),m.addEventListener("touchend",C,On)),x=!0,v!==null&&clearTimeout(v),v=setTimeout(()=>{v=null,x=!1},200)))}function k(I){f.value!==null&&(I.qSkipRipple=x===!0,r("mousedown",I),I.defaultPrevented!==!0&&El!==f.value&&(El!==null&&E(),El=f.value,f.value.classList.add("q-btn--active"),document.addEventListener("mouseup",C,On)))}function C(I){if(f.value!==null&&!(I!==void 0&&I.type==="blur"&&document.activeElement===f.value)){if(I!==void 0&&I.type==="keyup"){if(kl===f.value&&Rd(I,[13,32])===!0){const P=new MouseEvent("click",I);P.qKeyEvent=!0,I.defaultPrevented===!0&&va(P),I.cancelBubble===!0&&sp(P),f.value.dispatchEvent(P),Hn(I),I.qKeyEvent=!0}r("keyup",I)}E()}}function E(I){const P=g.value;I!==!0&&(Al===f.value||El===f.value)&&P!==null&&P!==document.activeElement&&(P.setAttribute("tabindex",-1),P.focus()),Al===f.value&&(m!==null&&(m.removeEventListener("touchcancel",C,On),m.removeEventListener("touchend",C,On)),Al=m=null),El===f.value&&(document.removeEventListener("mouseup",C,On),El=null),kl===f.value&&(document.removeEventListener("keyup",C,!0),f.value!==null&&f.value.removeEventListener("blur",C,On),kl=null),f.value!==null&&f.value.classList.remove("q-btn--active")}function M(I){Hn(I),I.qSkipRipple=!0}return Fr(()=>{E(!0)}),Object.assign(n,{click:I=>{d.value===!0&&D(I)}}),()=>{let I=[];e.icon!==void 0&&I.push($(Ys,{name:e.icon,left:e.stack!==!0&&p.value===!0,role:"img","aria-hidden":"true"})),p.value===!0&&I.push($("span",{class:"block"},[e.label])),I=_a(t.default,I),e.iconRight!==void 0&&e.round===!1&&I.push($(Ys,{name:e.iconRight,right:e.stack!==!0&&p.value===!0,role:"img","aria-hidden":"true"}));const P=[$("span",{class:"q-focus-helper",ref:g})];return e.loading===!0&&e.percentage!==void 0&&P.push($("span",{class:"q-btn__progress absolute-full overflow-hidden"+(e.darkPercentage===!0?" q-btn__progress--dark":"")},[$("span",{class:"q-btn__progress-indicator fit block",style:b.value})])),P.push($("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+a.value},I)),e.loading!==null&&P.push($(Xa,{name:"q-transition--fade"},()=>e.loading===!0?[$("span",{key:"loading",class:"absolute-full flex flex-center"},t.loading!==void 0?t.loading():[$(Za)])]:null)),eA($(u.value,w.value,P),[[T4,h.value,void 0,y.value]])}}});let U4=0;const M0={},I0={},pi={},Uk={},z4=/^\s*$/,zk=[],J4=[void 0,null,!0,!1,""],e_=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],G4=["top-left","top-right","bottom-left","bottom-right"],Zl={positive:{icon:e=>e.iconSet.type.positive,color:"positive"},negative:{icon:e=>e.iconSet.type.negative,color:"negative"},warning:{icon:e=>e.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:e=>e.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function Jk(e,t,r){if(!e)return tu("parameter required");let n;const i={textColor:"white"};if(e.ignoreDefaults!==!0&&Object.assign(i,M0),Un(e)===!1&&(i.type&&Object.assign(i,Zl[i.type]),e={message:e}),Object.assign(i,Zl[e.type||i.type],e),typeof i.icon=="function"&&(i.icon=i.icon(t)),i.spinner?(i.spinner===!0&&(i.spinner=Za),i.spinner=yl(i.spinner)):i.spinner=!1,i.meta={hasMedia:Boolean(i.spinner!==!1||i.icon||i.avatar),hasText:t1(i.message)||t1(i.caption)},i.position){if(e_.includes(i.position)===!1)return tu("wrong position",e)}else i.position="bottom";if(J4.includes(i.timeout)===!0)i.timeout=5e3;else{const l=Number(i.timeout);if(isNaN(l)||l<0)return tu("wrong timeout",e);i.timeout=Number.isFinite(l)?l:0}i.timeout===0?i.progress=!1:i.progress===!0&&(i.meta.progressClass="q-notification__progress"+(i.progressClass?` ${i.progressClass}`:""),i.meta.progressStyle={animationDuration:`${i.timeout+1e3}ms`});const s=(Array.isArray(e.actions)===!0?e.actions:[]).concat(e.ignoreDefaults!==!0&&Array.isArray(M0.actions)===!0?M0.actions:[]).concat(Zl[e.type]!==void 0&&Array.isArray(Zl[e.type].actions)===!0?Zl[e.type].actions:[]),{closeBtn:a}=i;if(a&&s.push({label:typeof a=="string"?a:t.lang.label.close}),i.actions=s.map(({handler:l,noDismiss:u,...c})=>({flat:!0,...c,onClick:typeof l=="function"?()=>{l(),u!==!0&&o()}:()=>{o()}})),i.multiLine===void 0&&(i.multiLine=i.actions.length>1),Object.assign(i.meta,{class:`q-notification row items-stretch q-notification--${i.multiLine===!0?"multi-line":"standard"}`+(i.color!==void 0?` bg-${i.color}`:"")+(i.textColor!==void 0?` text-${i.textColor}`:"")+(i.classes!==void 0?` ${i.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(i.multiLine===!0?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(i.multiLine===!0?"":" col"),leftClass:i.meta.hasText===!0?"additional":"single",attrs:{role:"alert",...i.attrs}}),i.group===!1?(i.group=void 0,i.meta.group=void 0):((i.group===void 0||i.group===!0)&&(i.group=[i.message,i.caption,i.multiline].concat(i.actions.map(l=>`${l.label}*${l.icon}`)).join("|")),i.meta.group=i.group+"|"+i.position),i.actions.length===0?i.actions=void 0:i.meta.actionsClass="q-notification__actions row items-center "+(i.multiLine===!0?"justify-end":"col-auto")+(i.meta.hasMedia===!0?" q-notification__actions--with-media":""),r!==void 0){r.notif.meta.timer&&(clearTimeout(r.notif.meta.timer),r.notif.meta.timer=void 0),i.meta.uid=r.notif.meta.uid;const l=pi[i.position].value.indexOf(r.notif);pi[i.position].value[l]=i}else{const l=I0[i.meta.group];if(l===void 0){if(i.meta.uid=U4++,i.meta.badge=1,["left","right","center"].indexOf(i.position)!==-1)pi[i.position].value.splice(Math.floor(pi[i.position].value.length/2),0,i);else{const u=i.position.indexOf("top")!==-1?"unshift":"push";pi[i.position].value[u](i)}i.group!==void 0&&(I0[i.meta.group]=i)}else{if(l.meta.timer&&(clearTimeout(l.meta.timer),l.meta.timer=void 0),i.badgePosition!==void 0){if(G4.includes(i.badgePosition)===!1)return tu("wrong badgePosition",e)}else i.badgePosition=`top-${i.position.indexOf("left")!==-1?"right":"left"}`;i.meta.uid=l.meta.uid,i.meta.badge=l.meta.badge+1,i.meta.badgeClass=`q-notification__badge q-notification__badge--${i.badgePosition}`+(i.badgeColor!==void 0?` bg-${i.badgeColor}`:"")+(i.badgeTextColor!==void 0?` text-${i.badgeTextColor}`:"")+(i.badgeClass?` ${i.badgeClass}`:"");const u=pi[i.position].value.indexOf(l);pi[i.position].value[u]=I0[i.meta.group]=i}}const o=()=>{Q4(i),n=void 0};if(i.timeout>0&&(i.meta.timer=setTimeout(()=>{i.meta.timer=void 0,o()},i.timeout+1e3)),i.group!==void 0)return l=>{l!==void 0?tu("trying to update a grouped one which is forbidden",e):o()};if(n={dismiss:o,config:e,notif:i},r!==void 0){Object.assign(r,n);return}return l=>{if(n!==void 0)if(l===void 0)n.dismiss();else{const u=Object.assign({},n.config,l,{group:!1,position:i.position});Jk(u,t,n)}}}function Q4(e){e.meta.timer&&(clearTimeout(e.meta.timer),e.meta.timer=void 0);const t=pi[e.position].value.indexOf(e);if(t!==-1){e.group!==void 0&&delete I0[e.meta.group];const r=zk[""+e.meta.uid];if(r){const{width:n,height:i}=getComputedStyle(r);r.style.left=`${r.offsetLeft}px`,r.style.width=n,r.style.height=i}pi[e.position].value.splice(t,1),typeof e.onDismiss=="function"&&e.onDismiss()}}function t1(e){return e!=null&&z4.test(e)!==!0}function tu(e,t){return console.error(`Notify: ${e}`,t),!1}function X4(){return ct({name:"QNotifications",devtools:{hide:!0},setup(){return()=>$("div",{class:"q-notifications"},e_.map(e=>$(EB,{key:e,class:Uk[e],tag:"div",name:`q-notification--${e}`},()=>pi[e].value.map(t=>{const r=t.meta,n=[];if(r.hasMedia===!0&&(t.spinner!==!1?n.push($(t.spinner,{class:"q-notification__spinner q-notification__spinner--"+r.leftClass,color:t.spinnerColor,size:t.spinnerSize})):t.icon?n.push($(Ys,{class:"q-notification__icon q-notification__icon--"+r.leftClass,name:t.icon,color:t.iconColor,size:t.iconSize,role:"img"})):t.avatar&&n.push($(k0,{class:"q-notification__avatar q-notification__avatar--"+r.leftClass},()=>$("img",{src:t.avatar,"aria-hidden":"true"})))),r.hasText===!0){let s;const a={class:"q-notification__message col"};if(t.html===!0)a.innerHTML=t.caption?`<div>${t.message}</div><div class="q-notification__caption">${t.caption}</div>`:t.message;else{const o=[t.message];s=t.caption?[$("div",o),$("div",{class:"q-notification__caption"},[t.caption])]:o}n.push($("div",a,s))}const i=[$("div",{class:r.contentClass},n)];return t.progress===!0&&i.push($("div",{key:`${r.uid}|p|${r.badge}`,class:r.progressClass,style:r.progressStyle})),t.actions!==void 0&&i.push($("div",{class:r.actionsClass},t.actions.map(s=>$(hp,s)))),r.badge>1&&i.push($("div",{key:`${r.uid}|${r.badge}`,class:t.meta.badgeClass,style:t.badgeStyle},[r.badge])),$("div",{ref:s=>{zk[""+r.uid]=s},key:r.uid,class:r.class,...r.attrs},[$("div",{class:r.wrapperClass},i)])}))))}})}var Xn={setDefaults(e){Un(e)===!0&&Object.assign(M0,e)},registerType(e,t){Un(t)===!0&&(Zl[e]=t)},install({$q:e,parentApp:t}){if(e.notify=this.create=r=>Jk(r,e),e.notify.setDefaults=this.setDefaults,e.notify.registerType=this.registerType,e.config.notify!==void 0&&this.setDefaults(e.config.notify),this.__installed!==!0){e_.forEach(n=>{pi[n]=De([]);const i=["left","center","right"].includes(n)===!0?"center":n.indexOf("top")!==-1?"top":"bottom",s=n.indexOf("left")!==-1?"start":n.indexOf("right")!==-1?"end":"center",a=["left","right"].includes(n)?`items-${n==="left"?"start":"end"} justify-center`:n==="center"?"flex-center":`items-${s}`;Uk[n]=`q-notifications__list q-notifications__list--${i} fixed column no-wrap ${a}`});const r=ng("q-notify");qb(X4(),t).mount(r)}}};let Of;const Z4=new Uint8Array(16);function eR(){if(!Of&&(Of=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Of))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Of(Z4)}const sr=[];for(let e=0;e<256;++e)sr.push((e+256).toString(16).slice(1));function tR(e,t=0){return sr[e[t+0]]+sr[e[t+1]]+sr[e[t+2]]+sr[e[t+3]]+"-"+sr[e[t+4]]+sr[e[t+5]]+"-"+sr[e[t+6]]+sr[e[t+7]]+"-"+sr[e[t+8]]+sr[e[t+9]]+"-"+sr[e[t+10]]+sr[e[t+11]]+sr[e[t+12]]+sr[e[t+13]]+sr[e[t+14]]+sr[e[t+15]]}const rR=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var r1={randomUUID:rR};function fe(e,t,r){if(r1.randomUUID&&!t&&!e)return r1.randomUUID();e=e||{};const n=e.random||(e.rng||eR)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return tR(n)}class Zu extends J{static fields(){return{id:this.string(()=>fe()),description:this.attr(""),nacionality:this.attr(""),code:this.attr(""),provinces:this.hasMany(yn,"country_id")}}}B(Zu,"entity","countries"),B(Zu,"primaryKey","id"),B(Zu,"piniaOptions",{persist:!0});class ed extends J{static fields(){return{id:this.string(()=>fe()),description:this.attr(""),code:this.attr(""),province_id:this.attr(""),provincia:this.belongsTo(yn,"province_id")}}}B(ed,"entity","cities"),B(ed,"primaryKey","id"),B(ed,"piniaOptions",{persist:!0});class yn extends J{static fields(){return{id:this.string(()=>fe()),description:this.attr(""),code:this.attr(""),country_id:this.attr(""),syncStatus:this.attr(""),country:this.belongsTo(Zu,"country_id"),districts:this.hasMany(Zn,"province_id"),clinics:this.hasMany(Ne,"province_id"),cities:this.hasMany(ed,"province_id")}}}B(yn,"entity","provinces"),B(yn,"primaryKey","id"),B(yn,"piniaOptions",{persist:!0});class Yo extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),description:this.attr(""),district_id:this.attr(""),syncStatus:this.attr(""),district:this.belongsTo(Zn,"district_id"),localidades:this.hasMany(Ho,"postoAdministrativo_id")}}}B(Yo,"entity","postoAdministrativos"),B(Yo,"primaryKey","id"),B(Yo,"piniaOptions",{persist:!0});class Ho extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),description:this.attr(""),postoAdministrativo_id:this.attr(""),district_id:this.attr(""),syncStatus:this.attr(""),postoAdministrativo:this.belongsTo(Yo,"postoAdministrativo_id"),district:this.belongsTo(Zn,"district_id")}}}B(Ho,"entity","localidades"),B(Ho,"primaryKey","id"),B(Ho,"piniaOptions",{persist:!0});class Zn extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),description:this.attr(""),province_id:this.attr(""),syncStatus:this.attr(""),province:this.belongsTo(yn,"province_id"),postosAdministrativos:this.hasMany(Yo,"district_id"),localidades:this.hasMany(Ho,"district_id")}}}B(Zn,"entity","districts"),B(Zn,"primaryKey","id"),B(Zn,"piniaOptions",{persist:!0});class _s extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),description:this.attr(""),type:this.attr("")}}}B(_s,"entity","facilityTypes"),B(_s,"primaryKey","id"),B(_s,"piniaOptions",{persist:!0});class td extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),telephone:this.attr(""),facilityName:this.attr(""),province_id:this.attr(""),facilityType_id:this.attr(""),active:this.attr(""),syncStatus:this.attr(""),province:this.belongsTo(yn,"province_id"),facilityType:this.belongsTo(_s,"facilityType_id"),clinics:this.hasMany(Ne,"nationalClinic_id")}}}B(td,"entity","nationalClinics"),B(td,"primaryKey","id"),B(td,"piniaOptions",{persist:!0});class Ko extends J{static fields(){return{id:this.string(()=>fe()),appointmentDate:this.attr(""),visitDate:this.attr(""),patient_id:this.attr(""),patient:this.belongsTo(bn,"patient_id")}}}B(Ko,"entity","appointments"),B(Ko,"primaryKey","id"),B(Ko,"piniaOptions",{persist:!0});class xs extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),description:this.attr(""),syncStatus:this.attr(""),groups:this.hasMany(_i,"groupType_id")}}}B(xs,"entity","groupTypes"),B(xs,"primaryKey","id"),B(xs,"piniaOptions",{persist:!0});class Ba extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),description:this.attr(""),syncStatus:this.attr(""),clinicalServiceAttributes:this.hasMany(qi,"service_attr_type_id")}}}B(Ba,"entity","clinicalServiceAttributeTypes"),B(Ba,"primaryKey","id"),B(Ba,"piniaOptions",{persist:!0});class qi extends J{static fields(){return{clinical_service_id:this.attr(null),service_attr_type_id:this.attr(""),syncStatus:this.attr(""),clinicalService:this.belongsTo(ti,"clinical_service_id"),clinicalServiceAttributeType:this.belongsTo(Ba,"service_attr_type_id")}}}B(qi,"entity","clinicalServiceAttributes"),B(qi,"primaryKey",["clinical_service_id","service_attr_type_id"]),B(qi,"piniaOptions",{persist:!0});class ws extends J{static fields(){return{id:this.string(()=>fe()),syncStatus:this.attr(""),code:this.attr(""),description:this.attr(""),pattern:this.attr("")}}}B(ws,"entity","identifierTypes"),B(ws,"primaryKey","id"),B(ws,"piniaOptions",{persist:!0});class gc extends J{static fields(){return{clinic_sector_id:this.attr(null),clinical_service_id:this.attr(null)}}}B(gc,"entity","clinicalServiceSectors"),B(gc,"primaryKey",["clinical_service_id","clinic_sector_id"]),B(gc,"piniaOptions",{persist:!0});class Fa extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),description:this.attr(""),unit:this.attr(""),howToUse:this.attr(""),drugs:this.hasMany(br,"form_id")}}}B(Fa,"entity","forms"),B(Fa,"primaryKey","id"),B(Fa,"piniaOptions",{persist:!0});class Ta extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),description:this.attr(""),syncStatus:this.attr(""),openmrsUuid:this.attr("")}}}B(Ta,"entity","dispenseModes"),B(Ta,"primaryKey","id"),B(Ta,"piniaOptions",{persist:!0});class Pa extends J{get fullName(){return`${this.firstnames} ${this.lastname}`}static fields(){return{id:this.attr(null),firstnames:this.attr(""),lastname:this.attr(""),gender:this.attr(""),telephone:this.attr(""),email:this.attr(""),category:this.attr(""),active:this.attr(""),clinic_id:this.attr(""),syncStatus:this.attr(""),clinic:this.belongsTo(Ne,"clinic_id"),prescriptions:this.hasMany(ei,"prescription_id")}}static async apiGetAll(){return await this.api().get("/doctor")}static async apiFetchById(t){return await this.api().get(`/doctor/${t}`)}static async apiFetchByClinicId(t){return await this.api().get("/doctor/clinic/"+t)}static async apiSave(t){return await this.api().post("/doctor",t)}static async apiUpdate(t){return await this.api().patch("/doctor/"+t.id,t)}static localDbAdd(t){return db.newDb().collection("doctors").add(t)}static localDbGetById(t){return db.newDb().collection("doctors").doc({id:t}).get()}static localDbGetAll(){return db.newDb().collection("doctors").get()}static localDbUpdate(t){return db.newDb().collection("doctors").doc({id:t.id}).set(t)}static localDbUpdateAll(t){return db.newDb().collection("doctors").set(t)}static localDbDelete(t){return db.newDb().collection("doctors").doc({id:t.id}).delete()}static localDbDeleteAll(){return db.newDb().collection("doctors").delete()}}B(Pa,"entity","doctors"),B(Pa,"primaryKey","id"),B(Pa,"piniaOptions",{persist:!0});class Ss extends J{static fields(){return{id:this.string(()=>fe()),prescription_id:this.attr(""),member_id:this.attr(""),used:this.boolean(!1),syncStatus:this.attr(""),member:this.belongsTo(Ps,"member_id"),prescription:this.belongsTo(ei,"prescription_id")}}}B(Ss,"entity","groupMemberPrescriptions"),B(Ss,"primaryKey","id"),B(Ss,"piniaOptions",{persist:!0});class Ra extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),description:this.attr("")}}}B(Ra,"entity","episodeTypes"),B(Ra,"primaryKey","id"),B(Ra,"piniaOptions",{persist:!0});class Ds extends J{static fields(){return{id:this.string(()=>fe()),startDate:this.attr(""),endDate:this.attr(""),reopenDate:this.attr(""),value:this.attr(""),state:this.attr(""),prefered:this.boolean(!0),identifier_type_id:this.attr(""),service_id:this.attr(""),patient_id:this.attr(""),clinic_id:this.attr(""),syncStatus:this.attr(""),origin:this.attr(""),identifierType:this.belongsTo(ws,"identifier_type_id"),service:this.belongsTo(ti,"service_id"),patient:this.belongsTo(bn,"patient_id"),episodes:this.hasMany(As,"patientServiceIdentifier_id"),clinic:this.belongsTo(Ne,"clinic_id")}}}B(Ds,"entity","identifiers"),B(Ds,"primaryKey","id"),B(Ds,"piniaOptions",{persist:!0});class $a extends J{static fields(){return{id:this.string(()=>fe()),isStartReason:this.boolean(!1),reason:this.attr(""),episode:this.hasMany(As,"startStopReason_id"),syncStatus:this.attr(""),code:this.attr("")}}}B($a,"entity","startStopReasons"),B($a,"primaryKey","id"),B($a,"piniaOptions",{persist:!0});class As extends J{static fields(){return{id:this.string(()=>fe()),episodeDate:this.attr(""),notes:this.attr(""),creationDate:this.attr(""),episodeType_id:this.attr(""),clinicSector_id:this.attr(""),patientServiceIdentifier_id:this.attr(""),startStopReason_id:this.attr(""),isLast:this.boolean(!1),referralClinic_id:this.attr(""),syncStatus:this.attr(""),origin:this.attr(""),referralClinic:this.belongsTo(Ne,"referralClinic_id"),startStopReason:this.belongsTo($a,"startStopReason_id"),episodeType:this.belongsTo(Ra,"episodeType_id"),clinicSector:this.belongsTo(Ne,"clinicSector_id"),patientServiceIdentifier:this.belongsTo(Ds,"patientServiceIdentifier_id"),patientVisitDetails:this.hasMany(Wi,"episode_id")}}}B(As,"entity","episodes"),B(As,"primaryKey","id"),B(As,"piniaOptions",{persist:!0});class Vo extends J{static fields(){return{id:this.string(()=>fe()),pregnant:this.attr(""),menstruationLastTwoMonths:this.attr(""),lastMenstruation:this.attr(""),patient_visit_id:this.attr(""),syncStatus:this.attr(""),origin:this.attr(""),visit:this.belongsTo(vn,"patient_visit_id")}}}B(Vo,"entity","pregnancyScreenings"),B(Vo,"primaryKey","id"),B(Vo,"piniaOptions",{persist:!0});class Uo extends J{static fields(){return{id:this.string(()=>fe()),adverseReaction:this.attr(""),adverseReactionMedicine:this.attr(""),patient_visit_id:this.attr(""),syncStatus:this.attr(""),origin:this.attr(""),visit:this.belongsTo(vn,"patient_visit_id")}}}B(Uo,"entity","RAMScreenings"),B(Uo,"primaryKey","id"),B(Uo,"piniaOptions",{persist:!0});class zo extends J{static fields(){return{id:this.string(()=>fe()),parentTBTreatment:this.attr(""),cough:this.attr(""),fever:this.attr(""),losingWeight:this.attr(""),treatmentTB:this.attr(""),treatmentTPI:this.attr(""),startTreatmentDate:this.attr(""),fatigueOrTirednessLastTwoWeeks:this.attr(""),sweating:this.attr(""),patient_visit_id:this.attr(""),syncStatus:this.attr(""),origin:this.attr(""),visit:this.belongsTo(vn,"patient_visit_id")}}}B(zo,"entity","TBScreenings"),B(zo,"primaryKey","id"),B(zo,"piniaOptions",{persist:!0});class Jo extends J{static fields(){return{id:this.string(()=>fe()),hasPatientCameCorrectDate:this.attr(""),daysWithoutMedicine:this.attr(""),patientForgotMedicine:this.attr(""),lateDays:this.attr(""),lateMotives:this.attr(""),patient_visit_id:this.attr(""),syncStatus:this.attr(""),origin:this.attr(""),visit:this.belongsTo(vn,"patient_visit_id")}}}B(Jo,"entity","adherenceScreenings"),B(Jo,"primaryKey","id"),B(Jo,"piniaOptions",{persist:!0});class Go extends J{static fields(){return{id:this.string(()=>fe()),distort:this.attr(""),imc:this.attr(""),weight:this.attr(""),systole:this.attr(""),height:this.attr(""),patient_visit_id:this.attr(""),syncStatus:this.attr(""),origin:this.attr(""),visit:this.belongsTo(vn,"patient_visit_id")}}}B(Go,"entity","vitalSignsScreenings"),B(Go,"primaryKey","id"),B(Go,"piniaOptions",{persist:!0});class vn extends J{static fields(){return{id:this.string(()=>fe()),visitDate:this.attr(""),clinic_id:this.attr(""),patient_id:this.attr(""),isLast:this.boolean(!1),syncStatus:this.attr(""),patientVisitDetails:this.hasMany(Wi,"patient_visit_id"),vitalSignsScreenings:this.hasMany(Go,"patient_visit_id"),patientId:this.attr(""),origin:this.attr(""),tbScreenings:this.hasMany(zo,"patient_visit_id"),pregnancyScreenings:this.hasMany(Vo,"patient_visit_id"),adherenceScreenings:this.hasMany(Jo,"patient_visit_id"),ramScreenings:this.hasMany(Uo,"patient_visit_id"),clinic:this.belongsTo(Ne,"clinic_id"),patient:this.belongsTo(bn,"patient_id")}}}B(vn,"entity","patientVisits"),B(vn,"primaryKey","id"),B(vn,"piniaOptions",{persist:!0});class Wi extends J{static fields(){return{id:this.string(()=>fe()),patient_visit_id:this.attr(""),episode_id:this.attr(""),clinic_id:this.attr(""),createPackLater:this.boolean(!1),prescription_id:this.attr(""),pack_id:this.attr(""),syncStatus:this.attr(""),patientVisitId:this.attr(""),origin:this.attr(""),clinic:this.belongsTo(Ne,"clinic_id"),pack:this.belongsTo(Os,"pack_id"),episode:this.belongsTo(As,"episode_id"),patientVisit:this.belongsTo(vn,"patient_visit_id"),prescription:this.belongsTo(ei,"prescription_id")}}}B(Wi,"entity","patientVisitDetails"),B(Wi,"primaryKey","id"),B(Wi,"piniaOptions",{persist:!0});class yc extends J{static fields(){return{drug_id:this.attr(null),therapeutic_regimen_id:this.attr(null)}}}B(yc,"entity","therapeuticRegimensDrug"),B(yc,"primaryKey",["therapeutic_regimen_id","drug_id"]),B(yc,"piniaOptions",{persist:!0});class ji extends J{static fields(){return{id:this.string(()=>fe()),regimenScheme:this.attr(""),active:this.attr(""),code:this.attr(""),description:this.attr(""),clinical_service_id:this.attr(""),syncStatus:this.attr(""),prescriptionDetails:this.hasMany(Es,"therapeutic_regimen_id"),drugs:this.belongsToMany(br,yc,"therapeutic_regimen_id","drug_id"),clinicalService:this.belongsTo(ti,"clinical_service_id")}}}B(ji,"entity","therapeuticRegimens"),B(ji,"primaryKey","id"),B(ji,"piniaOptions",{persist:!0});class ks extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),syncStatus:this.attr(""),description:this.attr("")}}}B(ks,"entity","dispenseTypes"),B(ks,"primaryKey","id"),B(ks,"piniaOptions",{persist:!0});class Na extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),description:this.attr(""),syncStatus:this.attr(""),prescriptionDetails:this.hasMany(Es,"therapeutic_line_id")}}}B(Na,"entity","therapeuticLines"),B(Na,"primaryKey","id"),B(Na,"piniaOptions",{persist:!0});class La extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),syncStatus:this.attr(""),description:this.attr("")}}}B(La,"entity","spetialPrescriptionMotives"),B(La,"primaryKey","id"),B(La,"piniaOptions",{persist:!0});class Es extends J{static fields(){return{id:this.string(()=>fe()),reasonForUpdate:this.attr(""),reasonForUpdateDesc:this.attr(""),prescription_id:this.attr(""),therapeutic_line_id:this.attr(""),therapeutic_regimen_id:this.attr(""),dispense_type_id:this.attr(""),spetialPrescriptionMotive_id:this.attr(""),syncStatus:this.attr(""),origin:this.attr(""),prescription:this.belongsTo(ei,"prescription_id"),therapeuticLine:this.belongsTo(Na,"therapeutic_line_id"),therapeuticRegimen:this.belongsTo(ji,"therapeutic_regimen_id"),dispenseType:this.belongsTo(ks,"dispense_type_id"),spetialPrescriptionMotive:this.belongsTo(La,"spetialPrescriptionMotive_id")}}}B(Es,"entity","prescriptionsDetails"),B(Es,"primaryKey","id"),B(Es,"piniaOptions",{persist:!0});class Qo extends J{static fields(){return{id:this.string(()=>fe()),amtPerTime:this.attr(""),timesPerDay:this.attr(""),modified:this.boolean(!1),prescribedQty:this.attr(""),nextPickUpDate:this.attr(""),toContinue:this.boolean(!0),prescription_id:this.attr(""),drug_id:this.attr(""),form:this.attr(""),syncStatus:this.attr(""),quantityRemain:this.attr(""),origin:this.attr(""),prescription:this.belongsTo(ei,"prescription_id"),drug:this.belongsTo(br,"drug_id")}}}B(Qo,"entity","prescribedDrugs"),B(Qo,"primaryKey","id"),B(Qo,"piniaOptions",{persist:!0});class ei extends J{static fields(){return{id:this.string(()=>fe()),duration_id:this.attr(""),prescriptionDate:this.attr(""),expiryDate:this.attr(""),current:this.boolean(!0),notes:this.attr(""),prescriptionSeq:this.attr(""),modified:this.boolean(!1),patientType:this.attr(""),patientStatus:this.attr(""),leftDuration:this.attr(0),doctor_id:this.attr(""),clinic_id:this.attr(""),special:this.boolean(!1),syncStatus:this.attr(""),origin:this.attr(""),clinic:this.belongsTo(Ne,"clinic_id"),doctor:this.belongsTo(Pa,"doctor_id"),patientVisitDetails:this.hasMany(Wi,"prescription_id"),prescriptionDetails:this.hasMany(Es,"prescription_id").onDelete("cascade"),duration:this.belongsTo(Cs,"duration_id"),prescribedDrugs:this.hasMany(Qo,"prescription_id").onDelete("cascade"),groupMemberPrescription:this.hasMany(Ss,"prescription_id")}}}B(ei,"entity","prescriptions"),B(ei,"primaryKey","id"),B(ei,"piniaOptions",{persist:!0});class Cs extends J{static fields(){return{id:this.string(()=>fe()),weeks:this.attr(""),description:this.attr(""),prescriptions:this.hasMany(ei,"duration_id")}}}B(Cs,"entity","durations"),B(Cs,"primaryKey","id"),B(Cs,"piniaOptions",{persist:!0});class vc extends J{static fields(){return{id:this.string(()=>fe()),packDate:this.attr(""),nextPickUpDate:this.attr(""),isLast:this.boolean(!1),duration_id:this.attr(""),group_id:this.attr(""),syncStatus:this.attr(""),duration:this.belongsTo(Cs,"duration_id"),group:this.belongsTo(_i,"group_id"),groupPacks:this.hasMany(mc,"header_id")}}}B(vc,"entity","groupPackHeaders"),B(vc,"primaryKey","id"),B(vc,"piniaOptions",{persist:!0});class mc extends J{static fields(){return{id:this.string(()=>fe()),pack_id:this.attr(""),header_id:this.attr(""),syncStatus:this.attr(""),pack:this.belongsTo(Os,"pack_id"),header:this.belongsTo(vc,"header_id")}}}B(mc,"entity","groupPacks"),B(mc,"primaryKey","id"),B(mc,"piniaOptions",{persist:!0});class Os extends J{static fields(){return{id:this.string(()=>fe()),dateLeft:this.attr(""),dateReceived:this.attr(""),modified:this.boolean(!1),packDate:this.attr(""),pickupDate:this.attr(""),nextPickUpDate:this.attr(""),weeksSupply:this.attr(""),dispenseMode_id:this.attr(""),dateReturned:this.attr(""),stockReturned:this.number(0),packageReturned:this.number(0),reasonForPackageReturn:this.attr(""),clinic_id:this.attr(""),providerUuid:this.attr(""),syncStatus:this.attr(""),isreferral:this.boolean(!1),isreferalSynced:this.boolean(!1),origin:this.attr(""),clinic:this.belongsTo(Ne,"clinic_id"),patientVisitDetails:this.hasMany(Wi,"pack_id"),dispenseMode:this.belongsTo(Ta,"dispenseMode_id"),packagedDrugs:this.hasMany(Bs,"pack_id").onDelete("cascade"),groupPack:this.belongsTo(mc,"pack_id")}}}B(Os,"entity","packs"),B(Os,"primaryKey","id"),B(Os,"piniaOptions",{persist:!0});class qa extends J{static fields(){return{id:this.attr(null),code:this.attr(""),description:this.attr(""),syncStatus:this.attr(""),adjustments:this.hasMany(Ms,"operation_id")}}}B(qa,"entity","stockOperationTypes"),B(qa,"primaryKey","id"),B(qa,"piniaOptions",{persist:!0});class Ms extends J{static types(){return{INVENTORYSTOCKADJUSTMENT:Ni,STOCKDESTRUCTIONADJUSTMENT:ps,STOCKREFERENCEADJUSTMENT:gs}}static fields(){return{id:this.string(()=>fe()),index:this.number(0),notes:this.attr(""),stockTake:this.number(0),adjustedValue:this.number(0),balance:this.number(0),captureDate:this.attr(""),finalised:this.boolean(!1),adjusted_stock_id:this.attr(null),operation_id:this.attr(null),clinic_id:this.attr(""),syncStatus:this.attr(""),type:this.attr("INVENTORYSTOCKADJUSTMENT"),clinic:this.belongsTo(Ne,"clinic_id"),adjustedStock:this.belongsTo(mn,"adjusted_stock_id"),operation:this.belongsTo(qa,"operation_id")}}}B(Ms,"entity","stockAdjustments"),B(Ms,"primaryKey","id"),B(Ms,"piniaOptions",{persist:!0});class Wa extends J{static fields(){return{id:this.string(()=>fe()),startDate:this.attr(null),endDate:this.attr(null),open:this.boolean(!0),generic:this.boolean(!0),sequence:this.number(0),drugs:this.attr([]),syncStatus:this.attr(""),clinic_id:this.attr(""),clinic:this.belongsTo(Ne,"clinic_id"),adjustments:this.hasMany(Ni,"inventory_id")}}static getClassName(){return"Inventory"}}B(Wa,"entity","inventorys"),B(Wa,"primaryKey","id"),B(Wa,"piniaOptions",{persist:!0});class Ni extends Ms{static fields(){return{...super.fields(),id:this.string(()=>fe()),inventory_id:this.attr(null),syncStatus:this.attr(""),inventory:this.belongsTo(Wa,"inventory_id")}}}B(Ni,"entity","inventoryStockAdjustments"),B(Ni,"baseEntity","stockAdjustments"),B(Ni,"primaryKey","id"),B(Ni,"piniaOptions",{persist:!0});class bc extends J{static fields(){return{id:this.string(()=>fe()),notes:this.attr(""),date:this.attr(null),updateStatus:this.attr("P"),clinic_id:this.attr(""),syncStatus:this.attr(""),clinic:this.belongsTo(Ne,"clinic_id"),adjustments:this.hasMany(ps,"destruction_id")}}}B(bc,"entity","destroyedStocks"),B(bc,"primaryKey","id"),B(bc,"piniaOptions",{persist:!0});class ps extends Ms{static fields(){return{...super.fields(),id:this.string(()=>fe()),destruction_id:this.attr(null),destruction:this.belongsTo(bc,"destruction_id")}}}B(ps,"entity","stockDestructionAdjustments"),B(ps,"baseEntity","stockAdjustments"),B(ps,"primaryKey","id"),B(ps,"piniaOptions",{persist:!0});class rd extends J{static fields(){return{id:this.string(()=>fe()),date:this.attr(null),orderNumber:this.attr(""),origin:this.attr(""),quantity:this.number(0),updateStatus:this.attr("P"),clinic_id:this.attr(""),syncStatus:this.attr(""),clinic:this.belongsTo(Ne,"clinic_id"),adjustments:this.hasMany(gs,"reference_id")}}}B(rd,"entity","referedStockMoviments"),B(rd,"primaryKey","id"),B(rd,"piniaOptions",{persist:!0});class gs extends Ms{static fields(){return{...super.fields(),id:this.string(()=>fe()),reference_id:this.attr(null),reference:this.belongsTo(rd,"reference_id")}}}B(gs,"entity","stockReferenceAdjustments"),B(gs,"baseEntity","stockAdjustments"),B(gs,"primaryKey","id"),B(gs,"piniaOptions",{persist:!0});class _c extends J{static fields(){return{id:this.string(()=>fe()),drug_id:this.attr(null),clinic_id:this.attr(null),quantity:this.attr(""),clinic:this.belongsTo(mn,"clinic_id"),drug:this.belongsTo(br,"drug_id")}}}B(_c,"entity","stockLevels"),B(_c,"primaryKey","id"),B(_c,"piniaOptions",{persist:!0});class ja extends J{static fields(){return{id:this.string(()=>fe()),orderNumber:this.attr(""),dateReceived:this.attr(""),clinic_id:this.attr(""),syncStatus:this.attr(""),notes:this.attr(""),creationDate:this.attr(""),isDistribution:this.attr(""),clinic:this.belongsTo(Ne,"clinic_id"),stocks:this.hasMany(mn,"entrance_id")}}static getClassName(){return"stockEntrance"}}B(ja,"entity","stockEntrances"),B(ja,"primaryKey","id"),B(ja,"piniaOptions",{persist:!0});class Ya extends J{static fields(){return{id:this.attr(null),name:this.attr(""),prefered:this.boolean(!1),code:this.attr(""),syncStatus:this.attr(""),clinic_id:this.attr(""),clinic:this.belongsTo(Ne,"clinic_id")}}}B(Ya,"entity","stockCenters"),B(Ya,"primaryKey","id"),B(Ya,"piniaOptions",{persist:!0});class mn extends J{static fields(){return{id:this.string(()=>fe()),expireDate:this.attr(""),auxExpireDate:this.attr(""),modified:this.boolean(!1),shelfNumber:this.attr(""),unitsReceived:this.number(0),stockMoviment:this.number(0),manufacture:this.attr(""),batchNumber:this.attr(""),hasUnitsRemaining:this.boolean(!1),entrance_id:this.attr(null),stock_center_id:this.attr(null),drug_id:this.attr(null),enabled:this.boolean(!1),clinic_id:this.attr(""),syncStatus:this.attr(""),entranceId:this.attr(""),drugId:this.attr(""),clinicId:this.attr(""),clinic:this.belongsTo(Ne,"clinic_id"),adjustments:this.hasMany(Ms,"adjusted_stock_id"),entrance:this.belongsTo(ja,"entrance_id"),center:this.belongsTo(Ya,"stock_center_id"),stockLevel:this.hasOne(_c,"stock_id"),drug:this.belongsTo(br,"drug_id"),packagedDrugStocks:this.hasMany(Is,"stock_id")}}}B(mn,"entity","stocks"),B(mn,"primaryKey","id"),B(mn,"piniaOptions",{persist:!0});class Is extends J{static fields(){return{id:this.string(()=>fe()),quantitySupplied:this.attr(""),creationDate:this.attr(""),packagedDrug_id:this.attr(""),drug_id:this.attr(""),stock_id:this.attr(""),syncStatus:this.attr(""),packagedDrug:this.belongsTo(Bs,"pack_id"),drug:this.belongsTo(br,"drug_id"),stock:this.belongsTo(mn,"stock_id")}}}B(Is,"entity","packagedDrugStocks"),B(Is,"primaryKey","id"),B(Is,"piniaOptions",{persist:!0});class Bs extends J{static fields(){return{id:this.string(()=>fe()),amtPerTime:this.attr(""),timesPerDay:this.attr(""),form:this.attr(""),quantitySupplied:this.attr(""),nextPickUpDate:this.attr(""),toContinue:this.boolean(!0),creationDate:this.attr(""),pack_id:this.attr(""),drug_id:this.attr(""),syncStatus:this.attr(""),quantityRemain:this.attr(""),origin:this.attr(""),pack:this.belongsTo(Os,"pack_id"),drug:this.belongsTo(br,"drug_id"),packagedDrugStocks:this.hasMany(Is,"packagedDrugStock_id")}}}B(Bs,"entity","packagedDrugs"),B(Bs,"primaryKey","id"),B(Bs,"piniaOptions",{persist:!0});//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Gk;function G(){return Gk.apply(null,arguments)}function nR(e){Gk=e}function xi(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Xo(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function He(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function t_(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(He(e,t))return!1;return!0}function qr(e){return e===void 0}function Hs(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function of(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Qk(e,t){var r=[],n,i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function xa(e,t){for(var r in t)He(t,r)&&(e[r]=t[r]);return He(t,"toString")&&(e.toString=t.toString),He(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Ui(e,t,r,n){return _E(e,t,r,n,!0).utc()}function iR(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Te(e){return e._pf==null&&(e._pf=iR()),e._pf}var km;Array.prototype.some?km=Array.prototype.some:km=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function r_(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=Te(e),r=km.call(t.parsedDateParts,function(i){return i!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function pg(e){var t=Ui(NaN);return e!=null?xa(Te(t),e):Te(t).userInvalidated=!0,t}var n1=G.momentProperties=[],gy=!1;function n_(e,t){var r,n,i,s=n1.length;if(qr(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),qr(t._i)||(e._i=t._i),qr(t._f)||(e._f=t._f),qr(t._l)||(e._l=t._l),qr(t._strict)||(e._strict=t._strict),qr(t._tzm)||(e._tzm=t._tzm),qr(t._isUTC)||(e._isUTC=t._isUTC),qr(t._offset)||(e._offset=t._offset),qr(t._pf)||(e._pf=Te(t)),qr(t._locale)||(e._locale=t._locale),s>0)for(r=0;r<s;r++)n=n1[r],i=t[n],qr(i)||(e[n]=i);return e}function lf(e){n_(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),gy===!1&&(gy=!0,G.updateOffset(this),gy=!1)}function wi(e){return e instanceof lf||e!=null&&e._isAMomentObject!=null}function Xk(e){G.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function ni(e,t){var r=!0;return xa(function(){if(G.deprecationHandler!=null&&G.deprecationHandler(null,e),r){var n=[],i,s,a,o=arguments.length;for(s=0;s<o;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(a in arguments[0])He(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[s];n.push(i)}Xk(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var i1={};function Zk(e,t){G.deprecationHandler!=null&&G.deprecationHandler(e,t),i1[e]||(Xk(t),i1[e]=!0)}G.suppressDeprecationWarnings=!1;G.deprecationHandler=null;function zi(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function sR(e){var t,r;for(r in e)He(e,r)&&(t=e[r],zi(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Em(e,t){var r=xa({},e),n;for(n in t)He(t,n)&&(Xo(e[n])&&Xo(t[n])?(r[n]={},xa(r[n],e[n]),xa(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)He(e,n)&&!He(t,n)&&Xo(e[n])&&(r[n]=xa({},r[n]));return r}function i_(e){e!=null&&this.set(e)}var Cm;Object.keys?Cm=Object.keys:Cm=function(e){var t,r=[];for(t in e)He(e,t)&&r.push(t);return r};var aR={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function oR(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return zi(n)?n.call(t,r):n}function Ki(e,t,r){var n=""+Math.abs(e),i=t-n.length,s=e>=0;return(s?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var s_=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Mf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,yy={},xc={};function xe(e,t,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),e&&(xc[e]=i),t&&(xc[t[0]]=function(){return Ki(i.apply(this,arguments),t[1],t[2])}),r&&(xc[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function lR(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function cR(e){var t=e.match(s_),r,n;for(r=0,n=t.length;r<n;r++)xc[t[r]]?t[r]=xc[t[r]]:t[r]=lR(t[r]);return function(i){var s="",a;for(a=0;a<n;a++)s+=zi(t[a])?t[a].call(i,e):t[a];return s}}function B0(e,t){return e.isValid()?(t=eE(t,e.localeData()),yy[t]=yy[t]||cR(t),yy[t](e)):e.localeData().invalidDate()}function eE(e,t){var r=5;function n(i){return t.longDateFormat(i)||i}for(Mf.lastIndex=0;r>=0&&Mf.test(e);)e=e.replace(Mf,n),Mf.lastIndex=0,r-=1;return e}var uR={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function dR(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(s_).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var fR="Invalid date";function hR(){return this._invalidDate}var pR="%d",gR=/\d{1,2}/;function yR(e){return this._ordinal.replace("%d",e)}var vR={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function mR(e,t,r,n){var i=this._relativeTime[r];return zi(i)?i(e,t,r,n):i.replace(/%d/i,e)}function bR(e,t){var r=this._relativeTime[e>0?"future":"past"];return zi(r)?r(t):r.replace(/%s/i,t)}var s1={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ii(e){return typeof e=="string"?s1[e]||s1[e.toLowerCase()]:void 0}function a_(e){var t={},r,n;for(n in e)He(e,n)&&(r=ii(n),r&&(t[r]=e[n]));return t}var _R={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function xR(e){var t=[],r;for(r in e)He(e,r)&&t.push({unit:r,priority:_R[r]});return t.sort(function(n,i){return n.priority-i.priority}),t}var tE=/\d/,An=/\d\d/,rE=/\d{3}/,o_=/\d{4}/,gg=/[+-]?\d{6}/,bt=/\d\d?/,nE=/\d\d\d\d?/,iE=/\d\d\d\d\d\d?/,yg=/\d{1,3}/,l_=/\d{1,4}/,vg=/[+-]?\d{1,6}/,Nc=/\d+/,mg=/[+-]?\d+/,wR=/Z|[+-]\d\d:?\d\d/gi,bg=/Z|[+-]\d\d(?::?\d\d)?/gi,SR=/[+-]?\d+(\.\d{1,3})?/,cf=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Lc=/^[1-9]\d?/,c_=/^([1-9]\d|\d)/,pp;pp={};function ye(e,t,r){pp[e]=zi(t)?t:function(n,i){return n&&r?r:t}}function DR(e,t){return He(pp,e)?pp[e](t._strict,t._locale):new RegExp(AR(e))}function AR(e){return Fs(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,i,s){return r||n||i||s}))}function Fs(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Kn(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function $e(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=Kn(t)),r}var Om={};function ot(e,t){var r,n=t,i;for(typeof e=="string"&&(e=[e]),Hs(t)&&(n=function(s,a){a[t]=$e(s)}),i=e.length,r=0;r<i;r++)Om[e[r]]=n}function uf(e,t){ot(e,function(r,n,i,s){i._w=i._w||{},t(r,i._w,i,s)})}function kR(e,t,r){t!=null&&He(Om,e)&&Om[e](t,r._a,r,e)}function _g(e){return e%4===0&&e%100!==0||e%400===0}var mr=0,ys=1,Ri=2,Yt=3,vi=4,vs=5,Po=6,ER=7,CR=8;xe("Y",0,0,function(){var e=this.year();return e<=9999?Ki(e,4):"+"+e});xe(0,["YY",2],0,function(){return this.year()%100});xe(0,["YYYY",4],0,"year");xe(0,["YYYYY",5],0,"year");xe(0,["YYYYYY",6,!0],0,"year");ye("Y",mg);ye("YY",bt,An);ye("YYYY",l_,o_);ye("YYYYY",vg,gg);ye("YYYYYY",vg,gg);ot(["YYYYY","YYYYYY"],mr);ot("YYYY",function(e,t){t[mr]=e.length===2?G.parseTwoDigitYear(e):$e(e)});ot("YY",function(e,t){t[mr]=G.parseTwoDigitYear(e)});ot("Y",function(e,t){t[mr]=parseInt(e,10)});function nd(e){return _g(e)?366:365}G.parseTwoDigitYear=function(e){return $e(e)+($e(e)>68?1900:2e3)};var sE=qc("FullYear",!0);function OR(){return _g(this.year())}function qc(e,t){return function(r){return r!=null?(aE(this,e,r),G.updateOffset(this,t),this):Ld(this,e)}}function Ld(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function aE(e,t,r){var n,i,s,a,o;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(i?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(i?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(i?n.setUTCHours(r):n.setHours(r));case"Date":return void(i?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}s=r,a=e.month(),o=e.date(),o=o===29&&a===1&&!_g(s)?28:o,i?n.setUTCFullYear(s,a,o):n.setFullYear(s,a,o)}}function MR(e){return e=ii(e),zi(this[e])?this[e]():this}function IR(e,t){if(typeof e=="object"){e=a_(e);var r=xR(e),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(e=ii(e),zi(this[e]))return this[e](t);return this}function BR(e,t){return(e%t+t)%t}var Ot;Array.prototype.indexOf?Ot=Array.prototype.indexOf:Ot=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function u_(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=BR(t,12);return e+=(t-r)/12,r===1?_g(e)?29:28:31-r%7%2}xe("M",["MM",2],"Mo",function(){return this.month()+1});xe("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});xe("MMMM",0,0,function(e){return this.localeData().months(this,e)});ye("M",bt,Lc);ye("MM",bt,An);ye("MMM",function(e,t){return t.monthsShortRegex(e)});ye("MMMM",function(e,t){return t.monthsRegex(e)});ot(["M","MM"],function(e,t){t[ys]=$e(e)-1});ot(["MMM","MMMM"],function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);i!=null?t[ys]=i:Te(r).invalidMonth=e});var FR="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),oE="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),lE=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,TR=cf,PR=cf;function RR(e,t){return e?xi(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||lE).test(t)?"format":"standalone"][e.month()]:xi(this._months)?this._months:this._months.standalone}function $R(e,t){return e?xi(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[lE.test(t)?"format":"standalone"][e.month()]:xi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function NR(e,t,r){var n,i,s,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=Ui([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?t==="MMM"?(i=Ot.call(this._shortMonthsParse,a),i!==-1?i:null):(i=Ot.call(this._longMonthsParse,a),i!==-1?i:null):t==="MMM"?(i=Ot.call(this._shortMonthsParse,a),i!==-1?i:(i=Ot.call(this._longMonthsParse,a),i!==-1?i:null)):(i=Ot.call(this._longMonthsParse,a),i!==-1?i:(i=Ot.call(this._shortMonthsParse,a),i!==-1?i:null))}function LR(e,t,r){var n,i,s;if(this._monthsParseExact)return NR.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=Ui([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function cE(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=$e(t);else if(t=e.localeData().monthsParse(t),!Hs(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,u_(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function uE(e){return e!=null?(cE(this,e),G.updateOffset(this,!0),this):Ld(this,"Month")}function qR(){return u_(this.year(),this.month())}function WR(e){return this._monthsParseExact?(He(this,"_monthsRegex")||dE.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(He(this,"_monthsShortRegex")||(this._monthsShortRegex=TR),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function jR(e){return this._monthsParseExact?(He(this,"_monthsRegex")||dE.call(this),e?this._monthsStrictRegex:this._monthsRegex):(He(this,"_monthsRegex")||(this._monthsRegex=PR),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function dE(){function e(l,u){return u.length-l.length}var t=[],r=[],n=[],i,s,a,o;for(i=0;i<12;i++)s=Ui([2e3,i]),a=Fs(this.monthsShort(s,"")),o=Fs(this.months(s,"")),t.push(a),r.push(o),n.push(o),n.push(a);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function YR(e,t,r,n,i,s,a){var o;return e<100&&e>=0?(o=new Date(e+400,t,r,n,i,s,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,r,n,i,s,a),o}function qd(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function gp(e,t,r){var n=7+t-r,i=(7+qd(e,0,n).getUTCDay()-t)%7;return-i+n-1}function fE(e,t,r,n,i){var s=(7+r-n)%7,a=gp(e,n,i),o=1+7*(t-1)+s+a,l,u;return o<=0?(l=e-1,u=nd(l)+o):o>nd(e)?(l=e+1,u=o-nd(e)):(l=e,u=o),{year:l,dayOfYear:u}}function Wd(e,t,r){var n=gp(e.year(),t,r),i=Math.floor((e.dayOfYear()-n-1)/7)+1,s,a;return i<1?(a=e.year()-1,s=i+Ts(a,t,r)):i>Ts(e.year(),t,r)?(s=i-Ts(e.year(),t,r),a=e.year()+1):(a=e.year(),s=i),{week:s,year:a}}function Ts(e,t,r){var n=gp(e,t,r),i=gp(e+1,t,r);return(nd(e)-n+i)/7}xe("w",["ww",2],"wo","week");xe("W",["WW",2],"Wo","isoWeek");ye("w",bt,Lc);ye("ww",bt,An);ye("W",bt,Lc);ye("WW",bt,An);uf(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=$e(e)});function HR(e){return Wd(e,this._week.dow,this._week.doy).week}var KR={dow:0,doy:6};function VR(){return this._week.dow}function UR(){return this._week.doy}function zR(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function JR(e){var t=Wd(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}xe("d",0,"do","day");xe("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});xe("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});xe("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});xe("e",0,0,"weekday");xe("E",0,0,"isoWeekday");ye("d",bt);ye("e",bt);ye("E",bt);ye("dd",function(e,t){return t.weekdaysMinRegex(e)});ye("ddd",function(e,t){return t.weekdaysShortRegex(e)});ye("dddd",function(e,t){return t.weekdaysRegex(e)});uf(["dd","ddd","dddd"],function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);i!=null?t.d=i:Te(r).invalidWeekday=e});uf(["d","e","E"],function(e,t,r,n){t[n]=$e(e)});function GR(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function QR(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function d_(e,t){return e.slice(t,7).concat(e.slice(0,t))}var XR="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),hE="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ZR="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),e8=cf,t8=cf,r8=cf;function n8(e,t){var r=xi(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?d_(r,this._week.dow):e?r[e.day()]:r}function i8(e){return e===!0?d_(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function s8(e){return e===!0?d_(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function a8(e,t,r){var n,i,s,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=Ui([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?t==="dddd"?(i=Ot.call(this._weekdaysParse,a),i!==-1?i:null):t==="ddd"?(i=Ot.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=Ot.call(this._minWeekdaysParse,a),i!==-1?i:null):t==="dddd"?(i=Ot.call(this._weekdaysParse,a),i!==-1||(i=Ot.call(this._shortWeekdaysParse,a),i!==-1)?i:(i=Ot.call(this._minWeekdaysParse,a),i!==-1?i:null)):t==="ddd"?(i=Ot.call(this._shortWeekdaysParse,a),i!==-1||(i=Ot.call(this._weekdaysParse,a),i!==-1)?i:(i=Ot.call(this._minWeekdaysParse,a),i!==-1?i:null)):(i=Ot.call(this._minWeekdaysParse,a),i!==-1||(i=Ot.call(this._weekdaysParse,a),i!==-1)?i:(i=Ot.call(this._shortWeekdaysParse,a),i!==-1?i:null))}function o8(e,t,r){var n,i,s;if(this._weekdaysParseExact)return a8.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=Ui([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function l8(e){if(!this.isValid())return e!=null?this:NaN;var t=Ld(this,"Day");return e!=null?(e=GR(e,this.localeData()),this.add(e-t,"d")):t}function c8(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function u8(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=QR(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function d8(e){return this._weekdaysParseExact?(He(this,"_weekdaysRegex")||f_.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(He(this,"_weekdaysRegex")||(this._weekdaysRegex=e8),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function f8(e){return this._weekdaysParseExact?(He(this,"_weekdaysRegex")||f_.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(He(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=t8),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function h8(e){return this._weekdaysParseExact?(He(this,"_weekdaysRegex")||f_.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(He(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=r8),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function f_(){function e(c,d){return d.length-c.length}var t=[],r=[],n=[],i=[],s,a,o,l,u;for(s=0;s<7;s++)a=Ui([2e3,1]).day(s),o=Fs(this.weekdaysMin(a,"")),l=Fs(this.weekdaysShort(a,"")),u=Fs(this.weekdays(a,"")),t.push(o),r.push(l),n.push(u),i.push(o),i.push(l),i.push(u);t.sort(e),r.sort(e),n.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function h_(){return this.hours()%12||12}function p8(){return this.hours()||24}xe("H",["HH",2],0,"hour");xe("h",["hh",2],0,h_);xe("k",["kk",2],0,p8);xe("hmm",0,0,function(){return""+h_.apply(this)+Ki(this.minutes(),2)});xe("hmmss",0,0,function(){return""+h_.apply(this)+Ki(this.minutes(),2)+Ki(this.seconds(),2)});xe("Hmm",0,0,function(){return""+this.hours()+Ki(this.minutes(),2)});xe("Hmmss",0,0,function(){return""+this.hours()+Ki(this.minutes(),2)+Ki(this.seconds(),2)});function pE(e,t){xe(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}pE("a",!0);pE("A",!1);function gE(e,t){return t._meridiemParse}ye("a",gE);ye("A",gE);ye("H",bt,c_);ye("h",bt,Lc);ye("k",bt,Lc);ye("HH",bt,An);ye("hh",bt,An);ye("kk",bt,An);ye("hmm",nE);ye("hmmss",iE);ye("Hmm",nE);ye("Hmmss",iE);ot(["H","HH"],Yt);ot(["k","kk"],function(e,t,r){var n=$e(e);t[Yt]=n===24?0:n});ot(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});ot(["h","hh"],function(e,t,r){t[Yt]=$e(e),Te(r).bigHour=!0});ot("hmm",function(e,t,r){var n=e.length-2;t[Yt]=$e(e.substr(0,n)),t[vi]=$e(e.substr(n)),Te(r).bigHour=!0});ot("hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[Yt]=$e(e.substr(0,n)),t[vi]=$e(e.substr(n,2)),t[vs]=$e(e.substr(i)),Te(r).bigHour=!0});ot("Hmm",function(e,t,r){var n=e.length-2;t[Yt]=$e(e.substr(0,n)),t[vi]=$e(e.substr(n))});ot("Hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[Yt]=$e(e.substr(0,n)),t[vi]=$e(e.substr(n,2)),t[vs]=$e(e.substr(i))});function g8(e){return(e+"").toLowerCase().charAt(0)==="p"}var y8=/[ap]\.?m?\.?/i,v8=qc("Hours",!0);function m8(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var yE={calendar:aR,longDateFormat:uR,invalidDate:fR,ordinal:pR,dayOfMonthOrdinalParse:gR,relativeTime:vR,months:FR,monthsShort:oE,week:KR,weekdays:XR,weekdaysMin:ZR,weekdaysShort:hE,meridiemParse:y8},wt={},ru={},jd;function b8(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function a1(e){return e&&e.toLowerCase().replace("_","-")}function _8(e){for(var t=0,r,n,i,s;t<e.length;){for(s=a1(e[t]).split("-"),r=s.length,n=a1(e[t+1]),n=n?n.split("-"):null;r>0;){if(i=xg(s.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&b8(s,n)>=r-1)break;r--}t++}return jd}function x8(e){return!!(e&&e.match("^[^/\\\\]*$"))}function xg(e){var t=null,r;if(wt[e]===void 0&&typeof module!="undefined"&&module&&module.exports&&x8(e))try{t=jd._abbr,r=require,r("./locale/"+e),Ha(t)}catch{wt[e]=null}return wt[e]}function Ha(e,t){var r;return e&&(qr(t)?r=Us(e):r=p_(e,t),r?jd=r:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),jd._abbr}function p_(e,t){if(t!==null){var r,n=yE;if(t.abbr=e,wt[e]!=null)Zk("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=wt[e]._config;else if(t.parentLocale!=null)if(wt[t.parentLocale]!=null)n=wt[t.parentLocale]._config;else if(r=xg(t.parentLocale),r!=null)n=r._config;else return ru[t.parentLocale]||(ru[t.parentLocale]=[]),ru[t.parentLocale].push({name:e,config:t}),null;return wt[e]=new i_(Em(n,t)),ru[e]&&ru[e].forEach(function(i){p_(i.name,i.config)}),Ha(e),wt[e]}else return delete wt[e],null}function w8(e,t){if(t!=null){var r,n,i=yE;wt[e]!=null&&wt[e].parentLocale!=null?wt[e].set(Em(wt[e]._config,t)):(n=xg(e),n!=null&&(i=n._config),t=Em(i,t),n==null&&(t.abbr=e),r=new i_(t),r.parentLocale=wt[e],wt[e]=r),Ha(e)}else wt[e]!=null&&(wt[e].parentLocale!=null?(wt[e]=wt[e].parentLocale,e===Ha()&&Ha(e)):wt[e]!=null&&delete wt[e]);return wt[e]}function Us(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return jd;if(!xi(e)){if(t=xg(e),t)return t;e=[e]}return _8(e)}function S8(){return Cm(wt)}function g_(e){var t,r=e._a;return r&&Te(e).overflow===-2&&(t=r[ys]<0||r[ys]>11?ys:r[Ri]<1||r[Ri]>u_(r[mr],r[ys])?Ri:r[Yt]<0||r[Yt]>24||r[Yt]===24&&(r[vi]!==0||r[vs]!==0||r[Po]!==0)?Yt:r[vi]<0||r[vi]>59?vi:r[vs]<0||r[vs]>59?vs:r[Po]<0||r[Po]>999?Po:-1,Te(e)._overflowDayOfYear&&(t<mr||t>Ri)&&(t=Ri),Te(e)._overflowWeeks&&t===-1&&(t=ER),Te(e)._overflowWeekday&&t===-1&&(t=CR),Te(e).overflow=t),e}var D8=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,A8=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,k8=/Z|[+-]\d\d(?::?\d\d)?/,If=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],vy=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],E8=/^\/?Date\((-?\d+)/i,C8=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,O8={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function vE(e){var t,r,n=e._i,i=D8.exec(n)||A8.exec(n),s,a,o,l,u=If.length,c=vy.length;if(i){for(Te(e).iso=!0,t=0,r=u;t<r;t++)if(If[t][1].exec(i[1])){a=If[t][0],s=If[t][2]!==!1;break}if(a==null){e._isValid=!1;return}if(i[3]){for(t=0,r=c;t<r;t++)if(vy[t][1].exec(i[3])){o=(i[2]||" ")+vy[t][0];break}if(o==null){e._isValid=!1;return}}if(!s&&o!=null){e._isValid=!1;return}if(i[4])if(k8.exec(i[4]))l="Z";else{e._isValid=!1;return}e._f=a+(o||"")+(l||""),v_(e)}else e._isValid=!1}function M8(e,t,r,n,i,s){var a=[I8(e),oE.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return s&&a.push(parseInt(s,10)),a}function I8(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function B8(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function F8(e,t,r){if(e){var n=hE.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(n!==i)return Te(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function T8(e,t,r){if(e)return O8[e];if(t)return 0;var n=parseInt(r,10),i=n%100,s=(n-i)/100;return s*60+i}function mE(e){var t=C8.exec(B8(e._i)),r;if(t){if(r=M8(t[4],t[3],t[2],t[5],t[6],t[7]),!F8(t[1],r,e))return;e._a=r,e._tzm=T8(t[8],t[9],t[10]),e._d=qd.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Te(e).rfc2822=!0}else e._isValid=!1}function P8(e){var t=E8.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(vE(e),e._isValid===!1)delete e._isValid;else return;if(mE(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:G.createFromInputFallback(e)}G.createFromInputFallback=ni("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function ec(e,t,r){return e!=null?e:t!=null?t:r}function R8(e){var t=new Date(G.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function y_(e){var t,r,n=[],i,s,a;if(!e._d){for(i=R8(e),e._w&&e._a[Ri]==null&&e._a[ys]==null&&$8(e),e._dayOfYear!=null&&(a=ec(e._a[mr],i[mr]),(e._dayOfYear>nd(a)||e._dayOfYear===0)&&(Te(e)._overflowDayOfYear=!0),r=qd(a,0,e._dayOfYear),e._a[ys]=r.getUTCMonth(),e._a[Ri]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=i[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Yt]===24&&e._a[vi]===0&&e._a[vs]===0&&e._a[Po]===0&&(e._nextDay=!0,e._a[Yt]=0),e._d=(e._useUTC?qd:YR).apply(null,n),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Yt]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==s&&(Te(e).weekdayMismatch=!0)}}function $8(e){var t,r,n,i,s,a,o,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,a=4,r=ec(t.GG,e._a[mr],Wd(mt(),1,4).year),n=ec(t.W,1),i=ec(t.E,1),(i<1||i>7)&&(l=!0)):(s=e._locale._week.dow,a=e._locale._week.doy,u=Wd(mt(),s,a),r=ec(t.gg,e._a[mr],u.year),n=ec(t.w,u.week),t.d!=null?(i=t.d,(i<0||i>6)&&(l=!0)):t.e!=null?(i=t.e+s,(t.e<0||t.e>6)&&(l=!0)):i=s),n<1||n>Ts(r,s,a)?Te(e)._overflowWeeks=!0:l!=null?Te(e)._overflowWeekday=!0:(o=fE(r,n,i,s,a),e._a[mr]=o.year,e._dayOfYear=o.dayOfYear)}G.ISO_8601=function(){};G.RFC_2822=function(){};function v_(e){if(e._f===G.ISO_8601){vE(e);return}if(e._f===G.RFC_2822){mE(e);return}e._a=[],Te(e).empty=!0;var t=""+e._i,r,n,i,s,a,o=t.length,l=0,u,c;for(i=eE(e._f,e._locale).match(s_)||[],c=i.length,r=0;r<c;r++)s=i[r],n=(t.match(DR(s,e))||[])[0],n&&(a=t.substr(0,t.indexOf(n)),a.length>0&&Te(e).unusedInput.push(a),t=t.slice(t.indexOf(n)+n.length),l+=n.length),xc[s]?(n?Te(e).empty=!1:Te(e).unusedTokens.push(s),kR(s,n,e)):e._strict&&!n&&Te(e).unusedTokens.push(s);Te(e).charsLeftOver=o-l,t.length>0&&Te(e).unusedInput.push(t),e._a[Yt]<=12&&Te(e).bigHour===!0&&e._a[Yt]>0&&(Te(e).bigHour=void 0),Te(e).parsedDateParts=e._a.slice(0),Te(e).meridiem=e._meridiem,e._a[Yt]=N8(e._locale,e._a[Yt],e._meridiem),u=Te(e).era,u!==null&&(e._a[mr]=e._locale.erasConvertYear(u,e._a[mr])),y_(e),g_(e)}function N8(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function L8(e){var t,r,n,i,s,a,o=!1,l=e._f.length;if(l===0){Te(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,a=!1,t=n_({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],v_(t),r_(t)&&(a=!0),s+=Te(t).charsLeftOver,s+=Te(t).unusedTokens.length*10,Te(t).score=s,o?s<n&&(n=s,r=t):(n==null||s<n||a)&&(n=s,r=t,a&&(o=!0));xa(e,r||t)}function q8(e){if(!e._d){var t=a_(e._i),r=t.day===void 0?t.date:t.day;e._a=Qk([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),y_(e)}}function W8(e){var t=new lf(g_(bE(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function bE(e){var t=e._i,r=e._f;return e._locale=e._locale||Us(e._l),t===null||r===void 0&&t===""?pg({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),wi(t)?new lf(g_(t)):(of(t)?e._d=t:xi(r)?L8(e):r?v_(e):j8(e),r_(e)||(e._d=null),e))}function j8(e){var t=e._i;qr(t)?e._d=new Date(G.now()):of(t)?e._d=new Date(t.valueOf()):typeof t=="string"?P8(e):xi(t)?(e._a=Qk(t.slice(0),function(r){return parseInt(r,10)}),y_(e)):Xo(t)?q8(e):Hs(t)?e._d=new Date(t):G.createFromInputFallback(e)}function _E(e,t,r,n,i){var s={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(Xo(e)&&t_(e)||xi(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=r,s._i=e,s._f=t,s._strict=n,W8(s)}function mt(e,t,r,n){return _E(e,t,r,n,!1)}var Y8=ni("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=mt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:pg()}),H8=ni("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=mt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:pg()});function xE(e,t){var r,n;if(t.length===1&&xi(t[0])&&(t=t[0]),!t.length)return mt();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function K8(){var e=[].slice.call(arguments,0);return xE("isBefore",e)}function V8(){var e=[].slice.call(arguments,0);return xE("isAfter",e)}var U8=function(){return Date.now?Date.now():+new Date},nu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function z8(e){var t,r=!1,n,i=nu.length;for(t in e)if(He(e,t)&&!(Ot.call(nu,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<i;++n)if(e[nu[n]]){if(r)return!1;parseFloat(e[nu[n]])!==$e(e[nu[n]])&&(r=!0)}return!0}function J8(){return this._isValid}function G8(){return Ai(NaN)}function wg(e){var t=a_(e),r=t.year||0,n=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=z8(t),this._milliseconds=+c+u*1e3+l*6e4+o*1e3*60*60,this._days=+a+s*7,this._months=+i+n*3+r*12,this._data={},this._locale=Us(),this._bubble()}function F0(e){return e instanceof wg}function Mm(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Q8(e,t,r){var n=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,a;for(a=0;a<n;a++)(r&&e[a]!==t[a]||!r&&$e(e[a])!==$e(t[a]))&&s++;return s+i}function wE(e,t){xe(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+Ki(~~(r/60),2)+t+Ki(~~r%60,2)})}wE("Z",":");wE("ZZ","");ye("Z",bg);ye("ZZ",bg);ot(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=m_(bg,e)});var X8=/([\+\-]|\d\d)/gi;function m_(e,t){var r=(t||"").match(e),n,i,s;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(X8)||["-",0,0],s=+(i[1]*60)+$e(i[2]),s===0?0:i[0]==="+"?s:-s)}function b_(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(wi(e)||of(e)?e.valueOf():mt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),G.updateOffset(r,!1),r):mt(e).local()}function Im(e){return-Math.round(e._d.getTimezoneOffset())}G.updateOffset=function(){};function Z8(e,t,r){var n=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=m_(bg,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(i=Im(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==e&&(!t||this._changeInProgress?AE(this,Ai(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,G.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:Im(this)}function e6(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function t6(e){return this.utcOffset(0,e)}function r6(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Im(this),"m")),this}function n6(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=m_(wR,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function i6(e){return this.isValid()?(e=e?mt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function s6(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function a6(){if(!qr(this._isDSTShifted))return this._isDSTShifted;var e={},t;return n_(e,this),e=bE(e),e._a?(t=e._isUTC?Ui(e._a):mt(e._a),this._isDSTShifted=this.isValid()&&Q8(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function o6(){return this.isValid()?!this._isUTC:!1}function l6(){return this.isValid()?this._isUTC:!1}function SE(){return this.isValid()?this._isUTC&&this._offset===0:!1}var c6=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,u6=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ai(e,t){var r=e,n=null,i,s,a;return F0(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:Hs(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=c6.exec(e))?(i=n[1]==="-"?-1:1,r={y:0,d:$e(n[Ri])*i,h:$e(n[Yt])*i,m:$e(n[vi])*i,s:$e(n[vs])*i,ms:$e(Mm(n[Po]*1e3))*i}):(n=u6.exec(e))?(i=n[1]==="-"?-1:1,r={y:vo(n[2],i),M:vo(n[3],i),w:vo(n[4],i),d:vo(n[5],i),h:vo(n[6],i),m:vo(n[7],i),s:vo(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(a=d6(mt(r.from),mt(r.to)),r={},r.ms=a.milliseconds,r.M=a.months),s=new wg(r),F0(e)&&He(e,"_locale")&&(s._locale=e._locale),F0(e)&&He(e,"_isValid")&&(s._isValid=e._isValid),s}Ai.fn=wg.prototype;Ai.invalid=G8;function vo(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function o1(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function d6(e,t){var r;return e.isValid()&&t.isValid()?(t=b_(t,e),e.isBefore(t)?r=o1(e,t):(r=o1(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function DE(e,t){return function(r,n){var i,s;return n!==null&&!isNaN(+n)&&(Zk(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=r,r=n,n=s),i=Ai(r,n),AE(this,i,e),this}}function AE(e,t,r,n){var i=t._milliseconds,s=Mm(t._days),a=Mm(t._months);!e.isValid()||(n=n==null?!0:n,a&&cE(e,Ld(e,"Month")+a*r),s&&aE(e,"Date",Ld(e,"Date")+s*r),i&&e._d.setTime(e._d.valueOf()+i*r),n&&G.updateOffset(e,s||a))}var f6=DE(1,"add"),h6=DE(-1,"subtract");function kE(e){return typeof e=="string"||e instanceof String}function p6(e){return wi(e)||of(e)||kE(e)||Hs(e)||y6(e)||g6(e)||e===null||e===void 0}function g6(e){var t=Xo(e)&&!t_(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,a=n.length;for(i=0;i<a;i+=1)s=n[i],r=r||He(e,s);return t&&r}function y6(e){var t=xi(e),r=!1;return t&&(r=e.filter(function(n){return!Hs(n)&&kE(e)}).length===0),t&&r}function v6(e){var t=Xo(e)&&!t_(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<n.length;i+=1)s=n[i],r=r||He(e,s);return t&&r}function m6(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function b6(e,t){arguments.length===1&&(arguments[0]?p6(arguments[0])?(e=arguments[0],t=void 0):v6(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||mt(),n=b_(r,this).startOf("day"),i=G.calendarFormat(this,n)||"sameElse",s=t&&(zi(t[i])?t[i].call(this,r):t[i]);return this.format(s||this.localeData().calendar(i,this,mt(r)))}function _6(){return new lf(this)}function x6(e,t){var r=wi(e)?e:mt(e);return this.isValid()&&r.isValid()?(t=ii(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function w6(e,t){var r=wi(e)?e:mt(e);return this.isValid()&&r.isValid()?(t=ii(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function S6(e,t,r,n){var i=wi(e)?e:mt(e),s=wi(t)?t:mt(t);return this.isValid()&&i.isValid()&&s.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(s,r):!this.isAfter(s,r))):!1}function D6(e,t){var r=wi(e)?e:mt(e),n;return this.isValid()&&r.isValid()?(t=ii(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function A6(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function k6(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function E6(e,t,r){var n,i,s;if(!this.isValid())return NaN;if(n=b_(e,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,t=ii(t),t){case"year":s=T0(this,n)/12;break;case"month":s=T0(this,n);break;case"quarter":s=T0(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-i)/864e5;break;case"week":s=(this-n-i)/6048e5;break;default:s=this-n}return r?s:Kn(s)}function T0(e,t){if(e.date()<t.date())return-T0(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),i,s;return t-n<0?(i=e.clone().add(r-1,"months"),s=(t-n)/(n-i)):(i=e.clone().add(r+1,"months"),s=(t-n)/(i-n)),-(r+s)||0}G.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";G.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function C6(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function O6(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?B0(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):zi(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",B0(r,"Z")):B0(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function M6(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,i,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(r+n+i+s)}function I6(e){e||(e=this.isUtc()?G.defaultFormatUtc:G.defaultFormat);var t=B0(this,e);return this.localeData().postformat(t)}function B6(e,t){return this.isValid()&&(wi(e)&&e.isValid()||mt(e).isValid())?Ai({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function F6(e){return this.from(mt(),e)}function T6(e,t){return this.isValid()&&(wi(e)&&e.isValid()||mt(e).isValid())?Ai({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function P6(e){return this.to(mt(),e)}function EE(e){var t;return e===void 0?this._locale._abbr:(t=Us(e),t!=null&&(this._locale=t),this)}var CE=ni("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function OE(){return this._locale}var yp=1e3,wc=60*yp,vp=60*wc,ME=(365*400+97)*24*vp;function Sc(e,t){return(e%t+t)%t}function IE(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-ME:new Date(e,t,r).valueOf()}function BE(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-ME:Date.UTC(e,t,r)}function R6(e){var t,r;if(e=ii(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?BE:IE,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Sc(t+(this._isUTC?0:this.utcOffset()*wc),vp);break;case"minute":t=this._d.valueOf(),t-=Sc(t,wc);break;case"second":t=this._d.valueOf(),t-=Sc(t,yp);break}return this._d.setTime(t),G.updateOffset(this,!0),this}function $6(e){var t,r;if(e=ii(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?BE:IE,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=vp-Sc(t+(this._isUTC?0:this.utcOffset()*wc),vp)-1;break;case"minute":t=this._d.valueOf(),t+=wc-Sc(t,wc)-1;break;case"second":t=this._d.valueOf(),t+=yp-Sc(t,yp)-1;break}return this._d.setTime(t),G.updateOffset(this,!0),this}function N6(){return this._d.valueOf()-(this._offset||0)*6e4}function L6(){return Math.floor(this.valueOf()/1e3)}function q6(){return new Date(this.valueOf())}function W6(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function j6(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Y6(){return this.isValid()?this.toISOString():null}function H6(){return r_(this)}function K6(){return xa({},Te(this))}function V6(){return Te(this).overflow}function U6(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}xe("N",0,0,"eraAbbr");xe("NN",0,0,"eraAbbr");xe("NNN",0,0,"eraAbbr");xe("NNNN",0,0,"eraName");xe("NNNNN",0,0,"eraNarrow");xe("y",["y",1],"yo","eraYear");xe("y",["yy",2],0,"eraYear");xe("y",["yyy",3],0,"eraYear");xe("y",["yyyy",4],0,"eraYear");ye("N",__);ye("NN",__);ye("NNN",__);ye("NNNN",i3);ye("NNNNN",s3);ot(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var i=r._locale.erasParse(e,n,r._strict);i?Te(r).era=i:Te(r).invalidEra=e});ye("y",Nc);ye("yy",Nc);ye("yyy",Nc);ye("yyyy",Nc);ye("yo",a3);ot(["y","yy","yyy","yyyy"],mr);ot(["yo"],function(e,t,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[mr]=r._locale.eraYearOrdinalParse(e,i):t[mr]=parseInt(e,10)});function z6(e,t){var r,n,i,s=this._eras||Us("en")._eras;for(r=0,n=s.length;r<n;++r){switch(typeof s[r].since){case"string":i=G(s[r].since).startOf("day"),s[r].since=i.valueOf();break}switch(typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":i=G(s[r].until).startOf("day").valueOf(),s[r].until=i.valueOf();break}}return s}function J6(e,t,r){var n,i,s=this.eras(),a,o,l;for(e=e.toUpperCase(),n=0,i=s.length;n<i;++n)if(a=s[n].name.toUpperCase(),o=s[n].abbr.toUpperCase(),l=s[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(o===e)return s[n];break;case"NNNN":if(a===e)return s[n];break;case"NNNNN":if(l===e)return s[n];break}else if([a,o,l].indexOf(e)>=0)return s[n]}function G6(e,t){var r=e.since<=e.until?1:-1;return t===void 0?G(e.since).year():G(e.since).year()+(t-e.offset)*r}function Q6(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function X6(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function Z6(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function e3(){var e,t,r,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return(this.year()-G(i[e].since).year())*r+i[e].offset;return this.year()}function t3(e){return He(this,"_erasNameRegex")||x_.call(this),e?this._erasNameRegex:this._erasRegex}function r3(e){return He(this,"_erasAbbrRegex")||x_.call(this),e?this._erasAbbrRegex:this._erasRegex}function n3(e){return He(this,"_erasNarrowRegex")||x_.call(this),e?this._erasNarrowRegex:this._erasRegex}function __(e,t){return t.erasAbbrRegex(e)}function i3(e,t){return t.erasNameRegex(e)}function s3(e,t){return t.erasNarrowRegex(e)}function a3(e,t){return t._eraYearOrdinalRegex||Nc}function x_(){var e=[],t=[],r=[],n=[],i,s,a,o,l,u=this.eras();for(i=0,s=u.length;i<s;++i)a=Fs(u[i].name),o=Fs(u[i].abbr),l=Fs(u[i].narrow),t.push(a),e.push(o),r.push(l),n.push(a),n.push(o),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}xe(0,["gg",2],0,function(){return this.weekYear()%100});xe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Sg(e,t){xe(0,[e,e.length],0,t)}Sg("gggg","weekYear");Sg("ggggg","weekYear");Sg("GGGG","isoWeekYear");Sg("GGGGG","isoWeekYear");ye("G",mg);ye("g",mg);ye("GG",bt,An);ye("gg",bt,An);ye("GGGG",l_,o_);ye("gggg",l_,o_);ye("GGGGG",vg,gg);ye("ggggg",vg,gg);uf(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=$e(e)});uf(["gg","GG"],function(e,t,r,n){t[n]=G.parseTwoDigitYear(e)});function o3(e){return FE.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function l3(e){return FE.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function c3(){return Ts(this.year(),1,4)}function u3(){return Ts(this.isoWeekYear(),1,4)}function d3(){var e=this.localeData()._week;return Ts(this.year(),e.dow,e.doy)}function f3(){var e=this.localeData()._week;return Ts(this.weekYear(),e.dow,e.doy)}function FE(e,t,r,n,i){var s;return e==null?Wd(this,n,i).year:(s=Ts(e,n,i),t>s&&(t=s),h3.call(this,e,t,r,n,i))}function h3(e,t,r,n,i){var s=fE(e,t,r,n,i),a=qd(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}xe("Q",0,"Qo","quarter");ye("Q",tE);ot("Q",function(e,t){t[ys]=($e(e)-1)*3});function p3(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}xe("D",["DD",2],"Do","date");ye("D",bt,Lc);ye("DD",bt,An);ye("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});ot(["D","DD"],Ri);ot("Do",function(e,t){t[Ri]=$e(e.match(bt)[0])});var TE=qc("Date",!0);xe("DDD",["DDDD",3],"DDDo","dayOfYear");ye("DDD",yg);ye("DDDD",rE);ot(["DDD","DDDD"],function(e,t,r){r._dayOfYear=$e(e)});function g3(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}xe("m",["mm",2],0,"minute");ye("m",bt,c_);ye("mm",bt,An);ot(["m","mm"],vi);var y3=qc("Minutes",!1);xe("s",["ss",2],0,"second");ye("s",bt,c_);ye("ss",bt,An);ot(["s","ss"],vs);var v3=qc("Seconds",!1);xe("S",0,0,function(){return~~(this.millisecond()/100)});xe(0,["SS",2],0,function(){return~~(this.millisecond()/10)});xe(0,["SSS",3],0,"millisecond");xe(0,["SSSS",4],0,function(){return this.millisecond()*10});xe(0,["SSSSS",5],0,function(){return this.millisecond()*100});xe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});xe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});xe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});xe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ye("S",yg,tE);ye("SS",yg,An);ye("SSS",yg,rE);var wa,PE;for(wa="SSSS";wa.length<=9;wa+="S")ye(wa,Nc);function m3(e,t){t[Po]=$e(("0."+e)*1e3)}for(wa="S";wa.length<=9;wa+="S")ot(wa,m3);PE=qc("Milliseconds",!1);xe("z",0,0,"zoneAbbr");xe("zz",0,0,"zoneName");function b3(){return this._isUTC?"UTC":""}function _3(){return this._isUTC?"Coordinated Universal Time":""}var ie=lf.prototype;ie.add=f6;ie.calendar=b6;ie.clone=_6;ie.diff=E6;ie.endOf=$6;ie.format=I6;ie.from=B6;ie.fromNow=F6;ie.to=T6;ie.toNow=P6;ie.get=MR;ie.invalidAt=V6;ie.isAfter=x6;ie.isBefore=w6;ie.isBetween=S6;ie.isSame=D6;ie.isSameOrAfter=A6;ie.isSameOrBefore=k6;ie.isValid=H6;ie.lang=CE;ie.locale=EE;ie.localeData=OE;ie.max=H8;ie.min=Y8;ie.parsingFlags=K6;ie.set=IR;ie.startOf=R6;ie.subtract=h6;ie.toArray=W6;ie.toObject=j6;ie.toDate=q6;ie.toISOString=O6;ie.inspect=M6;typeof Symbol!="undefined"&&Symbol.for!=null&&(ie[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ie.toJSON=Y6;ie.toString=C6;ie.unix=L6;ie.valueOf=N6;ie.creationData=U6;ie.eraName=Q6;ie.eraNarrow=X6;ie.eraAbbr=Z6;ie.eraYear=e3;ie.year=sE;ie.isLeapYear=OR;ie.weekYear=o3;ie.isoWeekYear=l3;ie.quarter=ie.quarters=p3;ie.month=uE;ie.daysInMonth=qR;ie.week=ie.weeks=zR;ie.isoWeek=ie.isoWeeks=JR;ie.weeksInYear=d3;ie.weeksInWeekYear=f3;ie.isoWeeksInYear=c3;ie.isoWeeksInISOWeekYear=u3;ie.date=TE;ie.day=ie.days=l8;ie.weekday=c8;ie.isoWeekday=u8;ie.dayOfYear=g3;ie.hour=ie.hours=v8;ie.minute=ie.minutes=y3;ie.second=ie.seconds=v3;ie.millisecond=ie.milliseconds=PE;ie.utcOffset=Z8;ie.utc=t6;ie.local=r6;ie.parseZone=n6;ie.hasAlignedHourOffset=i6;ie.isDST=s6;ie.isLocal=o6;ie.isUtcOffset=l6;ie.isUtc=SE;ie.isUTC=SE;ie.zoneAbbr=b3;ie.zoneName=_3;ie.dates=ni("dates accessor is deprecated. Use date instead.",TE);ie.months=ni("months accessor is deprecated. Use month instead",uE);ie.years=ni("years accessor is deprecated. Use year instead",sE);ie.zone=ni("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",e6);ie.isDSTShifted=ni("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",a6);function x3(e){return mt(e*1e3)}function w3(){return mt.apply(null,arguments).parseZone()}function RE(e){return e}var Ke=i_.prototype;Ke.calendar=oR;Ke.longDateFormat=dR;Ke.invalidDate=hR;Ke.ordinal=yR;Ke.preparse=RE;Ke.postformat=RE;Ke.relativeTime=mR;Ke.pastFuture=bR;Ke.set=sR;Ke.eras=z6;Ke.erasParse=J6;Ke.erasConvertYear=G6;Ke.erasAbbrRegex=r3;Ke.erasNameRegex=t3;Ke.erasNarrowRegex=n3;Ke.months=RR;Ke.monthsShort=$R;Ke.monthsParse=LR;Ke.monthsRegex=jR;Ke.monthsShortRegex=WR;Ke.week=HR;Ke.firstDayOfYear=UR;Ke.firstDayOfWeek=VR;Ke.weekdays=n8;Ke.weekdaysMin=s8;Ke.weekdaysShort=i8;Ke.weekdaysParse=o8;Ke.weekdaysRegex=d8;Ke.weekdaysShortRegex=f8;Ke.weekdaysMinRegex=h8;Ke.isPM=g8;Ke.meridiem=m8;function mp(e,t,r,n){var i=Us(),s=Ui().set(n,t);return i[r](s,e)}function $E(e,t,r){if(Hs(e)&&(t=e,e=void 0),e=e||"",t!=null)return mp(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=mp(e,n,r,"month");return i}function w_(e,t,r,n){typeof e=="boolean"?(Hs(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,Hs(t)&&(r=t,t=void 0),t=t||"");var i=Us(),s=e?i._week.dow:0,a,o=[];if(r!=null)return mp(t,(r+s)%7,n,"day");for(a=0;a<7;a++)o[a]=mp(t,(a+s)%7,n,"day");return o}function S3(e,t){return $E(e,t,"months")}function D3(e,t){return $E(e,t,"monthsShort")}function A3(e,t,r){return w_(e,t,r,"weekdays")}function k3(e,t,r){return w_(e,t,r,"weekdaysShort")}function E3(e,t,r){return w_(e,t,r,"weekdaysMin")}Ha("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=$e(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});G.lang=ni("moment.lang is deprecated. Use moment.locale instead.",Ha);G.langData=ni("moment.langData is deprecated. Use moment.localeData instead.",Us);var Gi=Math.abs;function C3(){var e=this._data;return this._milliseconds=Gi(this._milliseconds),this._days=Gi(this._days),this._months=Gi(this._months),e.milliseconds=Gi(e.milliseconds),e.seconds=Gi(e.seconds),e.minutes=Gi(e.minutes),e.hours=Gi(e.hours),e.months=Gi(e.months),e.years=Gi(e.years),this}function NE(e,t,r,n){var i=Ai(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function O3(e,t){return NE(this,e,t,1)}function M3(e,t){return NE(this,e,t,-1)}function l1(e){return e<0?Math.floor(e):Math.ceil(e)}function I3(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,i,s,a,o,l;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=l1(Bm(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,i=Kn(e/1e3),n.seconds=i%60,s=Kn(i/60),n.minutes=s%60,a=Kn(s/60),n.hours=a%24,t+=Kn(a/24),l=Kn(LE(t)),r+=l,t-=l1(Bm(l)),o=Kn(r/12),r%=12,n.days=t,n.months=r,n.years=o,this}function LE(e){return e*4800/146097}function Bm(e){return e*146097/4800}function B3(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=ii(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+LE(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Bm(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function zs(e){return function(){return this.as(e)}}var qE=zs("ms"),F3=zs("s"),T3=zs("m"),P3=zs("h"),R3=zs("d"),$3=zs("w"),N3=zs("M"),L3=zs("Q"),q3=zs("y"),W3=qE;function j3(){return Ai(this)}function Y3(e){return e=ii(e),this.isValid()?this[e+"s"]():NaN}function _l(e){return function(){return this.isValid()?this._data[e]:NaN}}var H3=_l("milliseconds"),K3=_l("seconds"),V3=_l("minutes"),U3=_l("hours"),z3=_l("days"),J3=_l("months"),G3=_l("years");function Q3(){return Kn(this.days()/7)}var ds=Math.round,ic={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function X3(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}function Z3(e,t,r,n){var i=Ai(e).abs(),s=ds(i.as("s")),a=ds(i.as("m")),o=ds(i.as("h")),l=ds(i.as("d")),u=ds(i.as("M")),c=ds(i.as("w")),d=ds(i.as("y")),f=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||a<=1&&["m"]||a<r.m&&["mm",a]||o<=1&&["h"]||o<r.h&&["hh",o]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(f=f||c<=1&&["w"]||c<r.w&&["ww",c]),f=f||u<=1&&["M"]||u<r.M&&["MM",u]||d<=1&&["y"]||["yy",d],f[2]=t,f[3]=+e>0,f[4]=n,X3.apply(null,f)}function e$(e){return e===void 0?ds:typeof e=="function"?(ds=e,!0):!1}function t$(e,t){return ic[e]===void 0?!1:t===void 0?ic[e]:(ic[e]=t,e==="s"&&(ic.ss=t-1),!0)}function r$(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=ic,i,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},ic,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),i=this.localeData(),s=Z3(this,!r,n,i),r&&(s=i.pastFuture(+this,s)),i.postformat(s)}var my=Math.abs;function Cl(e){return(e>0)-(e<0)||+e}function Dg(){if(!this.isValid())return this.localeData().invalidDate();var e=my(this._milliseconds)/1e3,t=my(this._days),r=my(this._months),n,i,s,a,o=this.asSeconds(),l,u,c,d;return o?(n=Kn(e/60),i=Kn(n/60),e%=60,n%=60,s=Kn(r/12),r%=12,a=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=o<0?"-":"",u=Cl(this._months)!==Cl(o)?"-":"",c=Cl(this._days)!==Cl(o)?"-":"",d=Cl(this._milliseconds)!==Cl(o)?"-":"",l+"P"+(s?u+s+"Y":"")+(r?u+r+"M":"")+(t?c+t+"D":"")+(i||n||e?"T":"")+(i?d+i+"H":"")+(n?d+n+"M":"")+(e?d+a+"S":"")):"P0D"}var je=wg.prototype;je.isValid=J8;je.abs=C3;je.add=O3;je.subtract=M3;je.as=B3;je.asMilliseconds=qE;je.asSeconds=F3;je.asMinutes=T3;je.asHours=P3;je.asDays=R3;je.asWeeks=$3;je.asMonths=N3;je.asQuarters=L3;je.asYears=q3;je.valueOf=W3;je._bubble=I3;je.clone=j3;je.get=Y3;je.milliseconds=H3;je.seconds=K3;je.minutes=V3;je.hours=U3;je.days=z3;je.weeks=Q3;je.months=J3;je.years=G3;je.humanize=r$;je.toISOString=Dg;je.toString=Dg;je.toJSON=Dg;je.locale=EE;je.localeData=OE;je.toIsoString=ni("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Dg);je.lang=CE;xe("X",0,0,"unix");xe("x",0,0,"valueOf");ye("x",mg);ye("X",SR);ot("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});ot("x",function(e,t,r){r._d=new Date($e(e))});//! moment.js
G.version="2.30.1";nR(mt);G.fn=ie;G.min=K8;G.max=V8;G.now=U8;G.utc=Ui;G.unix=x3;G.months=S3;G.isDate=of;G.locale=Ha;G.invalid=pg;G.duration=Ai;G.isMoment=wi;G.weekdays=A3;G.parseZone=w3;G.localeData=Us;G.isDuration=F0;G.monthsShort=D3;G.weekdaysMin=E3;G.defineLocale=p_;G.updateLocale=w8;G.locales=S8;G.weekdaysShort=k3;G.normalizeUnits=ii;G.relativeTimeRounding=e$;G.relativeTimeThreshold=t$;G.calendarFormat=m6;G.prototype=ie;G.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};class br extends J{static fields(){return{id:this.string(()=>fe()),name:this.attr(""),fnmCode:this.attr(""),packSize:this.attr(""),defaultTimes:this.attr(""),defaultTreatment:this.attr(""),defaultPeriodTreatment:this.attr(""),active:this.boolean(!0),form_id:this.attr(""),clinical_service_id:this.attr(""),syncStatus:this.attr(""),form:this.belongsTo(Fa,"form_id"),clinicalService:this.belongsTo(ti,"clinical_service_id"),packaged_drugs:this.hasMany(Bs,"drug_id"),packagedDrugStocks:this.hasMany(Is,"drug_id"),stocks:this.hasMany(mn,"drug_id"),therapeuticRegimenList:this.belongsToMany(ji,yc,"drug_id","therapeutic_regimen_id")}}getCurStockAmount(){if(this.stocks.length<=0)return 0;let t=0;return Object.keys(this.stocks).forEach(function(r){t=t+this.stocks[r].stockMoviment}.bind(this)),t}hasStock(){return this.stocks===null||this.stocks===void 0?!1:this.stocks.some(r=>{const n=G().diff(G(r.expireDate,"YYYY-MM-DD"),"months");return n==null&&(this.meses=0),r.stockMoviment>0&&n<0})}getMonthAVGConsuption(){if(this.packaged_drugs.length<=0)return 0;let t=0;return Object.keys(this.packaged_drugs).forEach(function(r){t=t+this.packaged_drugs[r].quantitySupplied}.bind(this)),Math.round(Number(t/3))}getConsuptionState(){const t=this.getCurStockAmount(),r=this.getQuantityDispensed();return r>t?"Ruptura de Stock":r<t?"Acima do Consumo M\xE1ximo":"Stock Normal"}getConsuptionRelatedColor(){const t=this.getCurStockAmount(),r=this.getQuantityDispensed();return r>t?"red":r<t?"info":"primary"}getQuantityDispensed(){let t=0;return this.packaged_drugs.forEach(r=>{t=t+r.quantitySupplied}),t}}B(br,"entity","drugs"),B(br,"primaryKey","id"),B(br,"piniaOptions",{persist:!0});class id extends J{static fields(){return{therapeutic_regimen_id:this.attr(null),clinical_service_id:this.attr(null)}}}B(id,"entity","clinicalServiceTherapeuticRegimens"),B(id,"primaryKey",["therapeutic_regimen_id","clinical_service_id"]),B(id,"piniaOptions",{persist:!0});class ti extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),description:this.attr(""),identifier_type_id:this.attr(""),active:this.attr(""),syncStatus:this.attr(""),identifierType:this.belongsTo(ws,"identifier_type_id"),clinicalServiceAttributes:this.belongsToMany(Ba,qi,"clinical_service_id","service_attr_type_id"),therapeuticRegimens:this.belongsToMany(ji,id,"clinical_service_id","therapeutic_regimen_id"),clinicSectors:this.belongsToMany(_n,gc,"clinical_service_id","clinic_sector_id"),drugs:this.hasMany(br,"clinical_service_id")}}}B(ti,"entity","clinicalServices"),B(ti,"primaryKey","id"),B(ti,"piniaOptions",{persist:!0});class _i extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),name:this.attr(""),startDate:this.attr(""),endDate:this.attr(null),groupType_id:this.attr(""),clinical_service_id:this.attr(""),clinic_id:this.attr(""),syncStatus:this.attr(""),dispense_type_id:this.attr(""),groupType:this.belongsTo(xs,"groupType_id"),members:this.hasMany(Ps,"group_id"),service:this.belongsTo(ti,"clinical_service_id"),clinic:this.belongsTo(Ne,"clinic_id"),packHeaders:this.hasMany(vc,"group_id"),dispenseType:this.belongsTo(ks,"dispense_type_id")}}}B(_i,"entity","groups"),B(_i,"primaryKey","id"),B(_i,"piniaOptions",{persist:!0});class Ps extends J{static fields(){return{id:this.string(()=>fe()),startDate:this.attr(""),endDate:this.attr(""),group_id:this.attr(""),patient_id:this.attr(""),clinic_id:this.attr(""),syncStatus:this.attr(""),group:this.belongsTo(_i,"group_id"),patient:this.belongsTo(bn,"patient_id"),clinic:this.belongsTo(Ne,"clinic_id"),groupMemberPrescriptions:this.hasMany(Ss,"member_id")}}}B(Ps,"entity","members"),B(Ps,"primaryKey","id"),B(Ps,"piniaOptions",{persist:!0});class sd extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),name:this.attr(""),description:this.attr(""),datatype:this.attr("")}}}B(sd,"entity","attributeTypes"),B(sd,"primaryKey","id"),B(sd,"piniaOptions",{persist:!0});class ad extends J{static fields(){return{id:this.string(()=>fe()),attributeType_id:this.attr(""),value:this.attr(""),patient_id:this.attr(""),syncStatus:this.attr(""),patient:this.belongsTo(bn,"patient_id"),attributeType:this.belongsTo(sd,"attributeType_id")}}}B(ad,"entity","attributes"),B(ad,"primaryKey","id"),B(ad,"piniaOptions",{persist:!0});class Ka extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),description:this.attr("")}}}B(Ka,"entity","interoperabilityTypes"),B(Ka,"primaryKey","id"),B(Ka,"piniaOptions",{persist:!0});class Va extends J{static fields(){return{id:this.string(()=>fe()),value:this.attr(""),interoperabilityType_id:this.attr(""),healthInformationSystem_id:this.attr(""),healthInformationSystem:this.belongsTo(Rs,"healthInformationSystem_id"),interoperabilityType:this.belongsTo(Ka,"interoperabilityType_id")}}}B(Va,"entity","interoperabilityAttributes"),B(Va,"primaryKey","id"),B(Va,"piniaOptions",{persist:!0});class Rs extends J{static fields(){return{id:this.string(()=>fe()),abbreviation:this.attr(""),syncStatus:this.attr(""),description:this.attr(""),active:this.attr(""),interoperabilityAttributes:this.hasMany(Va,"healthInformationSystem_id")}}}B(Rs,"entity","healthInformationSystems"),B(Rs,"primaryKey","id"),B(Rs,"piniaOptions",{persist:!0});class bn extends J{static fields(){return{id:this.string(()=>fe()),firstNames:this.string(""),middleNames:this.string(""),lastNames:this.string(""),gender:this.string(""),dateOfBirth:this.attr(""),cellphone:this.string(""),alternativeCellphone:this.string(""),address:this.attr(""),addressReference:this.string(""),accountstatus:this.boolean(!0),hisLocation:this.string(""),hisLocationName:this.string(""),hisUuid:this.string(""),his_id:this.string(""),province_id:this.string(""),district_id:this.string(""),postoAdministrativo_id:this.string(""),bairro_id:this.string(""),clinic_id:this.string(""),syncStatus:this.string(""),hisSyncStatus:this.attr(""),hisProvider:this.string(""),origin:this.attr(""),province:this.belongsTo(yn,"province_id"),attributes:this.hasMany(ad,"patient_id"),identifiers:this.hasMany(Ds,"patient_id"),appointments:this.hasMany(Ko,"patient_id"),members:this.hasMany(Ps,"patient_id"),patientVisits:this.hasMany(vn,"patient_id"),district:this.belongsTo(Zn,"district_id"),postoAdministrativo:this.belongsTo(Yo,"postoAdministrativo_id"),bairro:this.belongsTo(Ho,"bairro_id"),clinic:this.belongsTo(Ne,"clinic_id"),his:this.belongsTo(Rs,"his_id")}}}B(bn,"entity","patients"),B(bn,"primaryKey","id"),B(bn,"piniaOptions",{persist:!0});const dx=class extends J{static types(){return{CLINIC:dx,CLINIC_SECTOR:_n}}static fields(){return{id:this.string(()=>fe()),code:this.attr(""),notes:this.attr(""),telephone:this.attr(""),clinicName:this.attr(""),mainClinic:this.boolean(!1),uuid:this.attr(null),province_id:this.attr(""),district_id:this.attr(""),nationalClinic_id:this.attr(""),active:this.attr(""),facilityTypeId:this.attr(""),syncStatus:this.attr(""),type:this.attr("CLINIC"),facilityType:this.belongsTo(_s,"facilityTypeId"),province:this.belongsTo(yn,"province_id"),district:this.belongsTo(Zn,"district_id"),nationalClinic:this.belongsTo(td,"nationalClinic_id"),sectors:this.hasMany(_n,"clinic_id"),patients:this.hasMany(bn,"patients")}}};let Ne=dx;B(Ne,"entity","clinics"),B(Ne,"primaryKey","id"),B(Ne,"piniaOptions",{persist:!0});class _n extends Ne{static fields(){return{...super.fields(),parentClinic_id:this.attr(""),type:this.attr("CLINIC_SECTOR"),parentClinic:this.belongsTo(Ne,"parentClinic_id")}}}B(_n,"entity","clinicSectors"),B(_n,"baseEntity","clinics"),B(_n,"piniaOptions",{persist:!0});class od extends J{static fields(){return{user_id:this.attr(null),clinic_id:this.attr(null)}}}B(od,"entity","userClinics"),B(od,"primaryKey",["user_id","clinic_id"]),B(od,"piniaOptions",{persist:!0});class ld extends J{static fields(){return{user_id:this.attr(null),clinic_sector_id:this.attr(null)}}}B(ld,"entity","clinicSectorUsers"),B(ld,"primaryKey",["user_id","clinic_sector_id"]),B(ld,"piniaOptions",{persist:!0});class $s extends J{static fields(){return{id:this.attr(null),username:this.attr(""),password:this.attr(""),role:this.attr(null),fullName:this.attr(""),access_token:this.attr(""),refresh_token:this.attr(""),firstNames:this.attr(""),lastNames:this.attr(""),accountLocked:this.attr(""),contact:this.attr(""),email:this.attr(""),roles:this.attr(null),syncStatus:this.attr(""),authorities:this.attr(null),menus:this.attr(null),clinics:this.belongsToMany(Ne,od,"user_id","clinic_id"),clinicSectorUsers:this.attr(""),clinicSectors:this.belongsToMany(_n,ld,"user_id","clinic_sector_id")}}}B($s,"entity","users"),B($s,"primaryKey","id"),B($s,"piniaOptions",{persist:!0});var le=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function n$(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i$(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),t}function s$(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var WE={exports:{}},Le={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(le,function(){var r=r||function(n,i){var s;if(typeof window!="undefined"&&window.crypto&&(s=window.crypto),typeof self!="undefined"&&self.crypto&&(s=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window!="undefined"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof le!="undefined"&&le.crypto&&(s=le.crypto),!s&&typeof s$=="function")try{s=require("crypto")}catch{}var a=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function h(){}return function(y){var b;return h.prototype=y,b=new h,h.prototype=null,b}}(),l={},u=l.lib={},c=u.Base=function(){return{extend:function(h){var y=o(this);return h&&y.mixIn(h),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var h=this.extend();return h.init.apply(h,arguments),h},init:function(){},mixIn:function(h){for(var y in h)h.hasOwnProperty(y)&&(this[y]=h[y]);h.hasOwnProperty("toString")&&(this.toString=h.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=c.extend({init:function(h,y){h=this.words=h||[],y!=i?this.sigBytes=y:this.sigBytes=h.length*4},toString:function(h){return(h||g).stringify(this)},concat:function(h){var y=this.words,b=h.words,_=this.sigBytes,w=h.sigBytes;if(this.clamp(),_%4)for(var D=0;D<w;D++){var S=b[D>>>2]>>>24-D%4*8&255;y[_+D>>>2]|=S<<24-(_+D)%4*8}else for(var A=0;A<w;A+=4)y[_+A>>>2]=b[A>>>2];return this.sigBytes+=w,this},clamp:function(){var h=this.words,y=this.sigBytes;h[y>>>2]&=4294967295<<32-y%4*8,h.length=n.ceil(y/4)},clone:function(){var h=c.clone.call(this);return h.words=this.words.slice(0),h},random:function(h){for(var y=[],b=0;b<h;b+=4)y.push(a());return new d.init(y,h)}}),f=l.enc={},g=f.Hex={stringify:function(h){for(var y=h.words,b=h.sigBytes,_=[],w=0;w<b;w++){var D=y[w>>>2]>>>24-w%4*8&255;_.push((D>>>4).toString(16)),_.push((D&15).toString(16))}return _.join("")},parse:function(h){for(var y=h.length,b=[],_=0;_<y;_+=2)b[_>>>3]|=parseInt(h.substr(_,2),16)<<24-_%8*4;return new d.init(b,y/2)}},m=f.Latin1={stringify:function(h){for(var y=h.words,b=h.sigBytes,_=[],w=0;w<b;w++){var D=y[w>>>2]>>>24-w%4*8&255;_.push(String.fromCharCode(D))}return _.join("")},parse:function(h){for(var y=h.length,b=[],_=0;_<y;_++)b[_>>>2]|=(h.charCodeAt(_)&255)<<24-_%4*8;return new d.init(b,y)}},x=f.Utf8={stringify:function(h){try{return decodeURIComponent(escape(m.stringify(h)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(h){return m.parse(unescape(encodeURIComponent(h)))}},v=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(h){typeof h=="string"&&(h=x.parse(h)),this._data.concat(h),this._nDataBytes+=h.sigBytes},_process:function(h){var y,b=this._data,_=b.words,w=b.sigBytes,D=this.blockSize,S=D*4,A=w/S;h?A=n.ceil(A):A=n.max((A|0)-this._minBufferSize,0);var k=A*D,C=n.min(k*4,w);if(k){for(var E=0;E<k;E+=D)this._doProcessBlock(_,E);y=_.splice(0,k),b.sigBytes-=C}return new d.init(y,C)},clone:function(){var h=c.clone.call(this);return h._data=this._data.clone(),h},_minBufferSize:0});u.Hasher=v.extend({cfg:c.extend(),init:function(h){this.cfg=this.cfg.extend(h),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(h){return this._append(h),this._process(),this},finalize:function(h){h&&this._append(h);var y=this._doFinalize();return y},blockSize:16,_createHelper:function(h){return function(y,b){return new h.init(b).finalize(y)}},_createHmacHelper:function(h){return function(y,b){return new p.HMAC.init(h,b).finalize(y)}}});var p=l.algo={};return l}(Math);return r})})(Le);var df={exports:{}};(function(e,t){(function(r,n){e.exports=n(Le.exports)})(le,function(r){return function(n){var i=r,s=i.lib,a=s.Base,o=s.WordArray,l=i.x64={};l.Word=a.extend({init:function(u,c){this.high=u,this.low=c}}),l.WordArray=a.extend({init:function(u,c){u=this.words=u||[],c!=n?this.sigBytes=c:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,c=u.length,d=[],f=0;f<c;f++){var g=u[f];d.push(g.high),d.push(g.low)}return o.create(d,this.sigBytes)},clone:function(){for(var u=a.clone.call(this),c=u.words=this.words.slice(0),d=c.length,f=0;f<d;f++)c[f]=c[f].clone();return u}})}(),r})})(df);var jE={exports:{}};(function(e,t){(function(r,n){e.exports=n(Le.exports)})(le,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,s=i.WordArray,a=s.init,o=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var u=l.byteLength,c=[],d=0;d<u;d++)c[d>>>2]|=l[d]<<24-d%4*8;a.call(this,c,u)}else a.apply(this,arguments)};o.prototype=s}}(),r.lib.WordArray})})(jE);var YE={exports:{}};(function(e,t){(function(r,n){e.exports=n(Le.exports)})(le,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,a=n.enc;a.Utf16=a.Utf16BE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var g=u[f>>>2]>>>16-f%4*8&65535;d.push(String.fromCharCode(g))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=l.charCodeAt(d)<<16-d%2*16;return s.create(c,u*2)}},a.Utf16LE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var g=o(u[f>>>2]>>>16-f%4*8&65535);d.push(String.fromCharCode(g))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=o(l.charCodeAt(d)<<16-d%2*16);return s.create(c,u*2)}};function o(l){return l<<8&4278255360|l>>>8&16711935}}(),r.enc.Utf16})})(YE);var co={exports:{}};(function(e,t){(function(r,n){e.exports=n(Le.exports)})(le,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,a=n.enc;a.Base64={stringify:function(l){var u=l.words,c=l.sigBytes,d=this._map;l.clamp();for(var f=[],g=0;g<c;g+=3)for(var m=u[g>>>2]>>>24-g%4*8&255,x=u[g+1>>>2]>>>24-(g+1)%4*8&255,v=u[g+2>>>2]>>>24-(g+2)%4*8&255,p=m<<16|x<<8|v,h=0;h<4&&g+h*.75<c;h++)f.push(d.charAt(p>>>6*(3-h)&63));var y=d.charAt(64);if(y)for(;f.length%4;)f.push(y);return f.join("")},parse:function(l){var u=l.length,c=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<c.length;f++)d[c.charCodeAt(f)]=f}var g=c.charAt(64);if(g){var m=l.indexOf(g);m!==-1&&(u=m)}return o(l,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(l,u,c){for(var d=[],f=0,g=0;g<u;g++)if(g%4){var m=c[l.charCodeAt(g-1)]<<g%4*2,x=c[l.charCodeAt(g)]>>>6-g%4*2,v=m|x;d[f>>>2]|=v<<24-f%4*8,f++}return s.create(d,f)}}(),r.enc.Base64})})(co);var HE={exports:{}};(function(e,t){(function(r,n){e.exports=n(Le.exports)})(le,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,a=n.enc;a.Base64url={stringify:function(l,u){u===void 0&&(u=!0);var c=l.words,d=l.sigBytes,f=u?this._safe_map:this._map;l.clamp();for(var g=[],m=0;m<d;m+=3)for(var x=c[m>>>2]>>>24-m%4*8&255,v=c[m+1>>>2]>>>24-(m+1)%4*8&255,p=c[m+2>>>2]>>>24-(m+2)%4*8&255,h=x<<16|v<<8|p,y=0;y<4&&m+y*.75<d;y++)g.push(f.charAt(h>>>6*(3-y)&63));var b=f.charAt(64);if(b)for(;g.length%4;)g.push(b);return g.join("")},parse:function(l,u){u===void 0&&(u=!0);var c=l.length,d=u?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var g=0;g<d.length;g++)f[d.charCodeAt(g)]=g}var m=d.charAt(64);if(m){var x=l.indexOf(m);x!==-1&&(c=x)}return o(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(l,u,c){for(var d=[],f=0,g=0;g<u;g++)if(g%4){var m=c[l.charCodeAt(g-1)]<<g%4*2,x=c[l.charCodeAt(g)]>>>6-g%4*2,v=m|x;d[f>>>2]|=v<<24-f%4*8,f++}return s.create(d,f)}}(),r.enc.Base64url})})(HE);var uo={exports:{}};(function(e,t){(function(r,n){e.exports=n(Le.exports)})(le,function(r){return function(n){var i=r,s=i.lib,a=s.WordArray,o=s.Hasher,l=i.algo,u=[];(function(){for(var x=0;x<64;x++)u[x]=n.abs(n.sin(x+1))*4294967296|0})();var c=l.MD5=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(x,v){for(var p=0;p<16;p++){var h=v+p,y=x[h];x[h]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var b=this._hash.words,_=x[v+0],w=x[v+1],D=x[v+2],S=x[v+3],A=x[v+4],k=x[v+5],C=x[v+6],E=x[v+7],M=x[v+8],I=x[v+9],P=x[v+10],L=x[v+11],V=x[v+12],W=x[v+13],U=x[v+14],te=x[v+15],N=b[0],R=b[1],H=b[2],K=b[3];N=d(N,R,H,K,_,7,u[0]),K=d(K,N,R,H,w,12,u[1]),H=d(H,K,N,R,D,17,u[2]),R=d(R,H,K,N,S,22,u[3]),N=d(N,R,H,K,A,7,u[4]),K=d(K,N,R,H,k,12,u[5]),H=d(H,K,N,R,C,17,u[6]),R=d(R,H,K,N,E,22,u[7]),N=d(N,R,H,K,M,7,u[8]),K=d(K,N,R,H,I,12,u[9]),H=d(H,K,N,R,P,17,u[10]),R=d(R,H,K,N,L,22,u[11]),N=d(N,R,H,K,V,7,u[12]),K=d(K,N,R,H,W,12,u[13]),H=d(H,K,N,R,U,17,u[14]),R=d(R,H,K,N,te,22,u[15]),N=f(N,R,H,K,w,5,u[16]),K=f(K,N,R,H,C,9,u[17]),H=f(H,K,N,R,L,14,u[18]),R=f(R,H,K,N,_,20,u[19]),N=f(N,R,H,K,k,5,u[20]),K=f(K,N,R,H,P,9,u[21]),H=f(H,K,N,R,te,14,u[22]),R=f(R,H,K,N,A,20,u[23]),N=f(N,R,H,K,I,5,u[24]),K=f(K,N,R,H,U,9,u[25]),H=f(H,K,N,R,S,14,u[26]),R=f(R,H,K,N,M,20,u[27]),N=f(N,R,H,K,W,5,u[28]),K=f(K,N,R,H,D,9,u[29]),H=f(H,K,N,R,E,14,u[30]),R=f(R,H,K,N,V,20,u[31]),N=g(N,R,H,K,k,4,u[32]),K=g(K,N,R,H,M,11,u[33]),H=g(H,K,N,R,L,16,u[34]),R=g(R,H,K,N,U,23,u[35]),N=g(N,R,H,K,w,4,u[36]),K=g(K,N,R,H,A,11,u[37]),H=g(H,K,N,R,E,16,u[38]),R=g(R,H,K,N,P,23,u[39]),N=g(N,R,H,K,W,4,u[40]),K=g(K,N,R,H,_,11,u[41]),H=g(H,K,N,R,S,16,u[42]),R=g(R,H,K,N,C,23,u[43]),N=g(N,R,H,K,I,4,u[44]),K=g(K,N,R,H,V,11,u[45]),H=g(H,K,N,R,te,16,u[46]),R=g(R,H,K,N,D,23,u[47]),N=m(N,R,H,K,_,6,u[48]),K=m(K,N,R,H,E,10,u[49]),H=m(H,K,N,R,U,15,u[50]),R=m(R,H,K,N,k,21,u[51]),N=m(N,R,H,K,V,6,u[52]),K=m(K,N,R,H,S,10,u[53]),H=m(H,K,N,R,P,15,u[54]),R=m(R,H,K,N,w,21,u[55]),N=m(N,R,H,K,M,6,u[56]),K=m(K,N,R,H,te,10,u[57]),H=m(H,K,N,R,C,15,u[58]),R=m(R,H,K,N,W,21,u[59]),N=m(N,R,H,K,A,6,u[60]),K=m(K,N,R,H,L,10,u[61]),H=m(H,K,N,R,D,15,u[62]),R=m(R,H,K,N,I,21,u[63]),b[0]=b[0]+N|0,b[1]=b[1]+R|0,b[2]=b[2]+H|0,b[3]=b[3]+K|0},_doFinalize:function(){var x=this._data,v=x.words,p=this._nDataBytes*8,h=x.sigBytes*8;v[h>>>5]|=128<<24-h%32;var y=n.floor(p/4294967296),b=p;v[(h+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,v[(h+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,x.sigBytes=(v.length+1)*4,this._process();for(var _=this._hash,w=_.words,D=0;D<4;D++){var S=w[D];w[D]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return _},clone:function(){var x=o.clone.call(this);return x._hash=this._hash.clone(),x}});function d(x,v,p,h,y,b,_){var w=x+(v&p|~v&h)+y+_;return(w<<b|w>>>32-b)+v}function f(x,v,p,h,y,b,_){var w=x+(v&h|p&~h)+y+_;return(w<<b|w>>>32-b)+v}function g(x,v,p,h,y,b,_){var w=x+(v^p^h)+y+_;return(w<<b|w>>>32-b)+v}function m(x,v,p,h,y,b,_){var w=x+(p^(v|~h))+y+_;return(w<<b|w>>>32-b)+v}i.MD5=o._createHelper(c),i.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5})})(uo);var S_={exports:{}};(function(e,t){(function(r,n){e.exports=n(Le.exports)})(le,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,a=i.Hasher,o=n.algo,l=[],u=o.SHA1=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,d){for(var f=this._hash.words,g=f[0],m=f[1],x=f[2],v=f[3],p=f[4],h=0;h<80;h++){if(h<16)l[h]=c[d+h]|0;else{var y=l[h-3]^l[h-8]^l[h-14]^l[h-16];l[h]=y<<1|y>>>31}var b=(g<<5|g>>>27)+p+l[h];h<20?b+=(m&x|~m&v)+1518500249:h<40?b+=(m^x^v)+1859775393:h<60?b+=(m&x|m&v|x&v)-1894007588:b+=(m^x^v)-899497514,p=v,v=x,x=m<<30|m>>>2,m=g,g=b}f[0]=f[0]+g|0,f[1]=f[1]+m|0,f[2]=f[2]+x|0,f[3]=f[3]+v|0,f[4]=f[4]+p|0},_doFinalize:function(){var c=this._data,d=c.words,f=this._nDataBytes*8,g=c.sigBytes*8;return d[g>>>5]|=128<<24-g%32,d[(g+64>>>9<<4)+14]=Math.floor(f/4294967296),d[(g+64>>>9<<4)+15]=f,c.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var c=a.clone.call(this);return c._hash=this._hash.clone(),c}});n.SHA1=a._createHelper(u),n.HmacSHA1=a._createHmacHelper(u)}(),r.SHA1})})(S_);var Ag={exports:{}};(function(e,t){(function(r,n){e.exports=n(Le.exports)})(le,function(r){return function(n){var i=r,s=i.lib,a=s.WordArray,o=s.Hasher,l=i.algo,u=[],c=[];(function(){function g(p){for(var h=n.sqrt(p),y=2;y<=h;y++)if(!(p%y))return!1;return!0}function m(p){return(p-(p|0))*4294967296|0}for(var x=2,v=0;v<64;)g(x)&&(v<8&&(u[v]=m(n.pow(x,1/2))),c[v]=m(n.pow(x,1/3)),v++),x++})();var d=[],f=l.SHA256=o.extend({_doReset:function(){this._hash=new a.init(u.slice(0))},_doProcessBlock:function(g,m){for(var x=this._hash.words,v=x[0],p=x[1],h=x[2],y=x[3],b=x[4],_=x[5],w=x[6],D=x[7],S=0;S<64;S++){if(S<16)d[S]=g[m+S]|0;else{var A=d[S-15],k=(A<<25|A>>>7)^(A<<14|A>>>18)^A>>>3,C=d[S-2],E=(C<<15|C>>>17)^(C<<13|C>>>19)^C>>>10;d[S]=k+d[S-7]+E+d[S-16]}var M=b&_^~b&w,I=v&p^v&h^p&h,P=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),L=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),V=D+L+M+c[S]+d[S],W=P+I;D=w,w=_,_=b,b=y+V|0,y=h,h=p,p=v,v=V+W|0}x[0]=x[0]+v|0,x[1]=x[1]+p|0,x[2]=x[2]+h|0,x[3]=x[3]+y|0,x[4]=x[4]+b|0,x[5]=x[5]+_|0,x[6]=x[6]+w|0,x[7]=x[7]+D|0},_doFinalize:function(){var g=this._data,m=g.words,x=this._nDataBytes*8,v=g.sigBytes*8;return m[v>>>5]|=128<<24-v%32,m[(v+64>>>9<<4)+14]=n.floor(x/4294967296),m[(v+64>>>9<<4)+15]=x,g.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var g=o.clone.call(this);return g._hash=this._hash.clone(),g}});i.SHA256=o._createHelper(f),i.HmacSHA256=o._createHmacHelper(f)}(Math),r.SHA256})})(Ag);var KE={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,Ag.exports)})(le,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,a=n.algo,o=a.SHA256,l=a.SHA224=o.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=o._doFinalize.call(this);return u.sigBytes-=4,u}});n.SHA224=o._createHelper(l),n.HmacSHA224=o._createHmacHelper(l)}(),r.SHA224})})(KE);var D_={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,df.exports)})(le,function(r){return function(){var n=r,i=n.lib,s=i.Hasher,a=n.x64,o=a.Word,l=a.WordArray,u=n.algo;function c(){return o.create.apply(o,arguments)}var d=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var m=0;m<80;m++)f[m]=c()})();var g=u.SHA512=s.extend({_doReset:function(){this._hash=new l.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(m,x){for(var v=this._hash.words,p=v[0],h=v[1],y=v[2],b=v[3],_=v[4],w=v[5],D=v[6],S=v[7],A=p.high,k=p.low,C=h.high,E=h.low,M=y.high,I=y.low,P=b.high,L=b.low,V=_.high,W=_.low,U=w.high,te=w.low,N=D.high,R=D.low,H=S.high,K=S.low,Ee=A,ne=k,j=C,Z=E,ce=M,ge=I,We=P,Ue=L,F=V,T=W,Y=U,X=te,Q=N,oe=R,ue=H,se=K,ae=0;ae<80;ae++){var ee,de,_e=f[ae];if(ae<16)de=_e.high=m[x+ae*2]|0,ee=_e.low=m[x+ae*2+1]|0;else{var be=f[ae-15],Ae=be.high,Be=be.low,ze=(Ae>>>1|Be<<31)^(Ae>>>8|Be<<24)^Ae>>>7,lt=(Be>>>1|Ae<<31)^(Be>>>8|Ae<<24)^(Be>>>7|Ae<<25),Et=f[ae-2],Vt=Et.high,kn=Et.low,vf=(Vt>>>19|kn<<13)^(Vt<<3|kn>>>29)^Vt>>>6,Gs=(kn>>>19|Vt<<13)^(kn<<3|Vt>>>29)^(kn>>>6|Vt<<26),Uc=f[ae-7],_r=Uc.high,En=Uc.low,zc=f[ae-16],GO=zc.high,hx=zc.low;ee=lt+En,de=ze+_r+(ee>>>0<lt>>>0?1:0),ee=ee+Gs,de=de+vf+(ee>>>0<Gs>>>0?1:0),ee=ee+hx,de=de+GO+(ee>>>0<hx>>>0?1:0),_e.high=de,_e.low=ee}var QO=F&Y^~F&Q,px=T&X^~T&oe,XO=Ee&j^Ee&ce^j&ce,ZO=ne&Z^ne&ge^Z&ge,eM=(Ee>>>28|ne<<4)^(Ee<<30|ne>>>2)^(Ee<<25|ne>>>7),gx=(ne>>>28|Ee<<4)^(ne<<30|Ee>>>2)^(ne<<25|Ee>>>7),tM=(F>>>14|T<<18)^(F>>>18|T<<14)^(F<<23|T>>>9),rM=(T>>>14|F<<18)^(T>>>18|F<<14)^(T<<23|F>>>9),yx=d[ae],nM=yx.high,vx=yx.low,Qr=se+rM,Qs=ue+tM+(Qr>>>0<se>>>0?1:0),Qr=Qr+px,Qs=Qs+QO+(Qr>>>0<px>>>0?1:0),Qr=Qr+vx,Qs=Qs+nM+(Qr>>>0<vx>>>0?1:0),Qr=Qr+ee,Qs=Qs+de+(Qr>>>0<ee>>>0?1:0),mx=gx+ZO,iM=eM+XO+(mx>>>0<gx>>>0?1:0);ue=Q,se=oe,Q=Y,oe=X,Y=F,X=T,T=Ue+Qr|0,F=We+Qs+(T>>>0<Ue>>>0?1:0)|0,We=ce,Ue=ge,ce=j,ge=Z,j=Ee,Z=ne,ne=Qr+mx|0,Ee=Qs+iM+(ne>>>0<Qr>>>0?1:0)|0}k=p.low=k+ne,p.high=A+Ee+(k>>>0<ne>>>0?1:0),E=h.low=E+Z,h.high=C+j+(E>>>0<Z>>>0?1:0),I=y.low=I+ge,y.high=M+ce+(I>>>0<ge>>>0?1:0),L=b.low=L+Ue,b.high=P+We+(L>>>0<Ue>>>0?1:0),W=_.low=W+T,_.high=V+F+(W>>>0<T>>>0?1:0),te=w.low=te+X,w.high=U+Y+(te>>>0<X>>>0?1:0),R=D.low=R+oe,D.high=N+Q+(R>>>0<oe>>>0?1:0),K=S.low=K+se,S.high=H+ue+(K>>>0<se>>>0?1:0)},_doFinalize:function(){var m=this._data,x=m.words,v=this._nDataBytes*8,p=m.sigBytes*8;x[p>>>5]|=128<<24-p%32,x[(p+128>>>10<<5)+30]=Math.floor(v/4294967296),x[(p+128>>>10<<5)+31]=v,m.sigBytes=x.length*4,this._process();var h=this._hash.toX32();return h},clone:function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m},blockSize:1024/32});n.SHA512=s._createHelper(g),n.HmacSHA512=s._createHmacHelper(g)}(),r.SHA512})})(D_);var VE={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,df.exports,D_.exports)})(le,function(r){return function(){var n=r,i=n.x64,s=i.Word,a=i.WordArray,o=n.algo,l=o.SHA512,u=o.SHA384=l.extend({_doReset:function(){this._hash=new a.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var c=l._doFinalize.call(this);return c.sigBytes-=16,c}});n.SHA384=l._createHelper(u),n.HmacSHA384=l._createHmacHelper(u)}(),r.SHA384})})(VE);var UE={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,df.exports)})(le,function(r){return function(n){var i=r,s=i.lib,a=s.WordArray,o=s.Hasher,l=i.x64,u=l.Word,c=i.algo,d=[],f=[],g=[];(function(){for(var v=1,p=0,h=0;h<24;h++){d[v+5*p]=(h+1)*(h+2)/2%64;var y=p%5,b=(2*v+3*p)%5;v=y,p=b}for(var v=0;v<5;v++)for(var p=0;p<5;p++)f[v+5*p]=p+(2*v+3*p)%5*5;for(var _=1,w=0;w<24;w++){for(var D=0,S=0,A=0;A<7;A++){if(_&1){var k=(1<<A)-1;k<32?S^=1<<k:D^=1<<k-32}_&128?_=_<<1^113:_<<=1}g[w]=u.create(D,S)}})();var m=[];(function(){for(var v=0;v<25;v++)m[v]=u.create()})();var x=c.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],p=0;p<25;p++)v[p]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,p){for(var h=this._state,y=this.blockSize/2,b=0;b<y;b++){var _=v[p+2*b],w=v[p+2*b+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360;var D=h[b];D.high^=w,D.low^=_}for(var S=0;S<24;S++){for(var A=0;A<5;A++){for(var k=0,C=0,E=0;E<5;E++){var D=h[A+5*E];k^=D.high,C^=D.low}var M=m[A];M.high=k,M.low=C}for(var A=0;A<5;A++)for(var I=m[(A+4)%5],P=m[(A+1)%5],L=P.high,V=P.low,k=I.high^(L<<1|V>>>31),C=I.low^(V<<1|L>>>31),E=0;E<5;E++){var D=h[A+5*E];D.high^=k,D.low^=C}for(var W=1;W<25;W++){var k,C,D=h[W],U=D.high,te=D.low,N=d[W];N<32?(k=U<<N|te>>>32-N,C=te<<N|U>>>32-N):(k=te<<N-32|U>>>64-N,C=U<<N-32|te>>>64-N);var R=m[f[W]];R.high=k,R.low=C}var H=m[0],K=h[0];H.high=K.high,H.low=K.low;for(var A=0;A<5;A++)for(var E=0;E<5;E++){var W=A+5*E,D=h[W],Ee=m[W],ne=m[(A+1)%5+5*E],j=m[(A+2)%5+5*E];D.high=Ee.high^~ne.high&j.high,D.low=Ee.low^~ne.low&j.low}var D=h[0],Z=g[S];D.high^=Z.high,D.low^=Z.low}},_doFinalize:function(){var v=this._data,p=v.words;this._nDataBytes*8;var h=v.sigBytes*8,y=this.blockSize*32;p[h>>>5]|=1<<24-h%32,p[(n.ceil((h+1)/y)*y>>>5)-1]|=128,v.sigBytes=p.length*4,this._process();for(var b=this._state,_=this.cfg.outputLength/8,w=_/8,D=[],S=0;S<w;S++){var A=b[S],k=A.high,C=A.low;k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,D.push(C),D.push(k)}return new a.init(D,_)},clone:function(){for(var v=o.clone.call(this),p=v._state=this._state.slice(0),h=0;h<25;h++)p[h]=p[h].clone();return v}});i.SHA3=o._createHelper(x),i.HmacSHA3=o._createHmacHelper(x)}(Math),r.SHA3})})(UE);var zE={exports:{}};(function(e,t){(function(r,n){e.exports=n(Le.exports)})(le,function(r){/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/return function(n){var i=r,s=i.lib,a=s.WordArray,o=s.Hasher,l=i.algo,u=a.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=a.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=a.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=a.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),g=a.create([0,1518500249,1859775393,2400959708,2840853838]),m=a.create([1352829926,1548603684,1836072691,2053994217,0]),x=l.RIPEMD160=o.extend({_doReset:function(){this._hash=a.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,D){for(var S=0;S<16;S++){var A=D+S,k=w[A];w[A]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}var C=this._hash.words,E=g.words,M=m.words,I=u.words,P=c.words,L=d.words,V=f.words,W,U,te,N,R,H,K,Ee,ne,j;H=W=C[0],K=U=C[1],Ee=te=C[2],ne=N=C[3],j=R=C[4];for(var Z,S=0;S<80;S+=1)Z=W+w[D+I[S]]|0,S<16?Z+=v(U,te,N)+E[0]:S<32?Z+=p(U,te,N)+E[1]:S<48?Z+=h(U,te,N)+E[2]:S<64?Z+=y(U,te,N)+E[3]:Z+=b(U,te,N)+E[4],Z=Z|0,Z=_(Z,L[S]),Z=Z+R|0,W=R,R=N,N=_(te,10),te=U,U=Z,Z=H+w[D+P[S]]|0,S<16?Z+=b(K,Ee,ne)+M[0]:S<32?Z+=y(K,Ee,ne)+M[1]:S<48?Z+=h(K,Ee,ne)+M[2]:S<64?Z+=p(K,Ee,ne)+M[3]:Z+=v(K,Ee,ne)+M[4],Z=Z|0,Z=_(Z,V[S]),Z=Z+j|0,H=j,j=ne,ne=_(Ee,10),Ee=K,K=Z;Z=C[1]+te+ne|0,C[1]=C[2]+N+j|0,C[2]=C[3]+R+H|0,C[3]=C[4]+W+K|0,C[4]=C[0]+U+Ee|0,C[0]=Z},_doFinalize:function(){var w=this._data,D=w.words,S=this._nDataBytes*8,A=w.sigBytes*8;D[A>>>5]|=128<<24-A%32,D[(A+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,w.sigBytes=(D.length+1)*4,this._process();for(var k=this._hash,C=k.words,E=0;E<5;E++){var M=C[E];C[E]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}return k},clone:function(){var w=o.clone.call(this);return w._hash=this._hash.clone(),w}});function v(w,D,S){return w^D^S}function p(w,D,S){return w&D|~w&S}function h(w,D,S){return(w|~D)^S}function y(w,D,S){return w&S|D&~S}function b(w,D,S){return w^(D|~S)}function _(w,D){return w<<D|w>>>32-D}i.RIPEMD160=o._createHelper(x),i.HmacRIPEMD160=o._createHmacHelper(x)}(),r.RIPEMD160})})(zE);var kg={exports:{}};(function(e,t){(function(r,n){e.exports=n(Le.exports)})(le,function(r){(function(){var n=r,i=n.lib,s=i.Base,a=n.enc,o=a.Utf8,l=n.algo;l.HMAC=s.extend({init:function(u,c){u=this._hasher=new u.init,typeof c=="string"&&(c=o.parse(c));var d=u.blockSize,f=d*4;c.sigBytes>f&&(c=u.finalize(c)),c.clamp();for(var g=this._oKey=c.clone(),m=this._iKey=c.clone(),x=g.words,v=m.words,p=0;p<d;p++)x[p]^=1549556828,v[p]^=909522486;g.sigBytes=m.sigBytes=f,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var c=this._hasher,d=c.finalize(u);c.reset();var f=c.finalize(this._oKey.clone().concat(d));return f}})})()})})(kg);var JE={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,Ag.exports,kg.exports)})(le,function(r){return function(){var n=r,i=n.lib,s=i.Base,a=i.WordArray,o=n.algo,l=o.SHA256,u=o.HMAC,c=o.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,f){for(var g=this.cfg,m=u.create(g.hasher,d),x=a.create(),v=a.create([1]),p=x.words,h=v.words,y=g.keySize,b=g.iterations;p.length<y;){var _=m.update(f).finalize(v);m.reset();for(var w=_.words,D=w.length,S=_,A=1;A<b;A++){S=m.finalize(S),m.reset();for(var k=S.words,C=0;C<D;C++)w[C]^=k[C]}x.concat(_),h[0]++}return x.sigBytes=y*4,x}});n.PBKDF2=function(d,f,g){return c.create(g).compute(d,f)}}(),r.PBKDF2})})(JE);var Js={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,S_.exports,kg.exports)})(le,function(r){return function(){var n=r,i=n.lib,s=i.Base,a=i.WordArray,o=n.algo,l=o.MD5,u=o.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,d){for(var f,g=this.cfg,m=g.hasher.create(),x=a.create(),v=x.words,p=g.keySize,h=g.iterations;v.length<p;){f&&m.update(f),f=m.update(c).finalize(d),m.reset();for(var y=1;y<h;y++)f=m.finalize(f),m.reset();x.concat(f)}return x.sigBytes=p*4,x}});n.EvpKDF=function(c,d,f){return u.create(f).compute(c,d)}}(),r.EvpKDF})})(Js);var Kt={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,Js.exports)})(le,function(r){r.lib.Cipher||function(n){var i=r,s=i.lib,a=s.Base,o=s.WordArray,l=s.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var c=u.Base64,d=i.algo,f=d.EvpKDF,g=s.Cipher=l.extend({cfg:a.extend(),createEncryptor:function(k,C){return this.create(this._ENC_XFORM_MODE,k,C)},createDecryptor:function(k,C){return this.create(this._DEC_XFORM_MODE,k,C)},init:function(k,C,E){this.cfg=this.cfg.extend(E),this._xformMode=k,this._key=C,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(k){return this._append(k),this._process()},finalize:function(k){k&&this._append(k);var C=this._doFinalize();return C},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function k(C){return typeof C=="string"?A:w}return function(C){return{encrypt:function(E,M,I){return k(M).encrypt(C,E,M,I)},decrypt:function(E,M,I){return k(M).decrypt(C,E,M,I)}}}}()});s.StreamCipher=g.extend({_doFinalize:function(){var k=this._process(!0);return k},blockSize:1});var m=i.mode={},x=s.BlockCipherMode=a.extend({createEncryptor:function(k,C){return this.Encryptor.create(k,C)},createDecryptor:function(k,C){return this.Decryptor.create(k,C)},init:function(k,C){this._cipher=k,this._iv=C}}),v=m.CBC=function(){var k=x.extend();k.Encryptor=k.extend({processBlock:function(E,M){var I=this._cipher,P=I.blockSize;C.call(this,E,M,P),I.encryptBlock(E,M),this._prevBlock=E.slice(M,M+P)}}),k.Decryptor=k.extend({processBlock:function(E,M){var I=this._cipher,P=I.blockSize,L=E.slice(M,M+P);I.decryptBlock(E,M),C.call(this,E,M,P),this._prevBlock=L}});function C(E,M,I){var P,L=this._iv;L?(P=L,this._iv=n):P=this._prevBlock;for(var V=0;V<I;V++)E[M+V]^=P[V]}return k}(),p=i.pad={},h=p.Pkcs7={pad:function(k,C){for(var E=C*4,M=E-k.sigBytes%E,I=M<<24|M<<16|M<<8|M,P=[],L=0;L<M;L+=4)P.push(I);var V=o.create(P,M);k.concat(V)},unpad:function(k){var C=k.words[k.sigBytes-1>>>2]&255;k.sigBytes-=C}};s.BlockCipher=g.extend({cfg:g.cfg.extend({mode:v,padding:h}),reset:function(){var k;g.reset.call(this);var C=this.cfg,E=C.iv,M=C.mode;this._xformMode==this._ENC_XFORM_MODE?k=M.createEncryptor:(k=M.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==k?this._mode.init(this,E&&E.words):(this._mode=k.call(M,this,E&&E.words),this._mode.__creator=k)},_doProcessBlock:function(k,C){this._mode.processBlock(k,C)},_doFinalize:function(){var k,C=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(C.pad(this._data,this.blockSize),k=this._process(!0)):(k=this._process(!0),C.unpad(k)),k},blockSize:128/32});var y=s.CipherParams=a.extend({init:function(k){this.mixIn(k)},toString:function(k){return(k||this.formatter).stringify(this)}}),b=i.format={},_=b.OpenSSL={stringify:function(k){var C,E=k.ciphertext,M=k.salt;return M?C=o.create([1398893684,1701076831]).concat(M).concat(E):C=E,C.toString(c)},parse:function(k){var C,E=c.parse(k),M=E.words;return M[0]==1398893684&&M[1]==1701076831&&(C=o.create(M.slice(2,4)),M.splice(0,4),E.sigBytes-=16),y.create({ciphertext:E,salt:C})}},w=s.SerializableCipher=a.extend({cfg:a.extend({format:_}),encrypt:function(k,C,E,M){M=this.cfg.extend(M);var I=k.createEncryptor(E,M),P=I.finalize(C),L=I.cfg;return y.create({ciphertext:P,key:E,iv:L.iv,algorithm:k,mode:L.mode,padding:L.padding,blockSize:k.blockSize,formatter:M.format})},decrypt:function(k,C,E,M){M=this.cfg.extend(M),C=this._parse(C,M.format);var I=k.createDecryptor(E,M).finalize(C.ciphertext);return I},_parse:function(k,C){return typeof k=="string"?C.parse(k,this):k}}),D=i.kdf={},S=D.OpenSSL={execute:function(k,C,E,M,I){if(M||(M=o.random(64/8)),I)var P=f.create({keySize:C+E,hasher:I}).compute(k,M);else var P=f.create({keySize:C+E}).compute(k,M);var L=o.create(P.words.slice(C),E*4);return P.sigBytes=C*4,y.create({key:P,iv:L,salt:M})}},A=s.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:S}),encrypt:function(k,C,E,M){M=this.cfg.extend(M);var I=M.kdf.execute(E,k.keySize,k.ivSize,M.salt,M.hasher);M.iv=I.iv;var P=w.encrypt.call(this,k,C,I.key,M);return P.mixIn(I),P},decrypt:function(k,C,E,M){M=this.cfg.extend(M),C=this._parse(C,M.format);var I=M.kdf.execute(E,k.keySize,k.ivSize,C.salt,M.hasher);M.iv=I.iv;var P=w.decrypt.call(this,k,C,I.key,M);return P}})}()})})(Kt);var GE={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,Kt.exports)})(le,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(s,a){var o=this._cipher,l=o.blockSize;i.call(this,s,a,l,o),this._prevBlock=s.slice(a,a+l)}}),n.Decryptor=n.extend({processBlock:function(s,a){var o=this._cipher,l=o.blockSize,u=s.slice(a,a+l);i.call(this,s,a,l,o),this._prevBlock=u}});function i(s,a,o,l){var u,c=this._iv;c?(u=c.slice(0),this._iv=void 0):u=this._prevBlock,l.encryptBlock(u,0);for(var d=0;d<o;d++)s[a+d]^=u[d]}return n}(),r.mode.CFB})})(GE);var QE={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,Kt.exports)})(le,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,a){var o=this._cipher,l=o.blockSize,u=this._iv,c=this._counter;u&&(c=this._counter=u.slice(0),this._iv=void 0);var d=c.slice(0);o.encryptBlock(d,0),c[l-1]=c[l-1]+1|0;for(var f=0;f<l;f++)s[a+f]^=d[f]}});return n.Decryptor=i,n}(),r.mode.CTR})})(QE);var XE={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,Kt.exports)})(le,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(o){if((o>>24&255)===255){var l=o>>16&255,u=o>>8&255,c=o&255;l===255?(l=0,u===255?(u=0,c===255?c=0:++c):++u):++l,o=0,o+=l<<16,o+=u<<8,o+=c}else o+=1<<24;return o}function s(o){return(o[0]=i(o[0]))===0&&(o[1]=i(o[1])),o}var a=n.Encryptor=n.extend({processBlock:function(o,l){var u=this._cipher,c=u.blockSize,d=this._iv,f=this._counter;d&&(f=this._counter=d.slice(0),this._iv=void 0),s(f);var g=f.slice(0);u.encryptBlock(g,0);for(var m=0;m<c;m++)o[l+m]^=g[m]}});return n.Decryptor=a,n}(),r.mode.CTRGladman})})(XE);var ZE={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,Kt.exports)})(le,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,a){var o=this._cipher,l=o.blockSize,u=this._iv,c=this._keystream;u&&(c=this._keystream=u.slice(0),this._iv=void 0),o.encryptBlock(c,0);for(var d=0;d<l;d++)s[a+d]^=c[d]}});return n.Decryptor=i,n}(),r.mode.OFB})})(ZE);var eC={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,Kt.exports)})(le,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),n.Decryptor=n.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),n}(),r.mode.ECB})})(eC);var tC={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,Kt.exports)})(le,function(r){return r.pad.AnsiX923={pad:function(n,i){var s=n.sigBytes,a=i*4,o=a-s%a,l=s+o-1;n.clamp(),n.words[l>>>2]|=o<<24-l%4*8,n.sigBytes+=o},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})})(tC);var rC={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,Kt.exports)})(le,function(r){return r.pad.Iso10126={pad:function(n,i){var s=i*4,a=s-n.sigBytes%s;n.concat(r.lib.WordArray.random(a-1)).concat(r.lib.WordArray.create([a<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})})(rC);var nC={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,Kt.exports)})(le,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})})(nC);var iC={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,Kt.exports)})(le,function(r){return r.pad.ZeroPadding={pad:function(n,i){var s=i*4;n.clamp(),n.sigBytes+=s-(n.sigBytes%s||s)},unpad:function(n){for(var i=n.words,s=n.sigBytes-1,s=n.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){n.sigBytes=s+1;break}}},r.pad.ZeroPadding})})(iC);var sC={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,Kt.exports)})(le,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})})(sC);var aC={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,Kt.exports)})(le,function(r){return function(n){var i=r,s=i.lib,a=s.CipherParams,o=i.enc,l=o.Hex,u=i.format;u.Hex={stringify:function(c){return c.ciphertext.toString(l)},parse:function(c){var d=l.parse(c);return a.create({ciphertext:d})}}}(),r.format.Hex})})(aC);var oC={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,co.exports,uo.exports,Js.exports,Kt.exports)})(le,function(r){return function(){var n=r,i=n.lib,s=i.BlockCipher,a=n.algo,o=[],l=[],u=[],c=[],d=[],f=[],g=[],m=[],x=[],v=[];(function(){for(var y=[],b=0;b<256;b++)b<128?y[b]=b<<1:y[b]=b<<1^283;for(var _=0,w=0,b=0;b<256;b++){var D=w^w<<1^w<<2^w<<3^w<<4;D=D>>>8^D&255^99,o[_]=D,l[D]=_;var S=y[_],A=y[S],k=y[A],C=y[D]*257^D*16843008;u[_]=C<<24|C>>>8,c[_]=C<<16|C>>>16,d[_]=C<<8|C>>>24,f[_]=C;var C=k*16843009^A*65537^S*257^_*16843008;g[D]=C<<24|C>>>8,m[D]=C<<16|C>>>16,x[D]=C<<8|C>>>24,v[D]=C,_?(_=S^y[y[y[k^S]]],w^=y[y[w]]):_=w=1}})();var p=[0,1,2,4,8,16,32,64,128,27,54],h=a.AES=s.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,_=b.words,w=b.sigBytes/4,D=this._nRounds=w+6,S=(D+1)*4,A=this._keySchedule=[],k=0;k<S;k++)k<w?A[k]=_[k]:(y=A[k-1],k%w?w>6&&k%w==4&&(y=o[y>>>24]<<24|o[y>>>16&255]<<16|o[y>>>8&255]<<8|o[y&255]):(y=y<<8|y>>>24,y=o[y>>>24]<<24|o[y>>>16&255]<<16|o[y>>>8&255]<<8|o[y&255],y^=p[k/w|0]<<24),A[k]=A[k-w]^y);for(var C=this._invKeySchedule=[],E=0;E<S;E++){var k=S-E;if(E%4)var y=A[k];else var y=A[k-4];E<4||k<=4?C[E]=y:C[E]=g[o[y>>>24]]^m[o[y>>>16&255]]^x[o[y>>>8&255]]^v[o[y&255]]}}},encryptBlock:function(y,b){this._doCryptBlock(y,b,this._keySchedule,u,c,d,f,o)},decryptBlock:function(y,b){var _=y[b+1];y[b+1]=y[b+3],y[b+3]=_,this._doCryptBlock(y,b,this._invKeySchedule,g,m,x,v,l);var _=y[b+1];y[b+1]=y[b+3],y[b+3]=_},_doCryptBlock:function(y,b,_,w,D,S,A,k){for(var C=this._nRounds,E=y[b]^_[0],M=y[b+1]^_[1],I=y[b+2]^_[2],P=y[b+3]^_[3],L=4,V=1;V<C;V++){var W=w[E>>>24]^D[M>>>16&255]^S[I>>>8&255]^A[P&255]^_[L++],U=w[M>>>24]^D[I>>>16&255]^S[P>>>8&255]^A[E&255]^_[L++],te=w[I>>>24]^D[P>>>16&255]^S[E>>>8&255]^A[M&255]^_[L++],N=w[P>>>24]^D[E>>>16&255]^S[M>>>8&255]^A[I&255]^_[L++];E=W,M=U,I=te,P=N}var W=(k[E>>>24]<<24|k[M>>>16&255]<<16|k[I>>>8&255]<<8|k[P&255])^_[L++],U=(k[M>>>24]<<24|k[I>>>16&255]<<16|k[P>>>8&255]<<8|k[E&255])^_[L++],te=(k[I>>>24]<<24|k[P>>>16&255]<<16|k[E>>>8&255]<<8|k[M&255])^_[L++],N=(k[P>>>24]<<24|k[E>>>16&255]<<16|k[M>>>8&255]<<8|k[I&255])^_[L++];y[b]=W,y[b+1]=U,y[b+2]=te,y[b+3]=N},keySize:256/32});n.AES=s._createHelper(h)}(),r.AES})})(oC);var lC={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,co.exports,uo.exports,Js.exports,Kt.exports)})(le,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,a=i.BlockCipher,o=n.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],g=o.DES=a.extend({_doReset:function(){for(var p=this._key,h=p.words,y=[],b=0;b<56;b++){var _=l[b]-1;y[b]=h[_>>>5]>>>31-_%32&1}for(var w=this._subKeys=[],D=0;D<16;D++){for(var S=w[D]=[],A=c[D],b=0;b<24;b++)S[b/6|0]|=y[(u[b]-1+A)%28]<<31-b%6,S[4+(b/6|0)]|=y[28+(u[b+24]-1+A)%28]<<31-b%6;S[0]=S[0]<<1|S[0]>>>31;for(var b=1;b<7;b++)S[b]=S[b]>>>(b-1)*4+3;S[7]=S[7]<<5|S[7]>>>27}for(var k=this._invSubKeys=[],b=0;b<16;b++)k[b]=w[15-b]},encryptBlock:function(p,h){this._doCryptBlock(p,h,this._subKeys)},decryptBlock:function(p,h){this._doCryptBlock(p,h,this._invSubKeys)},_doCryptBlock:function(p,h,y){this._lBlock=p[h],this._rBlock=p[h+1],m.call(this,4,252645135),m.call(this,16,65535),x.call(this,2,858993459),x.call(this,8,16711935),m.call(this,1,1431655765);for(var b=0;b<16;b++){for(var _=y[b],w=this._lBlock,D=this._rBlock,S=0,A=0;A<8;A++)S|=d[A][((D^_[A])&f[A])>>>0];this._lBlock=D,this._rBlock=w^S}var k=this._lBlock;this._lBlock=this._rBlock,this._rBlock=k,m.call(this,1,1431655765),x.call(this,8,16711935),x.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),p[h]=this._lBlock,p[h+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function m(p,h){var y=(this._lBlock>>>p^this._rBlock)&h;this._rBlock^=y,this._lBlock^=y<<p}function x(p,h){var y=(this._rBlock>>>p^this._lBlock)&h;this._lBlock^=y,this._rBlock^=y<<p}n.DES=a._createHelper(g);var v=o.TripleDES=a.extend({_doReset:function(){var p=this._key,h=p.words;if(h.length!==2&&h.length!==4&&h.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=h.slice(0,2),b=h.length<4?h.slice(0,2):h.slice(2,4),_=h.length<6?h.slice(0,2):h.slice(4,6);this._des1=g.createEncryptor(s.create(y)),this._des2=g.createEncryptor(s.create(b)),this._des3=g.createEncryptor(s.create(_))},encryptBlock:function(p,h){this._des1.encryptBlock(p,h),this._des2.decryptBlock(p,h),this._des3.encryptBlock(p,h)},decryptBlock:function(p,h){this._des3.decryptBlock(p,h),this._des2.encryptBlock(p,h),this._des1.decryptBlock(p,h)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=a._createHelper(v)}(),r.TripleDES})})(lC);var cC={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,co.exports,uo.exports,Js.exports,Kt.exports)})(le,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,a=n.algo,o=a.RC4=s.extend({_doReset:function(){for(var c=this._key,d=c.words,f=c.sigBytes,g=this._S=[],m=0;m<256;m++)g[m]=m;for(var m=0,x=0;m<256;m++){var v=m%f,p=d[v>>>2]>>>24-v%4*8&255;x=(x+g[m]+p)%256;var h=g[m];g[m]=g[x],g[x]=h}this._i=this._j=0},_doProcessBlock:function(c,d){c[d]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var c=this._S,d=this._i,f=this._j,g=0,m=0;m<4;m++){d=(d+1)%256,f=(f+c[d])%256;var x=c[d];c[d]=c[f],c[f]=x,g|=c[(c[d]+c[f])%256]<<24-m*8}return this._i=d,this._j=f,g}n.RC4=s._createHelper(o);var u=a.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)l.call(this)}});n.RC4Drop=s._createHelper(u)}(),r.RC4})})(cC);var uC={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,co.exports,uo.exports,Js.exports,Kt.exports)})(le,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,a=n.algo,o=[],l=[],u=[],c=a.Rabbit=s.extend({_doReset:function(){for(var f=this._key.words,g=this.cfg.iv,m=0;m<4;m++)f[m]=(f[m]<<8|f[m]>>>24)&16711935|(f[m]<<24|f[m]>>>8)&4278255360;var x=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],v=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var m=0;m<4;m++)d.call(this);for(var m=0;m<8;m++)v[m]^=x[m+4&7];if(g){var p=g.words,h=p[0],y=p[1],b=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,_=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,w=b>>>16|_&4294901760,D=_<<16|b&65535;v[0]^=b,v[1]^=w,v[2]^=_,v[3]^=D,v[4]^=b,v[5]^=w,v[6]^=_,v[7]^=D;for(var m=0;m<4;m++)d.call(this)}},_doProcessBlock:function(f,g){var m=this._X;d.call(this),o[0]=m[0]^m[5]>>>16^m[3]<<16,o[1]=m[2]^m[7]>>>16^m[5]<<16,o[2]=m[4]^m[1]>>>16^m[7]<<16,o[3]=m[6]^m[3]>>>16^m[1]<<16;for(var x=0;x<4;x++)o[x]=(o[x]<<8|o[x]>>>24)&16711935|(o[x]<<24|o[x]>>>8)&4278255360,f[g+x]^=o[x]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,g=this._C,m=0;m<8;m++)l[m]=g[m];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<l[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<l[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<l[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<l[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<l[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<l[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<l[6]>>>0?1:0)|0,this._b=g[7]>>>0<l[7]>>>0?1:0;for(var m=0;m<8;m++){var x=f[m]+g[m],v=x&65535,p=x>>>16,h=((v*v>>>17)+v*p>>>15)+p*p,y=((x&4294901760)*x|0)+((x&65535)*x|0);u[m]=h^y}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.Rabbit=s._createHelper(c)}(),r.Rabbit})})(uC);var dC={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,co.exports,uo.exports,Js.exports,Kt.exports)})(le,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,a=n.algo,o=[],l=[],u=[],c=a.RabbitLegacy=s.extend({_doReset:function(){var f=this._key.words,g=this.cfg.iv,m=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],x=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var v=0;v<4;v++)d.call(this);for(var v=0;v<8;v++)x[v]^=m[v+4&7];if(g){var p=g.words,h=p[0],y=p[1],b=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,_=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,w=b>>>16|_&4294901760,D=_<<16|b&65535;x[0]^=b,x[1]^=w,x[2]^=_,x[3]^=D,x[4]^=b,x[5]^=w,x[6]^=_,x[7]^=D;for(var v=0;v<4;v++)d.call(this)}},_doProcessBlock:function(f,g){var m=this._X;d.call(this),o[0]=m[0]^m[5]>>>16^m[3]<<16,o[1]=m[2]^m[7]>>>16^m[5]<<16,o[2]=m[4]^m[1]>>>16^m[7]<<16,o[3]=m[6]^m[3]>>>16^m[1]<<16;for(var x=0;x<4;x++)o[x]=(o[x]<<8|o[x]>>>24)&16711935|(o[x]<<24|o[x]>>>8)&4278255360,f[g+x]^=o[x]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,g=this._C,m=0;m<8;m++)l[m]=g[m];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<l[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<l[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<l[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<l[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<l[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<l[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<l[6]>>>0?1:0)|0,this._b=g[7]>>>0<l[7]>>>0?1:0;for(var m=0;m<8;m++){var x=f[m]+g[m],v=x&65535,p=x>>>16,h=((v*v>>>17)+v*p>>>15)+p*p,y=((x&4294901760)*x|0)+((x&65535)*x|0);u[m]=h^y}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.RabbitLegacy=s._createHelper(c)}(),r.RabbitLegacy})})(dC);var fC={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(Le.exports,co.exports,uo.exports,Js.exports,Kt.exports)})(le,function(r){return function(){var n=r,i=n.lib,s=i.BlockCipher,a=n.algo;const o=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function d(v,p){let h=p>>24&255,y=p>>16&255,b=p>>8&255,_=p&255,w=v.sbox[0][h]+v.sbox[1][y];return w=w^v.sbox[2][b],w=w+v.sbox[3][_],w}function f(v,p,h){let y=p,b=h,_;for(let w=0;w<o;++w)y=y^v.pbox[w],b=d(v,y)^b,_=y,y=b,b=_;return _=y,y=b,b=_,b=b^v.pbox[o],y=y^v.pbox[o+1],{left:y,right:b}}function g(v,p,h){let y=p,b=h,_;for(let w=o+1;w>1;--w)y=y^v.pbox[w],b=d(v,y)^b,_=y,y=b,b=_;return _=y,y=b,b=_,b=b^v.pbox[1],y=y^v.pbox[0],{left:y,right:b}}function m(v,p,h){for(let D=0;D<4;D++){v.sbox[D]=[];for(let S=0;S<256;S++)v.sbox[D][S]=u[D][S]}let y=0;for(let D=0;D<o+2;D++)v.pbox[D]=l[D]^p[y],y++,y>=h&&(y=0);let b=0,_=0,w=0;for(let D=0;D<o+2;D+=2)w=f(v,b,_),b=w.left,_=w.right,v.pbox[D]=b,v.pbox[D+1]=_;for(let D=0;D<4;D++)for(let S=0;S<256;S+=2)w=f(v,b,_),b=w.left,_=w.right,v.sbox[D][S]=b,v.sbox[D][S+1]=_;return!0}var x=a.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,p=v.words,h=v.sigBytes/4;m(c,p,h)}},encryptBlock:function(v,p){var h=f(c,v[p],v[p+1]);v[p]=h.left,v[p+1]=h.right},decryptBlock:function(v,p){var h=g(c,v[p],v[p+1]);v[p]=h.left,v[p+1]=h.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=s._createHelper(x)}(),r.Blowfish})})(fC);(function(e,t){(function(r,n,i){e.exports=n(Le.exports,df.exports,jE.exports,YE.exports,co.exports,HE.exports,uo.exports,S_.exports,Ag.exports,KE.exports,D_.exports,VE.exports,UE.exports,zE.exports,kg.exports,JE.exports,Js.exports,Kt.exports,GE.exports,QE.exports,XE.exports,ZE.exports,eC.exports,tC.exports,rC.exports,nC.exports,iC.exports,sC.exports,aC.exports,oC.exports,lC.exports,cC.exports,uC.exports,dC.exports,fC.exports)})(le,function(r){return r})})(WE);var Ol=WE.exports;const Bf="a6489554-f07d-404d-8dd6-b6ea9c307b28";var a$={encrypt(e){return Object.keys(e).forEach(t=>{(t==="value"||t==="name"||t==="description"||t==="code"||t==="password")&&(e[t]=Ol.AES.encrypt(JSON.stringify(e[t]),Bf).toString())}),e},decrypt(e){return Object.keys(e).forEach(t=>{(t==="value"||t==="name"||t==="description"||t==="code"||t==="password")&&(console.log(JSON.stringify(e[t])),console.log(e[t]),e[t]=Ol.AES.decrypt(JSON.stringify(e[t]),Bf).toString(Ol.enc.Utf8))}),e},encryptPlainText(e){return console.log(e),e=Ol.AES.encrypt(e,Bf).toString(),e},decryptPlainText(e){return console.log(e),e=Ol.AES.decrypt(e,Bf).toString(Ol.enc.Utf8).replace('"',"").replace('"',""),e}},hC={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(le,function(){return function(r){function n(s){if(i[s])return i[s].exports;var a=i[s]={i:s,l:!1,exports:{}};return r[s].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var i={};return n.m=r,n.c=i,n.d=function(s,a,o){n.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},n.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return n.d(a,"a",a),a},n.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},n.p="",n(n.s=8)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s="swal-button";n.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:s,CONFIRM_BUTTON:s+"--confirm",CANCEL_BUTTON:s+"--cancel",DANGER_BUTTON:s+"--danger",BUTTON_LOADING:s+"--loading",BUTTON_LOADER:s+"__loader"},n.default=n.CLASS_NAMES},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getNode=function(s){var a="."+s;return document.querySelector(a)},n.stringToNode=function(s){var a=document.createElement("div");return a.innerHTML=s.trim(),a.firstChild},n.insertAfter=function(s,a){var o=a.nextSibling;a.parentNode.insertBefore(s,o)},n.removeNode=function(s){s.parentElement.removeChild(s)},n.throwErr=function(s){throw s=s.replace(/ +(?= )/g,""),"SweetAlert: "+(s=s.trim())},n.isPlainObject=function(s){if(Object.prototype.toString.call(s)!=="[object Object]")return!1;var a=Object.getPrototypeOf(s);return a===null||a===Object.prototype},n.ordinalSuffixOf=function(s){var a=s%10,o=s%100;return a===1&&o!==11?s+"st":a===2&&o!==12?s+"nd":a===3&&o!==13?s+"rd":s+"th"}},function(r,n,i){function s(f){for(var g in f)n.hasOwnProperty(g)||(n[g]=f[g])}Object.defineProperty(n,"__esModule",{value:!0}),s(i(25));var a=i(26);n.overlayMarkup=a.default,s(i(27)),s(i(28)),s(i(29));var o=i(0),l=o.default.MODAL_TITLE,u=o.default.MODAL_TEXT,c=o.default.ICON,d=o.default.FOOTER;n.iconMarkup=`
  <div class="`+c+'"></div>',n.titleMarkup=`
  <div class="`+l+`"></div>
`,n.textMarkup=`
  <div class="`+u+'"></div>',n.footerMarkup=`
  <div class="`+d+`"></div>
`},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1);n.CONFIRM_KEY="confirm",n.CANCEL_KEY="cancel";var a={visible:!0,text:null,value:null,className:"",closeModal:!0},o=Object.assign({},a,{visible:!1,text:"Cancel",value:null}),l=Object.assign({},a,{text:"OK",value:!0});n.defaultButtonList={cancel:o,confirm:l};var u=function(g){switch(g){case n.CONFIRM_KEY:return l;case n.CANCEL_KEY:return o;default:var m=g.charAt(0).toUpperCase()+g.slice(1);return Object.assign({},a,{text:m,value:g})}},c=function(g,m){var x=u(g);return m===!0?Object.assign({},x,{visible:!0}):typeof m=="string"?Object.assign({},x,{visible:!0,text:m}):s.isPlainObject(m)?Object.assign({visible:!0},x,m):Object.assign({},x,{visible:!1})},d=function(g){for(var m={},x=0,v=Object.keys(g);x<v.length;x++){var p=v[x],h=g[p],y=c(p,h);m[p]=y}return m.cancel||(m.cancel=o),m},f=function(g){var m={};switch(g.length){case 1:m[n.CANCEL_KEY]=Object.assign({},o,{visible:!1});break;case 2:m[n.CANCEL_KEY]=c(n.CANCEL_KEY,g[0]),m[n.CONFIRM_KEY]=c(n.CONFIRM_KEY,g[1]);break;default:s.throwErr("Invalid number of 'buttons' in array ("+g.length+`).
      If you want more than 2 buttons, you need to use an object!`)}return m};n.getButtonListOpts=function(g){var m=n.defaultButtonList;return typeof g=="string"?m[n.CONFIRM_KEY]=c(n.CONFIRM_KEY,g):Array.isArray(g)?m=f(g):s.isPlainObject(g)?m=d(g):g===!0?m=f([!0,!0]):g===!1?m=f([!1,!1]):g===void 0&&(m=n.defaultButtonList),m}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),a=i(2),o=i(0),l=o.default.MODAL,u=o.default.OVERLAY,c=i(30),d=i(31),f=i(32),g=i(33);n.injectElIntoModal=function(p){var h=s.getNode(l),y=s.stringToNode(p);return h.appendChild(y),y};var m=function(p){p.className=l,p.textContent=""},x=function(p,h){m(p);var y=h.className;y&&p.classList.add(y)};n.initModalContent=function(p){var h=s.getNode(l);x(h,p),c.default(p.icon),d.initTitle(p.title),d.initText(p.text),g.default(p.content),f.default(p.buttons,p.dangerMode)};var v=function(){var p=s.getNode(u),h=s.stringToNode(a.modalMarkup);p.appendChild(h)};n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(3),a={isOpen:!1,promise:null,actions:{},timer:null},o=Object.assign({},a);n.resetState=function(){o=Object.assign({},a)},n.setActionValue=function(u){if(typeof u=="string")return l(s.CONFIRM_KEY,u);for(var c in u)l(c,u[c])};var l=function(u,c){o.actions[u]||(o.actions[u]={}),Object.assign(o.actions[u],{value:c})};n.setActionOptionsFor=function(u,c){var d=(c===void 0?{}:c).closeModal,f=d===void 0||d;Object.assign(o.actions[u],{closeModal:f})},n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),a=i(3),o=i(0),l=o.default.OVERLAY,u=o.default.SHOW_MODAL,c=o.default.BUTTON,d=o.default.BUTTON_LOADING,f=i(5);n.openModal=function(){s.getNode(l).classList.add(u),f.default.isOpen=!0};var g=function(){s.getNode(l).classList.remove(u),f.default.isOpen=!1};n.onAction=function(m){m===void 0&&(m=a.CANCEL_KEY);var x=f.default.actions[m],v=x.value;if(x.closeModal===!1){var p=c+"--"+m;s.getNode(p).classList.add(d)}else g();f.default.promise.resolve(v)},n.getState=function(){var m=Object.assign({},f.default);return delete m.promise,delete m.timer,m},n.stopLoading=function(){for(var m=document.querySelectorAll("."+c),x=0;x<m.length;x++)m[x].classList.remove(d)}},function(r,n){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(i=window)}r.exports=i},function(r,n,i){(function(s){r.exports=s.sweetAlert=i(9)}).call(n,i(7))},function(r,n,i){(function(s){r.exports=s.swal=i(10)}).call(n,i(7))},function(r,n,i){typeof window!="undefined"&&i(11),i(16);var s=i(23).default;r.exports=s},function(r,n,i){var s=i(12);typeof s=="string"&&(s=[[r.i,s,""]]);var a={insertAt:"top"};a.transform=void 0,i(14)(s,a),s.locals&&(r.exports=s.locals)},function(r,n,i){n=r.exports=i(13)(void 0),n.push([r.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(r,n){function i(a,o){var l=a[1]||"",u=a[3];if(!u)return l;if(o&&typeof btoa=="function"){var c=s(u);return[l].concat(u.sources.map(function(d){return"/*# sourceURL="+u.sourceRoot+d+" */"})).concat([c]).join(`
`)}return[l].join(`
`)}function s(a){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"}r.exports=function(a){var o=[];return o.toString=function(){return this.map(function(l){var u=i(l,a);return l[2]?"@media "+l[2]+"{"+u+"}":u}).join("")},o.i=function(l,u){typeof l=="string"&&(l=[[null,l,""]]);for(var c={},d=0;d<this.length;d++){var f=this[d][0];typeof f=="number"&&(c[f]=!0)}for(d=0;d<l.length;d++){var g=l[d];typeof g[0]=="number"&&c[g[0]]||(u&&!g[2]?g[2]=u:u&&(g[2]="("+g[2]+") and ("+u+")"),o.push(g))}},o}},function(r,n,i){function s(S,A){for(var k=0;k<S.length;k++){var C=S[k],E=v[C.id];if(E){E.refs++;for(var M=0;M<E.parts.length;M++)E.parts[M](C.parts[M]);for(;M<C.parts.length;M++)E.parts.push(f(C.parts[M],A))}else{for(var I=[],M=0;M<C.parts.length;M++)I.push(f(C.parts[M],A));v[C.id]={id:C.id,refs:1,parts:I}}}}function a(S,A){for(var k=[],C={},E=0;E<S.length;E++){var M=S[E],I=A.base?M[0]+A.base:M[0],P=M[1],L=M[2],V=M[3],W={css:P,media:L,sourceMap:V};C[I]?C[I].parts.push(W):k.push(C[I]={id:I,parts:[W]})}return k}function o(S,A){var k=h(S.insertInto);if(!k)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var C=_[_.length-1];if(S.insertAt==="top")C?C.nextSibling?k.insertBefore(A,C.nextSibling):k.appendChild(A):k.insertBefore(A,k.firstChild),_.push(A);else{if(S.insertAt!=="bottom")throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");k.appendChild(A)}}function l(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S);var A=_.indexOf(S);A>=0&&_.splice(A,1)}function u(S){var A=document.createElement("style");return S.attrs.type="text/css",d(A,S.attrs),o(S,A),A}function c(S){var A=document.createElement("link");return S.attrs.type="text/css",S.attrs.rel="stylesheet",d(A,S.attrs),o(S,A),A}function d(S,A){Object.keys(A).forEach(function(k){S.setAttribute(k,A[k])})}function f(S,A){var k,C,E,M;if(A.transform&&S.css){if(!(M=A.transform(S.css)))return function(){};S.css=M}if(A.singleton){var I=b++;k=y||(y=u(A)),C=g.bind(null,k,I,!1),E=g.bind(null,k,I,!0)}else S.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(k=c(A),C=x.bind(null,k,A),E=function(){l(k),k.href&&URL.revokeObjectURL(k.href)}):(k=u(A),C=m.bind(null,k),E=function(){l(k)});return C(S),function(P){if(P){if(P.css===S.css&&P.media===S.media&&P.sourceMap===S.sourceMap)return;C(S=P)}else E()}}function g(S,A,k,C){var E=k?"":C.css;if(S.styleSheet)S.styleSheet.cssText=D(A,E);else{var M=document.createTextNode(E),I=S.childNodes;I[A]&&S.removeChild(I[A]),I.length?S.insertBefore(M,I[A]):S.appendChild(M)}}function m(S,A){var k=A.css,C=A.media;if(C&&S.setAttribute("media",C),S.styleSheet)S.styleSheet.cssText=k;else{for(;S.firstChild;)S.removeChild(S.firstChild);S.appendChild(document.createTextNode(k))}}function x(S,A,k){var C=k.css,E=k.sourceMap,M=A.convertToAbsoluteUrls===void 0&&E;(A.convertToAbsoluteUrls||M)&&(C=w(C)),E&&(C+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(E))))+" */");var I=new Blob([C],{type:"text/css"}),P=S.href;S.href=URL.createObjectURL(I),P&&URL.revokeObjectURL(P)}var v={},p=function(S){var A;return function(){return A===void 0&&(A=S.apply(this,arguments)),A}}(function(){return window&&document&&document.all&&!window.atob}),h=function(S){var A={};return function(k){return A[k]===void 0&&(A[k]=S.call(this,k)),A[k]}}(function(S){return document.querySelector(S)}),y=null,b=0,_=[],w=i(15);r.exports=function(S,A){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");A=A||{},A.attrs=typeof A.attrs=="object"?A.attrs:{},A.singleton||(A.singleton=p()),A.insertInto||(A.insertInto="head"),A.insertAt||(A.insertAt="bottom");var k=a(S,A);return s(k,A),function(C){for(var E=[],M=0;M<k.length;M++){var I=k[M],P=v[I.id];P.refs--,E.push(P)}C&&s(a(C,A),A);for(var M=0;M<E.length;M++){var P=E[M];if(P.refs===0){for(var L=0;L<P.parts.length;L++)P.parts[L]();delete v[P.id]}}}};var D=function(){var S=[];return function(A,k){return S[A]=k,S.filter(Boolean).join(`
`)}}()},function(r,n){r.exports=function(i){var s=typeof window!="undefined"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var a=s.protocol+"//"+s.host,o=a+s.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,u){var c=u.trim().replace(/^"(.*)"$/,function(f,g){return g}).replace(/^'(.*)'$/,function(f,g){return g});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(c))return l;var d;return d=c.indexOf("//")===0?c:c.indexOf("/")===0?a+c:o+c.replace(/^\.\//,""),"url("+JSON.stringify(d)+")"})}},function(r,n,i){var s=i(17);typeof window=="undefined"||window.Promise||(window.Promise=s),i(21),String.prototype.includes||(String.prototype.includes=function(a,o){return typeof o!="number"&&(o=0),!(o+a.length>this.length)&&this.indexOf(a,o)!==-1}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(a,o){if(this==null)throw new TypeError('"this" is null or not defined');var l=Object(this),u=l.length>>>0;if(u===0)return!1;for(var c=0|o,d=Math.max(c>=0?c:u-Math.abs(c),0);d<u;){if(function(f,g){return f===g||typeof f=="number"&&typeof g=="number"&&isNaN(f)&&isNaN(g)}(l[d],a))return!0;d++}return!1}}),typeof window!="undefined"&&function(a){a.forEach(function(o){o.hasOwnProperty("remove")||Object.defineProperty(o,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(r,n,i){(function(s){(function(a){function o(){}function l(p,h){return function(){p.apply(h,arguments)}}function u(p){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof p!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],x(p,this)}function c(p,h){for(;p._state===3;)p=p._value;if(p._state===0)return void p._deferreds.push(h);p._handled=!0,u._immediateFn(function(){var y=p._state===1?h.onFulfilled:h.onRejected;if(y===null)return void(p._state===1?d:f)(h.promise,p._value);var b;try{b=y(p._value)}catch(_){return void f(h.promise,_)}d(h.promise,b)})}function d(p,h){try{if(h===p)throw new TypeError("A promise cannot be resolved with itself.");if(h&&(typeof h=="object"||typeof h=="function")){var y=h.then;if(h instanceof u)return p._state=3,p._value=h,void g(p);if(typeof y=="function")return void x(l(y,h),p)}p._state=1,p._value=h,g(p)}catch(b){f(p,b)}}function f(p,h){p._state=2,p._value=h,g(p)}function g(p){p._state===2&&p._deferreds.length===0&&u._immediateFn(function(){p._handled||u._unhandledRejectionFn(p._value)});for(var h=0,y=p._deferreds.length;h<y;h++)c(p,p._deferreds[h]);p._deferreds=null}function m(p,h,y){this.onFulfilled=typeof p=="function"?p:null,this.onRejected=typeof h=="function"?h:null,this.promise=y}function x(p,h){var y=!1;try{p(function(b){y||(y=!0,d(h,b))},function(b){y||(y=!0,f(h,b))})}catch(b){if(y)return;y=!0,f(h,b)}}var v=setTimeout;u.prototype.catch=function(p){return this.then(null,p)},u.prototype.then=function(p,h){var y=new this.constructor(o);return c(this,new m(p,h,y)),y},u.all=function(p){var h=Array.prototype.slice.call(p);return new u(function(y,b){function _(S,A){try{if(A&&(typeof A=="object"||typeof A=="function")){var k=A.then;if(typeof k=="function")return void k.call(A,function(C){_(S,C)},b)}h[S]=A,--w==0&&y(h)}catch(C){b(C)}}if(h.length===0)return y([]);for(var w=h.length,D=0;D<h.length;D++)_(D,h[D])})},u.resolve=function(p){return p&&typeof p=="object"&&p.constructor===u?p:new u(function(h){h(p)})},u.reject=function(p){return new u(function(h,y){y(p)})},u.race=function(p){return new u(function(h,y){for(var b=0,_=p.length;b<_;b++)p[b].then(h,y)})},u._immediateFn=typeof s=="function"&&function(p){s(p)}||function(p){v(p,0)},u._unhandledRejectionFn=function(p){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",p)},u._setImmediateFn=function(p){u._immediateFn=p},u._setUnhandledRejectionFn=function(p){u._unhandledRejectionFn=p},r!==void 0&&r.exports?r.exports=u:a.Promise||(a.Promise=u)})(this)}).call(n,i(18).setImmediate)},function(r,n,i){function s(o,l){this._id=o,this._clearFn=l}var a=Function.prototype.apply;n.setTimeout=function(){return new s(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new s(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(o){o&&o.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(o,l){clearTimeout(o._idleTimeoutId),o._idleTimeout=l},n.unenroll=function(o){clearTimeout(o._idleTimeoutId),o._idleTimeout=-1},n._unrefActive=n.active=function(o){clearTimeout(o._idleTimeoutId);var l=o._idleTimeout;l>=0&&(o._idleTimeoutId=setTimeout(function(){o._onTimeout&&o._onTimeout()},l))},i(19),n.setImmediate=setImmediate,n.clearImmediate=clearImmediate},function(r,n,i){(function(s,a){(function(o,l){function u(y){typeof y!="function"&&(y=new Function(""+y));for(var b=new Array(arguments.length-1),_=0;_<b.length;_++)b[_]=arguments[_+1];var w={callback:y,args:b};return x[m]=w,g(m),m++}function c(y){delete x[y]}function d(y){var b=y.callback,_=y.args;switch(_.length){case 0:b();break;case 1:b(_[0]);break;case 2:b(_[0],_[1]);break;case 3:b(_[0],_[1],_[2]);break;default:b.apply(l,_)}}function f(y){if(v)setTimeout(f,0,y);else{var b=x[y];if(b){v=!0;try{d(b)}finally{c(y),v=!1}}}}if(!o.setImmediate){var g,m=1,x={},v=!1,p=o.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(o);h=h&&h.setTimeout?h:o,{}.toString.call(o.process)==="[object process]"?function(){g=function(y){a.nextTick(function(){f(y)})}}():function(){if(o.postMessage&&!o.importScripts){var y=!0,b=o.onmessage;return o.onmessage=function(){y=!1},o.postMessage("","*"),o.onmessage=b,y}}()?function(){var y="setImmediate$"+Math.random()+"$",b=function(_){_.source===o&&typeof _.data=="string"&&_.data.indexOf(y)===0&&f(+_.data.slice(y.length))};o.addEventListener?o.addEventListener("message",b,!1):o.attachEvent("onmessage",b),g=function(_){o.postMessage(y+_,"*")}}():o.MessageChannel?function(){var y=new MessageChannel;y.port1.onmessage=function(b){f(b.data)},g=function(b){y.port2.postMessage(b)}}():p&&"onreadystatechange"in p.createElement("script")?function(){var y=p.documentElement;g=function(b){var _=p.createElement("script");_.onreadystatechange=function(){f(b),_.onreadystatechange=null,y.removeChild(_),_=null},y.appendChild(_)}}():function(){g=function(y){setTimeout(f,0,y)}}(),h.setImmediate=u,h.clearImmediate=c}})(typeof self=="undefined"?s===void 0?this:s:self)}).call(n,i(7),i(20))},function(r,n){function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(y){if(f===setTimeout)return setTimeout(y,0);if((f===i||!f)&&setTimeout)return f=setTimeout,setTimeout(y,0);try{return f(y,0)}catch{try{return f.call(null,y,0)}catch{return f.call(this,y,0)}}}function o(y){if(g===clearTimeout)return clearTimeout(y);if((g===s||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(y);try{return g(y)}catch{try{return g.call(null,y)}catch{return g.call(this,y)}}}function l(){p&&x&&(p=!1,x.length?v=x.concat(v):h=-1,v.length&&u())}function u(){if(!p){var y=a(l);p=!0;for(var b=v.length;b;){for(x=v,v=[];++h<b;)x&&x[h].run();h=-1,b=v.length}x=null,p=!1,o(y)}}function c(y,b){this.fun=y,this.array=b}function d(){}var f,g,m=r.exports={};(function(){try{f=typeof setTimeout=="function"?setTimeout:i}catch{f=i}try{g=typeof clearTimeout=="function"?clearTimeout:s}catch{g=s}})();var x,v=[],p=!1,h=-1;m.nextTick=function(y){var b=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)b[_-1]=arguments[_];v.push(new c(y,b)),v.length!==1||p||a(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=d,m.addListener=d,m.once=d,m.off=d,m.removeListener=d,m.removeAllListeners=d,m.emit=d,m.prependListener=d,m.prependOnceListener=d,m.listeners=function(y){return[]},m.binding=function(y){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(y){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(r,n,i){i(22).polyfill()},function(r,n,i){function s(o,l){if(o==null)throw new TypeError("Cannot convert first argument to object");for(var u=Object(o),c=1;c<arguments.length;c++){var d=arguments[c];if(d!=null)for(var f=Object.keys(Object(d)),g=0,m=f.length;g<m;g++){var x=f[g],v=Object.getOwnPropertyDescriptor(d,x);v!==void 0&&v.enumerable&&(u[x]=d[x])}}return u}function a(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:s})}r.exports={assign:s,polyfill:a}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(24),a=i(6),o=i(5),l=i(36),u=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];if(typeof window!="undefined"){var f=l.getOpts.apply(void 0,c);return new Promise(function(g,m){o.default.promise={resolve:g,reject:m},s.default(f),setTimeout(function(){a.openModal()})})}};u.close=a.onAction,u.getState=a.getState,u.setActionValue=o.setActionValue,u.stopLoading=a.stopLoading,u.setDefaults=l.setDefaults,n.default=u},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),a=i(0),o=a.default.MODAL,l=i(4),u=i(34),c=i(35),d=i(1);n.init=function(f){s.getNode(o)||(document.body||d.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),u.default(),l.default()),l.initModalContent(f),c.default(f)},n.default=n.init},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),a=s.default.MODAL;n.modalMarkup=`
  <div class="`+a+'" role="dialog" aria-modal="true"></div>',n.default=n.modalMarkup},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),a=s.default.OVERLAY,o=`<div 
    class="`+a+`"
    tabIndex="-1">
  </div>`;n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),a=s.default.ICON;n.errorIconMarkup=function(){var o=a+"--error",l=o+"__line";return`
    <div class="`+o+`__x-mark">
      <span class="`+l+" "+l+`--left"></span>
      <span class="`+l+" "+l+`--right"></span>
    </div>
  `},n.warningIconMarkup=function(){var o=a+"--warning";return`
    <span class="`+o+`__body">
      <span class="`+o+`__dot"></span>
    </span>
  `},n.successIconMarkup=function(){var o=a+"--success";return`
    <span class="`+o+"__line "+o+`__line--long"></span>
    <span class="`+o+"__line "+o+`__line--tip"></span>

    <div class="`+o+`__ring"></div>
    <div class="`+o+`__hide-corners"></div>
  `}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),a=s.default.CONTENT;n.contentMarkup=`
  <div class="`+a+`">

  </div>
`},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),a=s.default.BUTTON_CONTAINER,o=s.default.BUTTON,l=s.default.BUTTON_LOADER;n.buttonMarkup=`
  <div class="`+a+`">

    <button
      class="`+o+`"
    ></button>

    <div class="`+l+`">
      <div></div>
      <div></div>
      <div></div>
    </div>

  </div>
`},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(4),a=i(2),o=i(0),l=o.default.ICON,u=o.default.ICON_CUSTOM,c=["error","warning","success","info"],d={error:a.errorIconMarkup(),warning:a.warningIconMarkup(),success:a.successIconMarkup()},f=function(x,v){var p=l+"--"+x;v.classList.add(p);var h=d[x];h&&(v.innerHTML=h)},g=function(x,v){v.classList.add(u);var p=document.createElement("img");p.src=x,v.appendChild(p)},m=function(x){if(x){var v=s.injectElIntoModal(a.iconMarkup);c.includes(x)?f(x,v):g(x,v)}};n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(2),a=i(4),o=function(l){navigator.userAgent.includes("AppleWebKit")&&(l.style.display="none",l.offsetHeight,l.style.display="")};n.initTitle=function(l){if(l){var u=a.injectElIntoModal(s.titleMarkup);u.textContent=l,o(u)}},n.initText=function(l){if(l){var u=document.createDocumentFragment();l.split(`
`).forEach(function(d,f,g){u.appendChild(document.createTextNode(d)),f<g.length-1&&u.appendChild(document.createElement("br"))});var c=a.injectElIntoModal(s.textMarkup);c.appendChild(u),o(c)}}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),a=i(4),o=i(0),l=o.default.BUTTON,u=o.default.DANGER_BUTTON,c=i(3),d=i(2),f=i(6),g=i(5),m=function(v,p,h){var y=p.text,b=p.value,_=p.className,w=p.closeModal,D=s.stringToNode(d.buttonMarkup),S=D.querySelector("."+l),A=l+"--"+v;S.classList.add(A),_&&(Array.isArray(_)?_:_.split(" ")).filter(function(C){return C.length>0}).forEach(function(C){S.classList.add(C)}),h&&v===c.CONFIRM_KEY&&S.classList.add(u),S.textContent=y;var k={};return k[v]=b,g.setActionValue(k),g.setActionOptionsFor(v,{closeModal:w}),S.addEventListener("click",function(){return f.onAction(v)}),D},x=function(v,p){var h=a.injectElIntoModal(d.footerMarkup);for(var y in v){var b=v[y],_=m(y,b,p);b.visible&&h.appendChild(_)}h.children.length===0&&h.remove()};n.default=x},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(3),a=i(4),o=i(2),l=i(5),u=i(6),c=i(0),d=c.default.CONTENT,f=function(x){x.addEventListener("input",function(v){var p=v.target,h=p.value;l.setActionValue(h)}),x.addEventListener("keyup",function(v){if(v.key==="Enter")return u.onAction(s.CONFIRM_KEY)}),setTimeout(function(){x.focus(),l.setActionValue("")},0)},g=function(x,v,p){var h=document.createElement(v),y=d+"__"+v;h.classList.add(y);for(var b in p){var _=p[b];h[b]=_}v==="input"&&f(h),x.appendChild(h)},m=function(x){if(x){var v=a.injectElIntoModal(o.contentMarkup),p=x.element,h=x.attributes;typeof p=="string"?g(v,p,h):v.appendChild(p)}};n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),a=i(2),o=function(){var l=s.stringToNode(a.overlayMarkup);document.body.appendChild(l)};n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(5),a=i(6),o=i(1),l=i(3),u=i(0),c=u.default.MODAL,d=u.default.BUTTON,f=u.default.OVERLAY,g=function(C){C.preventDefault(),h()},m=function(C){C.preventDefault(),y()},x=function(C){if(s.default.isOpen)switch(C.key){case"Escape":return a.onAction(l.CANCEL_KEY)}},v=function(C){if(s.default.isOpen)switch(C.key){case"Tab":return g(C)}},p=function(C){if(s.default.isOpen)return C.key==="Tab"&&C.shiftKey?m(C):void 0},h=function(){var C=o.getNode(d);C&&(C.tabIndex=0,C.focus())},y=function(){var C=o.getNode(c),E=C.querySelectorAll("."+d),M=E.length-1,I=E[M];I&&I.focus()},b=function(C){C[C.length-1].addEventListener("keydown",v)},_=function(C){C[0].addEventListener("keydown",p)},w=function(){var C=o.getNode(c),E=C.querySelectorAll("."+d);E.length&&(b(E),_(E))},D=function(C){if(o.getNode(f)===C.target)return a.onAction(l.CANCEL_KEY)},S=function(C){var E=o.getNode(f);E.removeEventListener("click",D),C&&E.addEventListener("click",D)},A=function(C){s.default.timer&&clearTimeout(s.default.timer),C&&(s.default.timer=window.setTimeout(function(){return a.onAction(l.CANCEL_KEY)},C))},k=function(C){C.closeOnEsc?document.addEventListener("keyup",x):document.removeEventListener("keyup",x),C.dangerMode?h():y(),w(),S(C.closeOnClickOutside),A(C.timer)};n.default=k},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),a=i(3),o=i(37),l=i(38),u={title:null,text:null,icon:null,buttons:a.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},c=Object.assign({},u);n.setDefaults=function(p){c=Object.assign({},u,p)};var d=function(p){var h=p&&p.button,y=p&&p.buttons;return h!==void 0&&y!==void 0&&s.throwErr("Cannot set both 'button' and 'buttons' options!"),h!==void 0?{confirm:h}:y},f=function(p){return s.ordinalSuffixOf(p+1)},g=function(p,h){s.throwErr(f(h)+" argument ('"+p+"') is invalid")},m=function(p,h){var y=p+1,b=h[y];s.isPlainObject(b)||b===void 0||s.throwErr("Expected "+f(y)+" argument ('"+b+"') to be a plain object")},x=function(p,h){var y=p+1,b=h[y];b!==void 0&&s.throwErr("Unexpected "+f(y)+" argument ("+b+")")},v=function(p,h,y,b){var _=typeof h,w=_==="string",D=h instanceof Element;if(w){if(y===0)return{text:h};if(y===1)return{text:h,title:b[0]};if(y===2)return m(y,b),{icon:h};g(h,y)}else{if(D&&y===0)return m(y,b),{content:h};if(s.isPlainObject(h))return x(y,b),h;g(h,y)}};n.getOpts=function(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];var y={};p.forEach(function(w,D){var S=v(0,w,D,p);Object.assign(y,S)});var b=d(y);y.buttons=a.getButtonListOpts(b),delete y.button,y.content=o.getContentOpts(y.content);var _=Object.assign({},u,c,y);return Object.keys(_).forEach(function(w){l.DEPRECATED_OPTS[w]&&l.logDeprecation(w)}),_}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),a={element:"input",attributes:{placeholder:""}};n.getContentOpts=function(o){var l={};return s.isPlainObject(o)?Object.assign(l,o):o instanceof Element?{element:o}:o==="input"?a:null}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.logDeprecation=function(s){var a=n.DEPRECATED_OPTS[s],o=a.onlyRename,l=a.replacement,u=a.subOption,c=a.link,d=o?"renamed":"deprecated",f='SweetAlert warning: "'+s+'" option has been '+d+".";l&&(f+=" Please use"+(u?' "'+u+'" in ':" ")+'"'+l+'" instead.');var g="https://sweetalert.js.org";f+=c?" More details: "+g+c:" More details: "+g+"/guides/#upgrading-from-1x",console.warn(f)},n.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])})})(hC);var ta=n$(hC.exports);function Ce(){function e(o){return ta({title:"Sucesso",text:o,icon:"success"})}function t(o){return ta({title:"Aviso",text:o,icon:"warning"})}function r(o,l){return ta({title:o,text:l,icon:"warning"})}function n(o){return ta({title:"Erro",text:o,icon:"error"})}function i(o){return ta({title:"Informa\xE7\xE3o",text:o,icon:"info"})}function s(o){return ta({title:"Confirma\xE7\xE3o",text:o,icon:"warning",buttons:["N\xE3o","Sim"],dangerMode:!0,closeOnClickOutside:!1,closeOnEsc:!1})}function a(){(async()=>{const{value:o}=await ta.fire({title:"Selecionar Servico por imprimir",html:`
          <div class="q-pa-md">
            <input type="checkbox" id="tarvCheckbox" >
            <label for="tarvCheckbox">TARV</label>
    
            <input type="checkbox" id="tbCheckbox" >
            <label for="tbCheckbox">TB</label>
    
            <input type="checkbox" id="smiCheckbox" >
            <label for="smiCheckbox">SMI</label>
          </div>
        `,focusConfirm:!1,preConfirm:()=>[document.getElementById("tarv-input1").value,document.getElementById("tb-input2").value,document.getElementById("tb-input2").value]});if(o)return ta.fire(JSON.stringify(o))})()}return{alertSucess:e,alertWarning:t,alertWarningTitle:r,alertError:n,alertInfo:i,alertWarningAction:s,confirmeServiceReport:a}}let Ml,by,c1=0,mo=null,Ut={},Ro={};const pC={group:"__default_quasar_group__",delay:0,message:!1,html:!1,spinnerSize:80,spinnerColor:"",messageColor:"",backgroundColor:"",boxClass:"",spinner:Za,customClass:""},gC={...pC};function o$(e){if(e&&e.group!==void 0&&Ro[e.group]!==void 0)return Object.assign(Ro[e.group],e);const t=Un(e)===!0&&e.ignoreDefaults===!0?{...pC,...e}:{...gC,...e};return Ro[t.group]=t,t}const Or=ef({isActive:!1},{show(e){Ut=o$(e);const{group:t}=Ut;return Or.isActive=!0,Ml!==void 0?(Ut.uid=c1,by.$forceUpdate()):(Ut.uid=++c1,mo!==null&&clearTimeout(mo),mo=setTimeout(()=>{mo=null;const r=ng("q-loading");Ml=qb({name:"QLoading",setup(){ur(()=>{dm(!0)});function n(){Or.isActive!==!0&&Ml!==void 0&&(dm(!1),Ml.unmount(r),jb(r),Ml=void 0,by=void 0)}function i(){if(Or.isActive!==!0)return null;const s=[$(Ut.spinner,{class:"q-loading__spinner",color:Ut.spinnerColor,size:Ut.spinnerSize})];return Ut.message&&s.push($("div",{class:"q-loading__message"+(Ut.messageColor?` text-${Ut.messageColor}`:""),[Ut.html===!0?"innerHTML":"textContent"]:Ut.message})),$("div",{class:"q-loading fullscreen flex flex-center z-max "+Ut.customClass.trim(),key:Ut.uid},[$("div",{class:"q-loading__backdrop"+(Ut.backgroundColor?` bg-${Ut.backgroundColor}`:"")}),$("div",{class:"q-loading__box column items-center "+Ut.boxClass},s)])}return()=>$(Xa,{name:"q-transition--fade",appear:!0,onAfterLeave:n},i)}},Or.__parentApp),by=Ml.mount(r)},Ut.delay)),r=>{if(r===void 0||Object(r)!==r){Or.hide(t);return}Or.show({...r,group:t})}},hide(e){if(Or.isActive===!0){if(e===void 0)Ro={};else{if(Ro[e]===void 0)return;{delete Ro[e];const t=Object.keys(Ro);if(t.length!==0){const r=t[t.length-1];Or.show({group:r});return}}}mo!==null&&(clearTimeout(mo),mo=null),Or.isActive=!1}},setDefaults(e){Un(e)===!0&&Object.assign(gC,e)},install({$q:e,parentApp:t}){e.loading=this,Or.__parentApp=t,e.config.loading!==void 0&&this.setDefaults(e.config.loading)}}),l$=[$("g",{transform:"translate(-20,-20)"},[$("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[$("animateTransform",{attributeName:"transform",type:"rotate",from:"90 50 50",to:"0 50 50",dur:"1s",repeatCount:"indefinite"})])]),$("g",{transform:"translate(20,20) rotate(15 50 50)"},[$("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[$("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"90 50 50",dur:"1s",repeatCount:"indefinite"})])])];var c$=ct({name:"QSpinnerGears",props:ig,setup(e){const{cSize:t,classes:r}=sg(e);return()=>$("svg",{class:r.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},l$)}});const u$=[$("g",{transform:"translate(20 50)"},[$("rect",{x:"-10",y:"-30",width:"20",height:"60",fill:"currentColor",opacity:"0.6"},[$("animateTransform",{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"})])]),$("g",{transform:"translate(50 50)"},[$("rect",{x:"-10",y:"-30",width:"20",height:"60",fill:"currentColor",opacity:"0.8"},[$("animateTransform",{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0.1s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"})])]),$("g",{transform:"translate(80 50)"},[$("rect",{x:"-10",y:"-30",width:"20",height:"60",fill:"currentColor",opacity:"0.9"},[$("animateTransform",{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0.2s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"})])])];var d$=ct({name:"QSpinnerFacebook",props:ig,setup(e){const{cSize:t,classes:r}=sg(e);return()=>$("svg",{class:r.value,width:t.value,height:t.value,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},u$)}});const f$=[$("g",{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"},[$("circle",{cx:"5",cy:"50",r:"5"},[$("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;5;50;50",calcMode:"linear",repeatCount:"indefinite"}),$("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",values:"5;27;49;5",calcMode:"linear",repeatCount:"indefinite"})]),$("circle",{cx:"27",cy:"5",r:"5"},[$("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",from:"5",to:"5",values:"5;50;50;5",calcMode:"linear",repeatCount:"indefinite"}),$("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",from:"27",to:"27",values:"27;49;5;27",calcMode:"linear",repeatCount:"indefinite"})]),$("circle",{cx:"49",cy:"50",r:"5"},[$("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;50;5;50",calcMode:"linear",repeatCount:"indefinite"}),$("animate",{attributeName:"cx",from:"49",to:"49",begin:"0s",dur:"2.2s",values:"49;5;27;49",calcMode:"linear",repeatCount:"indefinite"})])])];var h$=ct({name:"QSpinnerBall",props:ig,setup(e){const{cSize:t,classes:r}=sg(e);return()=>$("svg",{class:r.value,stroke:"currentColor",width:t.value,height:t.value,viewBox:"0 0 57 57",xmlns:"http://www.w3.org/2000/svg"},f$)}});function ut(){function e(i,s,a,o,l){return Or.show({spinner:c$,spinnerColor:i,spinnerSize:s,messageColor:a,backgroundColor:o,message:l})}function t(i,s,a,o,l){return Or.show({spinner:d$,spinnerColor:i,spinnerSize:s,messageColor:a,backgroundColor:o,message:l})}function r(){return Or.show({spinner:h$,spinnerColor:"gray",spinnerSize:140,message:"Carregando, aguarde por favor...",messageColor:"white"})}function n(){return Or.hide()}return{QSpinnerGearsShow:e,QSpinnerFacebookShow:t,closeLoading:n,showloading:r}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fm=function(e,t){return Fm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Fm(e,t)};function p$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Fm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Oe=function(){return Oe=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Oe.apply(this,arguments)};function bp(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var cr=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,rr=Object.keys,kt=Array.isArray;typeof Promise!="undefined"&&!cr.Promise&&(cr.Promise=Promise);function Sn(e,t){return typeof t!="object"||rr(t).forEach(function(r){e[r]=t[r]}),e}var Ic=Object.getPrototypeOf,g$={}.hasOwnProperty;function Gr(e,t){return g$.call(e,t)}function Bc(e,t){typeof t=="function"&&(t=t(Ic(e))),(typeof Reflect=="undefined"?rr:Reflect.ownKeys)(t).forEach(function(r){eo(e,r,t[r])})}var yC=Object.defineProperty;function eo(e,t,r,n){yC(e,t,Sn(r&&Gr(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function Wc(e){return{from:function(t){return e.prototype=Object.create(t.prototype),eo(e.prototype,"constructor",e),{extend:Bc.bind(null,e.prototype)}}}}var y$=Object.getOwnPropertyDescriptor;function vC(e,t){var r=y$(e,t),n;return r||(n=Ic(e))&&vC(n,t)}var v$=[].slice;function Eg(e,t,r){return v$.call(e,t,r)}function mC(e,t){return t(e)}function Wu(e){if(!e)throw new Error("Assertion Failed")}function bC(e){cr.setImmediate?setImmediate(e):setTimeout(e,0)}function m$(e,t){return e.reduce(function(r,n,i){var s=t(n,i);return s&&(r[s[0]]=s[1]),r},{})}function Ns(e,t){if(typeof t=="string"&&Gr(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var r=[],n=0,i=t.length;n<i;++n){var s=Ns(e,t[n]);r.push(s)}return r}var a=t.indexOf(".");if(a!==-1){var o=e[t.substr(0,a)];return o==null?void 0:Ns(o,t.substr(a+1))}}function xn(e,t,r){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Wu(typeof r!="string"&&"length"in r);for(var n=0,i=t.length;n<i;++n)xn(e,t[n],r[n])}else{var s=t.indexOf(".");if(s!==-1){var a=t.substr(0,s),o=t.substr(s+1);if(o==="")r===void 0?kt(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=r;else{var l=e[a];(!l||!Gr(e,a))&&(l=e[a]={}),xn(l,o,r)}}else r===void 0?kt(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function b$(e,t){typeof t=="string"?xn(e,t,void 0):"length"in t&&[].map.call(t,function(r){xn(e,r,void 0)})}function _C(e){var t={};for(var r in e)Gr(e,r)&&(t[r]=e[r]);return t}var _$=[].concat;function xC(e){return _$.apply([],e)}var x$="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(xC([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return cr[e]}),wC=new Set(x$.map(function(e){return cr[e]}));function SC(e){var t={};for(var r in e)if(Gr(e,r)){var n=e[r];t[r]=!n||typeof n!="object"||wC.has(n.constructor)?n:SC(n)}return t}function w$(e){for(var t in e)if(Gr(e,t))return!1;return!0}var cd=null;function to(e){cd=new WeakMap;var t=Tm(e);return cd=null,t}function Tm(e){if(!e||typeof e!="object")return e;var t=cd.get(e);if(t)return t;if(kt(e)){t=[],cd.set(e,t);for(var r=0,n=e.length;r<n;++r)t.push(Tm(e[r]))}else if(wC.has(e.constructor))t=e;else{var i=Ic(e);t=i===Object.prototype?{}:Object.create(i),cd.set(e,t);for(var s in e)Gr(e,s)&&(t[s]=Tm(e[s]))}return t}var S$={}.toString;function Pm(e){return S$.call(e).slice(8,-1)}var Rm=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",D$=typeof Rm=="symbol"?function(e){var t;return e!=null&&(t=e[Rm])&&t.apply(e)}:function(){return null};function Oo(e,t){var r=e.indexOf(t);return r>=0&&e.splice(r,1),r>=0}var tc={};function fs(e){var t,r,n,i;if(arguments.length===1){if(kt(e))return e.slice();if(this===tc&&typeof e=="string")return[e];if(i=D$(e)){for(r=[];n=i.next(),!n.done;)r.push(n.value);return r}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}var A_=typeof Symbol!="undefined"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},A$=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],DC=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],k_=A$.concat(DC),k$={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function jc(e,t){this.name=e,this.message=t}Wc(jc).from(Error).extend({toString:function(){return this.name+": "+this.message}});function AC(e,t){return e+". Errors: "+Object.keys(t).map(function(r){return t[r].toString()}).filter(function(r,n,i){return i.indexOf(r)===n}).join(`
`)}function _p(e,t,r,n){this.failures=t,this.failedKeys=n,this.successCount=r,this.message=AC(e,t)}Wc(_p).from(jc);function sc(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(r){return t[r]}),this.failuresByPos=t,this.message=AC(e,this.failures)}Wc(sc).from(jc);var E_=k_.reduce(function(e,t){return e[t]=t+"Error",e},{}),E$=jc,Se=k_.reduce(function(e,t){var r=t+"Error";function n(i,s){this.name=r,i?typeof i=="string"?(this.message="".concat(i).concat(s?`
 `+s:""),this.inner=s||null):typeof i=="object"&&(this.message="".concat(i.name," ").concat(i.message),this.inner=i):(this.message=k$[t]||r,this.inner=null)}return Wc(n).from(E$),e[t]=n,e},{});Se.Syntax=SyntaxError;Se.Type=TypeError;Se.Range=RangeError;var u1=DC.reduce(function(e,t){return e[t+"Error"]=Se[t],e},{});function C$(e,t){if(!e||e instanceof jc||e instanceof TypeError||e instanceof SyntaxError||!e.name||!u1[e.name])return e;var r=new u1[e.name](t||e.message,e);return"stack"in e&&eo(r,"stack",{get:function(){return this.inner.stack}}),r}var Cg=k_.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=Se[t]),e},{});Cg.ModifyError=_p;Cg.DexieError=jc;Cg.BulkError=sc;function st(){}function ff(e){return e}function O$(e,t){return e==null||e===ff?t:function(r){return t(e(r))}}function dl(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function M$(e,t){return e===st?t:function(){var r=e.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?dl(n,this.onsuccess):n),i&&(this.onerror=this.onerror?dl(i,this.onerror):i),s!==void 0?s:r}}function I$(e,t){return e===st?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?dl(r,this.onsuccess):r),n&&(this.onerror=this.onerror?dl(n,this.onerror):n)}}function B$(e,t){return e===st?t:function(r){var n=e.apply(this,arguments);Sn(r,n);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?dl(i,this.onsuccess):i),s&&(this.onerror=this.onerror?dl(s,this.onerror):s),n===void 0?a===void 0?void 0:a:Sn(n,a)}}function F$(e,t){return e===st?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function C_(e,t){return e===st?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return r.then(function(){return t.apply(n,s)})}return t.apply(this,arguments)}}var Vi=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function kC(e,t){Vi=e}var Yd={},EC=100,O_=typeof Promise=="undefined"?[]:function(){var e=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[e,Ic(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Ic(t),e]}(),d1=O_[0],f1=O_[1],T$=O_[2],P$=f1&&f1.then,ud=d1&&d1.constructor,M_=!!T$;function R$(){queueMicrotask(N$)}var Hd=function(e,t){ju.push([e,t]),xp&&(R$(),xp=!1)},$m=!0,xp=!0,Zo=[],P0=[],Nm=ff,Ua={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:st,pgp:!1,env:{},finalize:st},me=Ua,ju=[],el=0,R0=[];function pe(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=me;if(typeof e!="function"){if(e!==Yd)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&qm(this,this._value);return}this._state=null,this._value=null,++t.ref,OC(this,e)}var Lm={get:function(){var e=me,t=wp;function r(n,i){var s=this,a=!e.global&&(e!==me||t!==wp),o=a&&!no(),l=new pe(function(u,c){I_(s,new CC(h1(n,e,a,o),h1(i,e,a,o),u,c,e))});return this._consoleTask&&(l._consoleTask=this._consoleTask),l}return r.prototype=Yd,r},set:function(e){eo(this,"then",e&&e.prototype===Yd?Lm:{get:function(){return e},set:Lm.set})}};Bc(pe.prototype,{then:Lm,_then:function(e,t){I_(this,new CC(null,null,e,t,me))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],r=arguments[1];return typeof t=="function"?this.then(null,function(n){return n instanceof t?r(n):$0(n)}):this.then(null,function(n){return n&&n.name===t?r(n):$0(n)})},finally:function(e){return this.then(function(t){return pe.resolve(e()).then(function(){return t})},function(t){return pe.resolve(e()).then(function(){return $0(t)})})},timeout:function(e,t){var r=this;return e<1/0?new pe(function(n,i){var s=setTimeout(function(){return i(new Se.Timeout(t))},e);r.then(n,i).finally(clearTimeout.bind(null,s))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&eo(pe.prototype,Symbol.toStringTag,"Dexie.Promise");Ua.env=IC();function CC(e,t,r,n,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=r,this.reject=n,this.psd=i}Bc(pe,{all:function(){var e=fs.apply(null,arguments).map(Sp);return new pe(function(t,r){e.length===0&&t([]);var n=e.length;e.forEach(function(i,s){return pe.resolve(i).then(function(a){e[s]=a,--n||t(e)},r)})})},resolve:function(e){if(e instanceof pe)return e;if(e&&typeof e.then=="function")return new pe(function(r,n){e.then(r,n)});var t=new pe(Yd,!0,e);return t},reject:$0,race:function(){var e=fs.apply(null,arguments).map(Sp);return new pe(function(t,r){e.map(function(n){return pe.resolve(n).then(t,r)})})},PSD:{get:function(){return me},set:function(e){return me=e}},totalEchoes:{get:function(){return wp}},newPSD:ro,usePSD:fl,scheduler:{get:function(){return Hd},set:function(e){Hd=e}},rejectionMapper:{get:function(){return Nm},set:function(e){Nm=e}},follow:function(e,t){return new pe(function(r,n){return ro(function(i,s){var a=me;a.unhandleds=[],a.onunhandled=s,a.finalize=dl(function(){var o=this;L$(function(){o.unhandleds.length===0?i():s(o.unhandleds[0])})},a.finalize),e()},t,r,n)})}});ud&&(ud.allSettled&&eo(pe,"allSettled",function(){var e=fs.apply(null,arguments).map(Sp);return new pe(function(t){e.length===0&&t([]);var r=e.length,n=new Array(r);e.forEach(function(i,s){return pe.resolve(i).then(function(a){return n[s]={status:"fulfilled",value:a}},function(a){return n[s]={status:"rejected",reason:a}}).then(function(){return--r||t(n)})})})}),ud.any&&typeof AggregateError!="undefined"&&eo(pe,"any",function(){var e=fs.apply(null,arguments).map(Sp);return new pe(function(t,r){e.length===0&&r(new AggregateError([]));var n=e.length,i=new Array(n);e.forEach(function(s,a){return pe.resolve(s).then(function(o){return t(o)},function(o){i[a]=o,--n||r(new AggregateError(i))})})})}));function OC(e,t){try{t(function(r){if(e._state===null){if(r===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Yc();r&&typeof r.then=="function"?OC(e,function(i,s){r instanceof pe?r._then(i,s):r.then(i,s)}):(e._state=!0,e._value=r,MC(e)),n&&Hc()}},qm.bind(null,e))}catch(r){qm(e,r)}}function qm(e,t){if(P0.push(t),e._state===null){var r=e._lib&&Yc();t=Nm(t),e._state=!1,e._value=t,q$(e),MC(e),r&&Hc()}}function MC(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)I_(e,t[r]);var i=e._PSD;--i.ref||i.finalize(),el===0&&(++el,Hd(function(){--el===0&&B_()},[]))}function I_(e,t){if(e._state===null){e._listeners.push(t);return}var r=e._state?t.onFulfilled:t.onRejected;if(r===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++el,Hd($$,[r,e,t])}function $$(e,t,r){try{var n,i=t._value;!t._state&&P0.length&&(P0=[]),n=Vi&&t._consoleTask?t._consoleTask.run(function(){return e(i)}):e(i),!t._state&&P0.indexOf(i)===-1&&W$(t),r.resolve(n)}catch(s){r.reject(s)}finally{--el===0&&B_(),--r.psd.ref||r.psd.finalize()}}function N$(){fl(Ua,function(){Yc()&&Hc()})}function Yc(){var e=$m;return $m=!1,xp=!1,e}function Hc(){var e,t,r;do for(;ju.length>0;)for(e=ju,ju=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}while(ju.length>0);$m=!0,xp=!0}function B_(){var e=Zo;Zo=[],e.forEach(function(n){n._PSD.onunhandled.call(null,n._value,n)});for(var t=R0.slice(0),r=t.length;r;)t[--r]()}function L$(e){function t(){e(),R0.splice(R0.indexOf(t),1)}R0.push(t),++el,Hd(function(){--el===0&&B_()},[])}function q$(e){Zo.some(function(t){return t._value===e._value})||Zo.push(e)}function W$(e){for(var t=Zo.length;t;)if(Zo[--t]._value===e._value){Zo.splice(t,1);return}}function $0(e){return new pe(Yd,!1,e)}function St(e,t){var r=me;return function(){var n=Yc(),i=me;try{return io(r,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{io(i,!1),n&&Hc()}}}var er={awaits:0,echoes:0,id:0},j$=0,N0=[],L0=0,wp=0,Y$=0;function ro(e,t,r,n){var i=me,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++Y$,Ua.env,s.env=M_?{Promise:pe,PromiseProp:{value:pe,configurable:!0,writable:!0},all:pe.all,race:pe.race,allSettled:pe.allSettled,any:pe.any,resolve:pe.resolve,reject:pe.reject}:{},t&&Sn(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=fl(s,e,r,n);return s.ref===0&&s.finalize(),a}function Kc(){return er.id||(er.id=++j$),++er.awaits,er.echoes+=EC,er.id}function no(){return er.awaits?(--er.awaits===0&&(er.id=0),er.echoes=er.awaits*EC,!0):!1}(""+P$).indexOf("[native code]")===-1&&(Kc=no=st);function Sp(e){return er.echoes&&e&&e.constructor===ud?(Kc(),e.then(function(t){return no(),t},function(t){return no(),It(t)})):e}function H$(e){++wp,(!er.echoes||--er.echoes===0)&&(er.echoes=er.awaits=er.id=0),N0.push(me),io(e,!0)}function K$(){var e=N0[N0.length-1];N0.pop(),io(e,!1)}function io(e,t){var r=me;if((t?er.echoes&&(!L0++||e!==me):L0&&(!--L0||e!==me))&&queueMicrotask(t?H$.bind(null,e):K$),e!==me&&(me=e,r===Ua&&(Ua.env=IC()),M_)){var n=Ua.env.Promise,i=e.env;(r.global||e.global)&&(Object.defineProperty(cr,"Promise",i.PromiseProp),n.all=i.all,n.race=i.race,n.resolve=i.resolve,n.reject=i.reject,i.allSettled&&(n.allSettled=i.allSettled),i.any&&(n.any=i.any))}}function IC(){var e=cr.Promise;return M_?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(cr,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function fl(e,t,r,n,i){var s=me;try{return io(e,!0),t(r,n,i)}finally{io(s,!1)}}function h1(e,t,r,n){return typeof e!="function"?e:function(){var i=me;r&&Kc(),io(t,!0);try{return e.apply(this,arguments)}finally{io(i,!1),n&&queueMicrotask(no)}}}function _y(e){Promise===ud&&er.echoes===0?L0===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}var It=pe.reject;function Wm(e,t,r,n){if(!e.idbdb||!e._state.openComplete&&!me.letThrough&&!e._vip){if(e._state.openComplete)return It(new Se.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._state.autoOpen)return It(new Se.DatabaseClosed);e.open().catch(st)}return e._state.dbReadyPromise.then(function(){return Wm(e,t,r,n)})}else{var i=e._createTransaction(t,r,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===E_.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e.close({disableAutoOpen:!1}),e.open().then(function(){return Wm(e,t,r,n)})):It(s)}return i._promise(t,function(s,a){return ro(function(){return me.trans=i,n(s,a,i)})}).then(function(s){if(t==="readwrite")try{i.idbtrans.commit()}catch{}return t==="readonly"?s:i._completion.then(function(){return s})})}}var p1="4.0.7",$o=String.fromCharCode(65535),jm=-1/0,Qi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",BC="String expected.",Dc=[],Og="__dbnames",xy="readonly",wy="readwrite";function hl(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var FC={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ff(e){return typeof e=="string"&&!/\./.test(e)?function(t){return t[e]===void 0&&e in t&&(t=to(t),delete t[e]),t}:function(t){return t}}function V$(){throw Se.Type()}function Xe(e,t){try{var r=g1(e),n=g1(t);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return z$(y1(e),y1(t));case"Array":return U$(e,t)}}catch{}return NaN}function U$(e,t){for(var r=e.length,n=t.length,i=r<n?r:n,s=0;s<i;++s){var a=Xe(e[s],t[s]);if(a!==0)return a}return r===n?0:r<n?-1:1}function z$(e,t){for(var r=e.length,n=t.length,i=r<n?r:n,s=0;s<i;++s)if(e[s]!==t[s])return e[s]<t[s]?-1:1;return r===n?0:r<n?-1:1}function g1(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var r=Pm(e);return r==="ArrayBuffer"?"binary":r}function y1(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var TC=function(){function e(){}return e.prototype._trans=function(t,r,n){var i=this._tx||me.trans,s=this.name,a=Vi&&typeof console!="undefined"&&console.createTask&&console.createTask("Dexie: ".concat(t==="readonly"?"read":"write"," ").concat(this.name));function o(c,d,f){if(!f.schema[s])throw new Se.NotFound("Table "+s+" not part of transaction");return r(f.idbtrans,f)}var l=Yc();try{var u=i&&i.db._novip===this.db._novip?i===me.trans?i._promise(t,o,n):ro(function(){return i._promise(t,o,n)},{trans:i,transless:me.transless||me}):Wm(this.db,t,[this.name],o);return a&&(u._consoleTask=a,u=u.catch(function(c){return console.trace(c),It(c)})),u}finally{l&&Hc()}},e.prototype.get=function(t,r){var n=this;return t&&t.constructor===Object?this.where(t).first(r):t==null?It(new Se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(i){return n.core.get({trans:i,key:t}).then(function(s){return n.hook.reading.fire(s)})}).then(r)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(kt(t))return new this.db.WhereClause(this,"[".concat(t.join("+"),"]"));var r=rr(t);if(r.length===1)return this.where(r[0]).equals(t[r[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(d){if(d.compound&&r.every(function(g){return d.keyPath.indexOf(g)>=0})){for(var f=0;f<r.length;++f)if(r.indexOf(d.keyPath[f])===-1)return!1;return!0}return!1}).sort(function(d,f){return d.keyPath.length-f.keyPath.length})[0];if(n&&this.db._maxKey!==$o){var i=n.keyPath.slice(0,r.length);return this.where(i).equals(i.map(function(d){return t[d]}))}!n&&Vi&&console.warn("The query ".concat(JSON.stringify(t)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(r.join("+"),"]"));var s=this.schema.idxByName,a=this.db._deps.indexedDB;function o(d,f){return a.cmp(d,f)===0}var l=r.reduce(function(d,f){var g=d[0],m=d[1],x=s[f],v=t[f];return[g||x,g||!x?hl(m,x&&x.multi?function(p){var h=Ns(p,f);return kt(h)&&h.some(function(y){return o(v,y)})}:function(p){return o(v,Ns(p,f))}):m]},[null,null]),u=l[0],c=l[1];return u?this.where(u.name).equals(t[u.keyPath]).filter(c):n?this.filter(c):this.where(r).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,kt(t)?"[".concat(t.join("+"),"]"):t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){var r=this,n=r.db,i=r.name;this.schema.mappedClass=t,t.prototype instanceof V$&&(t=function(l){p$(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(u.prototype,"db",{get:function(){return n},enumerable:!1,configurable:!0}),u.prototype.table=function(){return i},u}(t));for(var s=new Set,a=t.prototype;a;a=Ic(a))Object.getOwnPropertyNames(a).forEach(function(l){return s.add(l)});var o=function(l){if(!l)return l;var u=Object.create(t.prototype);for(var c in l)if(!s.has(c))try{u[c]=l[c]}catch{}return u};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=o,this.hook("reading",o),t},e.prototype.defineClass=function(){function t(r){Sn(this,r)}return this.mapToClass(t)},e.prototype.add=function(t,r){var n=this,i=this.schema.primKey,s=i.auto,a=i.keyPath,o=t;return a&&s&&(o=Ff(a)(t)),this._trans("readwrite",function(l){return n.core.mutate({trans:l,type:"add",keys:r!=null?[r]:null,values:[o]})}).then(function(l){return l.numFailures?pe.reject(l.failures[0]):l.lastResult}).then(function(l){if(a)try{xn(t,a,l)}catch{}return l})},e.prototype.update=function(t,r){if(typeof t=="object"&&!kt(t)){var n=Ns(t,this.schema.primKey.keyPath);return n===void 0?It(new Se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(r)}else return this.where(":id").equals(t).modify(r)},e.prototype.put=function(t,r){var n=this,i=this.schema.primKey,s=i.auto,a=i.keyPath,o=t;return a&&s&&(o=Ff(a)(t)),this._trans("readwrite",function(l){return n.core.mutate({trans:l,type:"put",values:[o],keys:r!=null?[r]:null})}).then(function(l){return l.numFailures?pe.reject(l.failures[0]):l.lastResult}).then(function(l){if(a)try{xn(t,a,l)}catch{}return l})},e.prototype.delete=function(t){var r=this;return this._trans("readwrite",function(n){return r.core.mutate({trans:n,type:"delete",keys:[t]})}).then(function(n){return n.numFailures?pe.reject(n.failures[0]):void 0})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"deleteRange",range:FC})}).then(function(r){return r.numFailures?pe.reject(r.failures[0]):void 0})},e.prototype.bulkGet=function(t){var r=this;return this._trans("readonly",function(n){return r.core.getMany({keys:t,trans:n}).then(function(i){return i.map(function(s){return r.hook.reading.fire(s)})})})},e.prototype.bulkAdd=function(t,r,n){var i=this,s=Array.isArray(r)?r:void 0;n=n||(s?void 0:r);var a=n?n.allKeys:void 0;return this._trans("readwrite",function(o){var l=i.schema.primKey,u=l.auto,c=l.keyPath;if(c&&s)throw new Se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==t.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var d=t.length,f=c&&u?t.map(Ff(c)):t;return i.core.mutate({trans:o,type:"add",keys:s,values:f,wantResults:a}).then(function(g){var m=g.numFailures,x=g.results,v=g.lastResult,p=g.failures,h=a?x:v;if(m===0)return h;throw new sc("".concat(i.name,".bulkAdd(): ").concat(m," of ").concat(d," operations failed"),p)})})},e.prototype.bulkPut=function(t,r,n){var i=this,s=Array.isArray(r)?r:void 0;n=n||(s?void 0:r);var a=n?n.allKeys:void 0;return this._trans("readwrite",function(o){var l=i.schema.primKey,u=l.auto,c=l.keyPath;if(c&&s)throw new Se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==t.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var d=t.length,f=c&&u?t.map(Ff(c)):t;return i.core.mutate({trans:o,type:"put",keys:s,values:f,wantResults:a}).then(function(g){var m=g.numFailures,x=g.results,v=g.lastResult,p=g.failures,h=a?x:v;if(m===0)return h;throw new sc("".concat(i.name,".bulkPut(): ").concat(m," of ").concat(d," operations failed"),p)})})},e.prototype.bulkUpdate=function(t){var r=this,n=this.core,i=t.map(function(o){return o.key}),s=t.map(function(o){return o.changes}),a=[];return this._trans("readwrite",function(o){return n.getMany({trans:o,keys:i,cache:"clone"}).then(function(l){var u=[],c=[];t.forEach(function(f,g){var m=f.key,x=f.changes,v=l[g];if(v){for(var p=0,h=Object.keys(x);p<h.length;p++){var y=h[p],b=x[y];if(y===r.schema.primKey.keyPath){if(Xe(b,m)!==0)throw new Se.Constraint("Cannot update primary key in bulkUpdate()")}else xn(v,y,b)}a.push(g),u.push(m),c.push(v)}});var d=u.length;return n.mutate({trans:o,type:"put",keys:u,values:c,updates:{keys:i,changeSpecs:s}}).then(function(f){var g=f.numFailures,m=f.failures;if(g===0)return d;for(var x=0,v=Object.keys(m);x<v.length;x++){var p=v[x],h=a[Number(p)];if(h!=null){var y=m[p];delete m[p],m[h]=y}}throw new sc("".concat(r.name,".bulkUpdate(): ").concat(g," of ").concat(d," operations failed"),m)})})})},e.prototype.bulkDelete=function(t){var r=this,n=t.length;return this._trans("readwrite",function(i){return r.core.mutate({trans:i,type:"delete",keys:t})}).then(function(i){var s=i.numFailures,a=i.lastResult,o=i.failures;if(s===0)return a;throw new sc("".concat(r.name,".bulkDelete(): ").concat(s," of ").concat(n," operations failed"),o)})},e}();function hf(e){var t={},r=function(o,l){if(l){for(var u=arguments.length,c=new Array(u-1);--u;)c[u-1]=arguments[u];return t[o].subscribe.apply(null,c),e}else if(typeof o=="string")return t[o]};r.addEventType=s;for(var n=1,i=arguments.length;n<i;++n)s(arguments[n]);return r;function s(o,l,u){if(typeof o=="object")return a(o);l||(l=F$),u||(u=st);var c={subscribers:[],fire:u,subscribe:function(d){c.subscribers.indexOf(d)===-1&&(c.subscribers.push(d),c.fire=l(c.fire,d))},unsubscribe:function(d){c.subscribers=c.subscribers.filter(function(f){return f!==d}),c.fire=c.subscribers.reduce(l,u)}};return t[o]=r[o]=c,c}function a(o){rr(o).forEach(function(l){var u=o[l];if(kt(u))s(l,o[l][0],o[l][1]);else if(u==="asap")var c=s(l,ff,function(){for(var f=arguments.length,g=new Array(f);f--;)g[f]=arguments[f];c.subscribers.forEach(function(m){bC(function(){m.apply(null,g)})})});else throw new Se.InvalidArgument("Invalid event config")})}}function pf(e,t){return Wc(t).from({prototype:e}),t}function J$(e){return pf(TC.prototype,function(r,n,i){this.db=e,this._tx=i,this.name=r,this.schema=n,this.hook=e._allTables[r]?e._allTables[r].hook:hf(null,{creating:[M$,st],reading:[O$,ff],updating:[B$,st],deleting:[I$,st]})})}function Il(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Sy(e,t){e.filter=hl(e.filter,t)}function Dy(e,t,r){var n=e.replayFilter;e.replayFilter=n?function(){return hl(n(),t())}:t,e.justLimit=r&&!n}function G$(e,t){e.isMatch=hl(e.isMatch,t)}function q0(e,t){if(e.isPrimKey)return t.primaryKey;var r=t.getIndexByKeyPath(e.index);if(!r)throw new Se.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function v1(e,t,r){var n=q0(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:n,range:e.range}})}function Tf(e,t,r,n){var i=e.replayFilter?hl(e.filter,e.replayFilter()):e.filter;if(e.or){var s={},a=function(o,l,u){if(!i||i(l,u,function(f){return l.stop(f)},function(f){return l.fail(f)})){var c=l.primaryKey,d=""+c;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(c)),Gr(s,d)||(s[d]=!0,t(o,l,u))}};return Promise.all([e.or._iterate(a,r),m1(v1(e,n,r),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}else return m1(v1(e,n,r),hl(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function m1(e,t,r,n){var i=n?function(a,o,l){return r(n(a),o,l)}:r,s=St(i);return e.then(function(a){if(a)return a.start(function(){var o=function(){return a.continue()};(!t||t(a,function(l){return o=l},function(l){a.stop(l),o=st},function(l){a.fail(l),o=st}))&&s(a.value,a,function(l){return o=l}),o()})})}var Q$=function(){function e(t){Object.assign(this,t)}return e.prototype.execute=function(t){var r;if(this.add!==void 0){var n=this.add;if(kt(n))return bp(bp([],kt(t)?t:[],!0),n,!0).sort();if(typeof n=="number")return(Number(t)||0)+n;if(typeof n=="bigint")try{return BigInt(t)+n}catch{return BigInt(0)+n}throw new TypeError("Invalid term ".concat(n))}if(this.remove!==void 0){var i=this.remove;if(kt(i))return kt(t)?t.filter(function(a){return!i.includes(a)}).sort():[];if(typeof i=="number")return Number(t)-i;if(typeof i=="bigint")try{return BigInt(t)-i}catch{return BigInt(0)-i}throw new TypeError("Invalid subtrahend ".concat(i))}var s=(r=this.replacePrefix)===null||r===void 0?void 0:r[0];return s&&typeof t=="string"&&t.startsWith(s)?this.replacePrefix[1]+t.substring(s.length):t},e}(),X$=function(){function e(){}return e.prototype._read=function(t,r){var n=this._ctx;return n.error?n.table._trans(null,It.bind(null,n.error)):n.table._trans("readonly",t).then(r)},e.prototype._write=function(t){var r=this._ctx;return r.error?r.table._trans(null,It.bind(null,r.error)):r.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var r=this._ctx;r.algorithm=hl(r.algorithm,t)},e.prototype._iterate=function(t,r){return Tf(this._ctx,t,r,this._ctx.table.core)},e.prototype.clone=function(t){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&Sn(n,t),r._ctx=n,r},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var r=this._ctx;return this._read(function(n){return Tf(r,t,n,r.table.core)})},e.prototype.count=function(t){var r=this;return this._read(function(n){var i=r._ctx,s=i.table.core;if(Il(i,!0))return s.count({trans:n,query:{index:q0(i,s.schema),range:i.range}}).then(function(o){return Math.min(o,i.limit)});var a=0;return Tf(i,function(){return++a,!1},n,s).then(function(){return a})}).then(t)},e.prototype.sortBy=function(t,r){var n=t.split(".").reverse(),i=n[0],s=n.length-1;function a(u,c){return c?a(u[n[c]],c-1):u[i]}var o=this._ctx.dir==="next"?1:-1;function l(u,c){var d=a(u,s),f=a(c,s);return d<f?-o:d>f?o:0}return this.toArray(function(u){return u.sort(l)}).then(r)},e.prototype.toArray=function(t){var r=this;return this._read(function(n){var i=r._ctx;if(i.dir==="next"&&Il(i,!0)&&i.limit>0){var s=i.valueMapper,a=q0(i,i.table.core.schema);return i.table.core.query({trans:n,limit:i.limit,values:!0,query:{index:a,range:i.range}}).then(function(l){var u=l.result;return s?u.map(s):u})}else{var o=[];return Tf(i,function(l){return o.push(l)},n,i.table.core).then(function(){return o})}},t)},e.prototype.offset=function(t){var r=this._ctx;return t<=0?this:(r.offset+=t,Il(r)?Dy(r,function(){var n=t;return function(i,s){return n===0?!0:n===1?(--n,!1):(s(function(){i.advance(n),n=0}),!1)}}):Dy(r,function(){var n=t;return function(){return--n<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Dy(this._ctx,function(){var r=t;return function(n,i,s){return--r<=0&&i(s),r>=0}},!0),this},e.prototype.until=function(t,r){return Sy(this._ctx,function(n,i,s){return t(n.value)?(i(s),r):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(r){return r[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return Sy(this._ctx,function(r){return t(r.value)}),G$(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,i){t(i.key,i)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,i){t(i.primaryKey,i)})},e.prototype.keys=function(t){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(i,s){n.push(s.key)}).then(function(){return n}).then(t)},e.prototype.primaryKeys=function(t){var r=this._ctx;if(r.dir==="next"&&Il(r,!0)&&r.limit>0)return this._read(function(i){var s=q0(r,r.table.core.schema);return r.table.core.query({trans:i,values:!1,limit:r.limit,query:{index:s,range:r.range}})}).then(function(i){var s=i.result;return s}).then(t);r.keysOnly=!r.isMatch;var n=[];return this.each(function(i,s){n.push(s.primaryKey)}).then(function(){return n}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(r){return r[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var n={};return Sy(this._ctx,function(i){var s=i.primaryKey.toString(),a=Gr(n,s);return n[s]=!0,!a}),this},e.prototype.modify=function(t){var r=this,n=this._ctx;return this._write(function(i){var s;if(typeof t=="function")s=t;else{var a=rr(t),o=a.length;s=function(p){for(var h=!1,y=0;y<o;++y){var b=a[y],_=t[b],w=Ns(p,b);_ instanceof Q$?(xn(p,b,_.execute(w)),h=!0):w!==_&&(xn(p,b,_),h=!0)}return h}}var l=n.table.core,u=l.schema.primaryKey,c=u.outbound,d=u.extractKey,f=r.db._options.modifyChunkSize||200,g=[],m=0,x=[],v=function(p,h){var y=h.failures,b=h.numFailures;m+=p-b;for(var _=0,w=rr(y);_<w.length;_++){var D=w[_];g.push(y[D])}};return r.clone().primaryKeys().then(function(p){var h=Il(n)&&n.limit===1/0&&(typeof t!="function"||t===Ay)&&{index:n.index,range:n.range},y=function(b){var _=Math.min(f,p.length-b);return l.getMany({trans:i,keys:p.slice(b,b+_),cache:"immutable"}).then(function(w){for(var D=[],S=[],A=c?[]:null,k=[],C=0;C<_;++C){var E=w[C],M={value:to(E),primKey:p[b+C]};s.call(M,M.value,M)!==!1&&(M.value==null?k.push(p[b+C]):!c&&Xe(d(E),d(M.value))!==0?(k.push(p[b+C]),D.push(M.value)):(S.push(M.value),c&&A.push(p[b+C])))}return Promise.resolve(D.length>0&&l.mutate({trans:i,type:"add",values:D}).then(function(I){for(var P in I.failures)k.splice(parseInt(P),1);v(D.length,I)})).then(function(){return(S.length>0||h&&typeof t=="object")&&l.mutate({trans:i,type:"put",keys:A,values:S,criteria:h,changeSpec:typeof t!="function"&&t,isAdditionalChunk:b>0}).then(function(I){return v(S.length,I)})}).then(function(){return(k.length>0||h&&t===Ay)&&l.mutate({trans:i,type:"delete",keys:k,criteria:h,isAdditionalChunk:b>0}).then(function(I){return v(k.length,I)})}).then(function(){return p.length>b+_&&y(b+f)})})};return y(0).then(function(){if(g.length>0)throw new _p("Error modifying one or more objects",g,m,x);return p.length})})})},e.prototype.delete=function(){var t=this._ctx,r=t.range;return Il(t)&&(t.isPrimKey||r.type===3)?this._write(function(n){var i=t.table.core.schema.primaryKey,s=r;return t.table.core.count({trans:n,query:{index:i,range:s}}).then(function(a){return t.table.core.mutate({trans:n,type:"deleteRange",range:s}).then(function(o){var l=o.failures;o.lastResult,o.results;var u=o.numFailures;if(u)throw new _p("Could not delete some values",Object.keys(l).map(function(c){return l[c]}),a-u);return a-u})})}):this.modify(Ay)},e}(),Ay=function(e,t){return t.value=null};function Z$(e){return pf(X$.prototype,function(r,n){this.db=e;var i=FC,s=null;if(n)try{i=n()}catch(u){s=u}var a=r._ctx,o=a.table,l=o.hook.reading.fire;this._ctx={table:o,index:a.index,isPrimKey:!a.index||o.schema.primKey.keyPath&&a.index===o.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:s,or:a.or,valueMapper:l!==ff?l:null}})}function e5(e,t){return e<t?-1:e===t?0:1}function t5(e,t){return e>t?-1:e===t?0:1}function cn(e,t,r){var n=e instanceof RC?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function Bl(e){return new e.Collection(e,function(){return PC("")}).limit(0)}function r5(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function n5(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function i5(e,t,r,n,i,s){for(var a=Math.min(e.length,n.length),o=-1,l=0;l<a;++l){var u=t[l];if(u!==n[l])return i(e[l],r[l])<0?e.substr(0,l)+r[l]+r.substr(l+1):i(e[l],n[l])<0?e.substr(0,l)+n[l]+r.substr(l+1):o>=0?e.substr(0,o)+t[o]+r.substr(o+1):null;i(e[l],u)<0&&(o=l)}return a<n.length&&s==="next"?e+r.substr(e.length):a<e.length&&s==="prev"?e.substr(0,r.length):o<0?null:e.substr(0,o)+n[o]+r.substr(o+1)}function Pf(e,t,r,n){var i,s,a,o,l,u,c,d=r.length;if(!r.every(function(x){return typeof x=="string"}))return cn(e,BC);function f(x){i=r5(x),s=n5(x),a=x==="next"?e5:t5;var v=r.map(function(p){return{lower:s(p),upper:i(p)}}).sort(function(p,h){return a(p.lower,h.lower)});o=v.map(function(p){return p.upper}),l=v.map(function(p){return p.lower}),u=x,c=x==="next"?"":n}f("next");var g=new e.Collection(e,function(){return ua(o[0],l[d-1]+n)});g._ondirectionchange=function(x){f(x)};var m=0;return g._addAlgorithm(function(x,v,p){var h=x.key;if(typeof h!="string")return!1;var y=s(h);if(t(y,l,m))return!0;for(var b=null,_=m;_<d;++_){var w=i5(h,y,o[_],l[_],a,u);w===null&&b===null?m=_+1:(b===null||a(b,w)>0)&&(b=w)}return v(b!==null?function(){x.continue(b+c)}:p),!1}),g}function ua(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function PC(e){return{type:1,lower:e,upper:e}}var RC=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(t,r,n,i){n=n!==!1,i=i===!0;try{return this._cmp(t,r)>0||this._cmp(t,r)===0&&(n||i)&&!(n&&i)?Bl(this):new this.Collection(this,function(){return ua(t,r,!n,!i)})}catch{return cn(this,Qi)}},e.prototype.equals=function(t){return t==null?cn(this,Qi):new this.Collection(this,function(){return PC(t)})},e.prototype.above=function(t){return t==null?cn(this,Qi):new this.Collection(this,function(){return ua(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?cn(this,Qi):new this.Collection(this,function(){return ua(t,void 0,!1)})},e.prototype.below=function(t){return t==null?cn(this,Qi):new this.Collection(this,function(){return ua(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?cn(this,Qi):new this.Collection(this,function(){return ua(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?cn(this,BC):this.between(t,t+$o,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):Pf(this,function(r,n){return r.indexOf(n[0])===0},[t],$o)},e.prototype.equalsIgnoreCase=function(t){return Pf(this,function(r,n){return r===n[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=fs.apply(tc,arguments);return t.length===0?Bl(this):Pf(this,function(r,n){return n.indexOf(r)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=fs.apply(tc,arguments);return t.length===0?Bl(this):Pf(this,function(r,n){return n.some(function(i){return r.indexOf(i)===0})},t,$o)},e.prototype.anyOf=function(){var t=this,r=fs.apply(tc,arguments),n=this._cmp;try{r.sort(n)}catch{return cn(this,Qi)}if(r.length===0)return Bl(this);var i=new this.Collection(this,function(){return ua(r[0],r[r.length-1])});i._ondirectionchange=function(a){n=a==="next"?t._ascending:t._descending,r.sort(n)};var s=0;return i._addAlgorithm(function(a,o,l){for(var u=a.key;n(u,r[s])>0;)if(++s,s===r.length)return o(l),!1;return n(u,r[s])===0?!0:(o(function(){a.continue(r[s])}),!1)}),i},e.prototype.notEqual=function(t){return this.inAnyRange([[jm,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=fs.apply(tc,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return cn(this,Qi)}var r=t.reduce(function(n,i){return n?n.concat([[n[n.length-1][1],i]]):[[jm,i]]},null);return r.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,r){var n=this,i=this._cmp,s=this._ascending,a=this._descending,o=this._min,l=this._max;if(t.length===0)return Bl(this);if(!t.every(function(_){return _[0]!==void 0&&_[1]!==void 0&&s(_[0],_[1])<=0}))return cn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Se.InvalidArgument);var u=!r||r.includeLowers!==!1,c=r&&r.includeUppers===!0;function d(_,w){for(var D=0,S=_.length;D<S;++D){var A=_[D];if(i(w[0],A[1])<0&&i(w[1],A[0])>0){A[0]=o(A[0],w[0]),A[1]=l(A[1],w[1]);break}}return D===S&&_.push(w),_}var f=s;function g(_,w){return f(_[0],w[0])}var m;try{m=t.reduce(d,[]),m.sort(g)}catch{return cn(this,Qi)}var x=0,v=c?function(_){return s(_,m[x][1])>0}:function(_){return s(_,m[x][1])>=0},p=u?function(_){return a(_,m[x][0])>0}:function(_){return a(_,m[x][0])>=0};function h(_){return!v(_)&&!p(_)}var y=v,b=new this.Collection(this,function(){return ua(m[0][0],m[m.length-1][1],!u,!c)});return b._ondirectionchange=function(_){_==="next"?(y=v,f=s):(y=p,f=a),m.sort(g)},b._addAlgorithm(function(_,w,D){for(var S=_.key;y(S);)if(++x,x===m.length)return w(D),!1;return h(S)?!0:(n._cmp(S,m[x][1])===0||n._cmp(S,m[x][0])===0||w(function(){f===s?_.continue(m[x][0]):_.continue(m[x][1])}),!1)}),b},e.prototype.startsWithAnyOf=function(){var t=fs.apply(tc,arguments);return t.every(function(r){return typeof r=="string"})?t.length===0?Bl(this):this.inAnyRange(t.map(function(r){return[r,r+$o]})):cn(this,"startsWithAnyOf() only works with strings")},e}();function s5(e){return pf(RC.prototype,function(r,n,i){if(this.db=e,this._ctx={table:r,index:n===":id"?null:n,or:i},this._cmp=this._ascending=Xe,this._descending=function(s,a){return Xe(a,s)},this._max=function(s,a){return Xe(s,a)>0?s:a},this._min=function(s,a){return Xe(s,a)<0?s:a},this._IDBKeyRange=e._deps.IDBKeyRange,!this._IDBKeyRange)throw new Se.MissingAPI})}function Ii(e){return St(function(t){return Kd(t),e(t.target.error),!1})}function Kd(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var gf="storagemutated",Ym="x-storagemutated-1",so=hf(null,gf),a5=function(){function e(){}return e.prototype._lock=function(){return Wu(!me.global),++this._reculock,this._reculock===1&&!me.global&&(me.lockOwnerFor=this),this},e.prototype._unlock=function(){if(Wu(!me.global),--this._reculock===0)for(me.global||(me.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{fl(t[1],t[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&me.lockOwnerFor!==this},e.prototype.create=function(t){var r=this;if(!this.mode)return this;var n=this.db.idbdb,i=this.db._state.dbOpenError;if(Wu(!this.idbtrans),!t&&!n)switch(i&&i.name){case"DatabaseClosedError":throw new Se.DatabaseClosed(i);case"MissingAPIError":throw new Se.MissingAPI(i.message,i);default:throw new Se.OpenFailed(i)}if(!this.active)throw new Se.TransactionInactive;return Wu(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=St(function(s){Kd(s),r._reject(t.error)}),t.onabort=St(function(s){Kd(s),r.active&&r._reject(new Se.Abort(t.error)),r.active=!1,r.on("abort").fire(s)}),t.oncomplete=St(function(){r.active=!1,r._resolve(),"mutatedParts"in t&&so.storagemutated.fire(t.mutatedParts)}),this},e.prototype._promise=function(t,r,n){var i=this;if(t==="readwrite"&&this.mode!=="readwrite")return It(new Se.ReadOnly("Transaction is readonly"));if(!this.active)return It(new Se.TransactionInactive);if(this._locked())return new pe(function(a,o){i._blockedFuncs.push([function(){i._promise(t,r,n).then(a,o)},me])});if(n)return ro(function(){var a=new pe(function(o,l){i._lock();var u=r(o,l,i);u&&u.then&&u.then(o,l)});return a.finally(function(){return i._unlock()}),a._lib=!0,a});var s=new pe(function(a,o){var l=r(a,o,i);l&&l.then&&l.then(a,o)});return s._lib=!0,s},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var r=this._root(),n=pe.resolve(t);if(r._waitingFor)r._waitingFor=r._waitingFor.then(function(){return n});else{r._waitingFor=n,r._waitingQueue=[];var i=r.idbtrans.objectStore(r.storeNames[0]);(function a(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var s=r._waitingFor;return new pe(function(a,o){n.then(function(l){return r._waitingQueue.push(St(a.bind(null,l)))},function(l){return r._waitingQueue.push(St(o.bind(null,l)))}).finally(function(){r._waitingFor===s&&(r._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Se.Abort))},e.prototype.table=function(t){var r=this._memoizedTables||(this._memoizedTables={});if(Gr(r,t))return r[t];var n=this.schema[t];if(!n)throw new Se.NotFound("Table "+t+" not part of transaction");var i=new this.db.Table(t,n,this);return i.core=this.db.core.table(t),r[t]=i,i},e}();function o5(e){return pf(a5.prototype,function(r,n,i,s,a){var o=this;this.db=e,this.mode=r,this.storeNames=n,this.schema=i,this.chromeTransactionDurability=s,this.idbtrans=null,this.on=hf(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new pe(function(l,u){o._resolve=l,o._reject=u}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(l){var u=o.active;return o.active=!1,o.on.error.fire(l),o.parent?o.parent._reject(l):u&&o.idbtrans&&o.idbtrans.abort(),It(l)})})}function Hm(e,t,r,n,i,s,a){return{name:e,keyPath:t,unique:r,multi:n,auto:i,compound:s,src:(r&&!a?"&":"")+(n?"*":"")+(i?"++":"")+$C(t)}}function $C(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function F_(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:m$(r,function(n){return[n.name,n]})}}function l5(e){return e.length===1?e[0]:e}var Vd=function(e){try{return e.only([[]]),Vd=function(){return[[]]},[[]]}catch{return Vd=function(){return $o},$o}};function Km(e){return e==null?function(){}:typeof e=="string"?c5(e):function(t){return Ns(t,e)}}function c5(e){var t=e.split(".");return t.length===1?function(r){return r[e]}:function(r){return Ns(r,e)}}function b1(e){return[].slice.call(e)}var u5=0;function dd(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function d5(e,t,r){function n(d,f){var g=b1(d.objectStoreNames);return{schema:{name:d.name,tables:g.map(function(m){return f.objectStore(m)}).map(function(m){var x=m.keyPath,v=m.autoIncrement,p=kt(x),h=x==null,y={},b={name:m.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:h,compound:p,keyPath:x,autoIncrement:v,unique:!0,extractKey:Km(x)},indexes:b1(m.indexNames).map(function(_){return m.index(_)}).map(function(_){var w=_.name,D=_.unique,S=_.multiEntry,A=_.keyPath,k=kt(A),C={name:w,compound:k,keyPath:A,unique:D,multiEntry:S,extractKey:Km(A)};return y[dd(A)]=C,C}),getIndexByKeyPath:function(_){return y[dd(_)]}};return y[":id"]=b.primaryKey,x!=null&&(y[dd(x)]=b.primaryKey),b})},hasGetAll:g.length>0&&"getAll"in f.objectStore(g[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(d){if(d.type===3)return null;if(d.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var f=d.lower,g=d.upper,m=d.lowerOpen,x=d.upperOpen,v=f===void 0?g===void 0?null:t.upperBound(g,!!x):g===void 0?t.lowerBound(f,!!m):t.bound(f,g,!!m,!!x);return v}function s(d){var f=d.name;function g(v){var p=v.trans,h=v.type,y=v.keys,b=v.values,_=v.range;return new Promise(function(w,D){w=St(w);var S=p.objectStore(f),A=S.keyPath==null,k=h==="put"||h==="add";if(!k&&h!=="delete"&&h!=="deleteRange")throw new Error("Invalid operation type: "+h);var C=(y||b||{length:1}).length;if(y&&b&&y.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(C===0)return w({numFailures:0,failures:{},results:[],lastResult:void 0});var E,M=[],I=[],P=0,L=function(R){++P,Kd(R)};if(h==="deleteRange"){if(_.type===4)return w({numFailures:P,failures:I,results:[],lastResult:void 0});_.type===3?M.push(E=S.clear()):M.push(E=S.delete(i(_)))}else{var V=k?A?[b,y]:[b,null]:[y,null],W=V[0],U=V[1];if(k)for(var te=0;te<C;++te)M.push(E=U&&U[te]!==void 0?S[h](W[te],U[te]):S[h](W[te])),E.onerror=L;else for(var te=0;te<C;++te)M.push(E=S[h](W[te])),E.onerror=L}var N=function(R){var H=R.target.result;M.forEach(function(K,Ee){return K.error!=null&&(I[Ee]=K.error)}),w({numFailures:P,failures:I,results:h==="delete"?y:M.map(function(K){return K.result}),lastResult:H})};E.onerror=function(R){L(R),N(R)},E.onsuccess=N})}function m(v){var p=v.trans,h=v.values,y=v.query,b=v.reverse,_=v.unique;return new Promise(function(w,D){w=St(w);var S=y.index,A=y.range,k=p.objectStore(f),C=S.isPrimaryKey?k:k.index(S.name),E=b?_?"prevunique":"prev":_?"nextunique":"next",M=h||!("openKeyCursor"in C)?C.openCursor(i(A),E):C.openKeyCursor(i(A),E);M.onerror=Ii(D),M.onsuccess=St(function(I){var P=M.result;if(!P){w(null);return}P.___id=++u5,P.done=!1;var L=P.continue.bind(P),V=P.continuePrimaryKey;V&&(V=V.bind(P));var W=P.advance.bind(P),U=function(){throw new Error("Cursor not started")},te=function(){throw new Error("Cursor not stopped")};P.trans=p,P.stop=P.continue=P.continuePrimaryKey=P.advance=U,P.fail=St(D),P.next=function(){var N=this,R=1;return this.start(function(){return R--?N.continue():N.stop()}).then(function(){return N})},P.start=function(N){var R=new Promise(function(K,Ee){K=St(K),M.onerror=Ii(Ee),P.fail=Ee,P.stop=function(ne){P.stop=P.continue=P.continuePrimaryKey=P.advance=te,K(ne)}}),H=function(){if(M.result)try{N()}catch(K){P.fail(K)}else P.done=!0,P.start=function(){throw new Error("Cursor behind last entry")},P.stop()};return M.onsuccess=St(function(K){M.onsuccess=H,H()}),P.continue=L,P.continuePrimaryKey=V,P.advance=W,H(),R},w(P)},D)})}function x(v){return function(p){return new Promise(function(h,y){h=St(h);var b=p.trans,_=p.values,w=p.limit,D=p.query,S=w===1/0?void 0:w,A=D.index,k=D.range,C=b.objectStore(f),E=A.isPrimaryKey?C:C.index(A.name),M=i(k);if(w===0)return h({result:[]});if(v){var I=_?E.getAll(M,S):E.getAllKeys(M,S);I.onsuccess=function(W){return h({result:W.target.result})},I.onerror=Ii(y)}else{var P=0,L=_||!("openKeyCursor"in E)?E.openCursor(M):E.openKeyCursor(M),V=[];L.onsuccess=function(W){var U=L.result;if(!U)return h({result:V});if(V.push(_?U.value:U.primaryKey),++P===w)return h({result:V});U.continue()},L.onerror=Ii(y)}})}}return{name:f,schema:d,mutate:g,getMany:function(v){var p=v.trans,h=v.keys;return new Promise(function(y,b){y=St(y);for(var _=p.objectStore(f),w=h.length,D=new Array(w),S=0,A=0,k,C=function(P){var L=P.target;(D[L._pos]=L.result)!=null,++A===S&&y(D)},E=Ii(b),M=0;M<w;++M){var I=h[M];I!=null&&(k=_.get(h[M]),k._pos=M,k.onsuccess=C,k.onerror=E,++S)}S===0&&y(D)})},get:function(v){var p=v.trans,h=v.key;return new Promise(function(y,b){y=St(y);var _=p.objectStore(f),w=_.get(h);w.onsuccess=function(D){return y(D.target.result)},w.onerror=Ii(b)})},query:x(l),openCursor:m,count:function(v){var p=v.query,h=v.trans,y=p.index,b=p.range;return new Promise(function(_,w){var D=h.objectStore(f),S=y.isPrimaryKey?D:D.index(y.name),A=i(b),k=A?S.count(A):S.count();k.onsuccess=St(function(C){return _(C.target.result)}),k.onerror=Ii(w)})}}}var a=n(e,r),o=a.schema,l=a.hasGetAll,u=o.tables.map(function(d){return s(d)}),c={};return u.forEach(function(d){return c[d.name]=d}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(d){var f=c[d];if(!f)throw new Error("Table '".concat(d,"' not found"));return c[d]},MIN_KEY:-1/0,MAX_KEY:Vd(t),schema:o}}function f5(e,t){return t.reduce(function(r,n){var i=n.create;return Oe(Oe({},r),i(r))},e)}function h5(e,t,r,n){var i=r.IDBKeyRange;r.indexedDB;var s=f5(d5(t,i,n),e.dbcore);return{dbcore:s}}function Dp(e,t){var r=t.db,n=h5(e._middlewares,r,e._deps,t);e.core=n.dbcore,e.tables.forEach(function(i){var s=i.name;e.core.schema.tables.some(function(a){return a.name===s})&&(i.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=i.core))})}function Ap(e,t,r,n){r.forEach(function(i){var s=n[i];t.forEach(function(a){var o=vC(a,i);(!o||"value"in o&&o.value===void 0)&&(a===e.Transaction.prototype||a instanceof e.Transaction?eo(a,i,{get:function(){return this.table(i)},set:function(l){yC(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new e.Table(i,s))})})}function Vm(e,t){t.forEach(function(r){for(var n in r)r[n]instanceof e.Table&&delete r[n]})}function p5(e,t){return e._cfg.version-t._cfg.version}function g5(e,t,r,n){var i=e._dbSchema;r.objectStoreNames.contains("$meta")&&!i.$meta&&(i.$meta=F_("$meta",LC("")[0],[]),e._storeNames.push("$meta"));var s=e._createTransaction("readwrite",e._storeNames,i);s.create(r),s._completion.catch(n);var a=s._reject.bind(s),o=me.transless||me;ro(function(){if(me.trans=s,me.transless=o,t===0)rr(i).forEach(function(l){P_(r,l,i[l].primKey,i[l].indexes)}),Dp(e,r),pe.follow(function(){return e.on.populate.fire(s)}).catch(a);else return Dp(e,r),v5(e,s,t).then(function(l){return m5(e,l,s,r)}).catch(a)})}function y5(e,t){NC(e._dbSchema,t),t.db.version%10===0&&!t.objectStoreNames.contains("$meta")&&t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var r=Mg(e,e.idbdb,t);Ep(e,e._dbSchema,t);for(var n=T_(r,e._dbSchema),i=function(u){if(u.change.length||u.recreate)return console.warn("Unable to patch indexes of table ".concat(u.name," because it has changes on the type of index or primary key.")),{value:void 0};var c=t.objectStore(u.name);u.add.forEach(function(d){Vi&&console.debug("Dexie upgrade patch: Creating missing index ".concat(u.name,".").concat(d.src)),kp(c,d)})},s=0,a=n.change;s<a.length;s++){var o=a[s],l=i(o);if(typeof l=="object")return l.value}}function v5(e,t,r){return t.storeNames.includes("$meta")?t.table("$meta").get("version").then(function(n){return n!=null?n:r}):pe.resolve(r)}function m5(e,t,r,n){var i=[],s=e._versions,a=e._dbSchema=Mg(e,e.idbdb,n),o=s.filter(function(u){return u._cfg.version>=t});if(o.length===0)return pe.resolve();o.forEach(function(u){i.push(function(){var c=a,d=u._cfg.dbschema;Ep(e,c,n),Ep(e,d,n),a=e._dbSchema=d;var f=T_(c,d);f.add.forEach(function(h){P_(n,h[0],h[1].primKey,h[1].indexes)}),f.change.forEach(function(h){if(h.recreate)throw new Se.Upgrade("Not yet support for changing primary key");var y=n.objectStore(h.name);h.add.forEach(function(b){return kp(y,b)}),h.change.forEach(function(b){y.deleteIndex(b.name),kp(y,b)}),h.del.forEach(function(b){return y.deleteIndex(b)})});var g=u._cfg.contentUpgrade;if(g&&u._cfg.version>t){Dp(e,n),r._memoizedTables={};var m=_C(d);f.del.forEach(function(h){m[h]=c[h]}),Vm(e,[e.Transaction.prototype]),Ap(e,[e.Transaction.prototype],rr(m),m),r.schema=m;var x=A_(g);x&&Kc();var v,p=pe.follow(function(){if(v=g(r),v&&x){var h=no.bind(null,null);v.then(h,h)}});return v&&typeof v.then=="function"?pe.resolve(v):p.then(function(){return v})}}),i.push(function(c){var d=u._cfg.dbschema;b5(d,c),Vm(e,[e.Transaction.prototype]),Ap(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema}),i.push(function(c){e.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(e.idbdb.version/10)===u._cfg.version?(e.idbdb.deleteObjectStore("$meta"),delete e._dbSchema.$meta,e._storeNames=e._storeNames.filter(function(d){return d!=="$meta"})):c.objectStore("$meta").put(u._cfg.version,"version"))})});function l(){return i.length?pe.resolve(i.shift()(r.idbtrans)).then(l):pe.resolve()}return l().then(function(){NC(a,n)})}function T_(e,t){var r={del:[],add:[],change:[]},n;for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],s=t[n];if(!i)r.add.push([n,s]);else{var a={name:n,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto)a.recreate=!0,r.change.push(a);else{var o=i.idxByName,l=s.idxByName,u=void 0;for(u in o)l[u]||a.del.push(u);for(u in l){var c=o[u],d=l[u];c?c.src!==d.src&&a.change.push(d):a.add.push(d)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}}return r}function P_(e,t,r,n){var i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(function(s){return kp(i,s)}),i}function NC(e,t){rr(e).forEach(function(r){t.db.objectStoreNames.contains(r)||(Vi&&console.debug("Dexie: Creating missing table",r),P_(t,r,e[r].primKey,e[r].indexes))})}function b5(e,t){[].slice.call(t.db.objectStoreNames).forEach(function(r){return e[r]==null&&t.db.deleteObjectStore(r)})}function kp(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Mg(e,t,r){var n={},i=Eg(t.objectStoreNames,0);return i.forEach(function(s){for(var a=r.objectStore(s),o=a.keyPath,l=Hm($C(o),o||"",!0,!1,!!a.autoIncrement,o&&typeof o!="string",!0),u=[],c=0;c<a.indexNames.length;++c){var d=a.index(a.indexNames[c]);o=d.keyPath;var f=Hm(d.name,o,!!d.unique,!!d.multiEntry,!1,o&&typeof o!="string",!1);u.push(f)}n[s]=F_(s,l,u)}),n}function _5(e,t,r){e.verno=t.version/10;var n=e._dbSchema=Mg(e,t,r);e._storeNames=Eg(t.objectStoreNames,0),Ap(e,[e._allTables],rr(n),n)}function x5(e,t){var r=Mg(e,e.idbdb,t),n=T_(r,e._dbSchema);return!(n.add.length||n.change.some(function(i){return i.add.length||i.change.length}))}function Ep(e,t,r){for(var n=r.db.objectStoreNames,i=0;i<n.length;++i){var s=n[i],a=r.objectStore(s);e._hasGetAll="getAll"in a;for(var o=0;o<a.indexNames.length;++o){var l=a.indexNames[o],u=a.index(l).keyPath,c=typeof u=="string"?u:"["+Eg(u).join("+")+"]";if(t[s]){var d=t[s].idxByName[c];d&&(d.name=l,delete t[s].idxByName[c],t[s].idxByName[l]=d)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&cr.WorkerGlobalScope&&cr instanceof cr.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function LC(e){return e.split(",").map(function(t,r){t=t.trim();var n=t.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Hm(n,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),kt(i),r===0)})}var w5=function(){function e(){}return e.prototype._parseStoresSpec=function(t,r){rr(t).forEach(function(n){if(t[n]!==null){var i=LC(t[n]),s=i.shift();if(s.unique=!0,s.multi)throw new Se.Schema("Primary key cannot be multi-valued");i.forEach(function(a){if(a.auto)throw new Se.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new Se.Schema("Index must have a name and cannot be an empty string")}),r[n]=F_(n,s,i)}})},e.prototype.stores=function(t){var r=this.db;this._cfg.storesSource=this._cfg.storesSource?Sn(this._cfg.storesSource,t):t;var n=r._versions,i={},s={};return n.forEach(function(a){Sn(i,a._cfg.storesSource),s=a._cfg.dbschema={},a._parseStoresSpec(i,s)}),r._dbSchema=s,Vm(r,[r._allTables,r,r.Transaction.prototype]),Ap(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],rr(s),s),r._storeNames=rr(s),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=C_(this._cfg.contentUpgrade||st,t),this},e}();function S5(e){return pf(w5.prototype,function(r){this.db=e,this._cfg={version:r,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function R_(e,t){var r=e._dbNamesDB;return r||(r=e._dbNamesDB=new zd(Og,{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function $_(e){return e&&typeof e.databases=="function"}function D5(e){var t=e.indexedDB,r=e.IDBKeyRange;return $_(t)?Promise.resolve(t.databases()).then(function(n){return n.map(function(i){return i.name}).filter(function(i){return i!==Og})}):R_(t,r).toCollection().primaryKeys()}function A5(e,t){var r=e.indexedDB,n=e.IDBKeyRange;!$_(r)&&t!==Og&&R_(r,n).put({name:t}).catch(st)}function k5(e,t){var r=e.indexedDB,n=e.IDBKeyRange;!$_(r)&&t!==Og&&R_(r,n).delete(t).catch(st)}function Um(e){return ro(function(){return me.letThrough=!0,e()})}function E5(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(r){var n=function(){return indexedDB.databases().finally(r)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)})}var ky;function N_(e){return!("from"in e)}var Mr=function(e,t){if(this)Sn(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{var r=new Mr;return e&&"d"in e&&Sn(r,e),r}};Bc(Mr.prototype,(ky={add:function(e){return Cp(this,e),this},addKey:function(e){return Ud(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(r){return Ud(t,r,r)}),this}},ky[Rm]=function(){return Jm(this)},ky));function Ud(e,t,r){var n=Xe(t,r);if(!isNaN(n)){if(n>0)throw RangeError();if(N_(e))return Sn(e,{from:t,to:r,d:1});var i=e.l,s=e.r;if(Xe(r,e.from)<0)return i?Ud(i,t,r):e.l={from:t,to:r,d:1,l:null,r:null},_1(e);if(Xe(t,e.to)>0)return s?Ud(s,t,r):e.r={from:t,to:r,d:1,l:null,r:null},_1(e);Xe(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),Xe(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);var a=!e.r;i&&!e.l&&Cp(e,i),s&&a&&Cp(e,s)}}function Cp(e,t){function r(n,i){var s=i.from,a=i.to,o=i.l,l=i.r;Ud(n,s,a),o&&r(n,o),l&&r(n,l)}N_(t)||r(e,t)}function zm(e,t){var r=Jm(t),n=r.next();if(n.done)return!1;for(var i=n.value,s=Jm(e),a=s.next(i.from),o=a.value;!n.done&&!a.done;){if(Xe(o.from,i.to)<=0&&Xe(o.to,i.from)>=0)return!0;Xe(i.from,o.from)<0?i=(n=r.next(o.from)).value:o=(a=s.next(i.from)).value}return!1}function Jm(e){var t=N_(e)?null:{s:0,n:e};return{next:function(r){for(var n=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Xe(r,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Xe(r,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function _1(e){var t,r,n=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((r=e.l)===null||r===void 0?void 0:r.d)||0),i=n>1?"r":n<-1?"l":"";if(i){var s=i==="r"?"l":"r",a=Oe({},e),o=e[i];e.from=o.from,e.to=o.to,e[i]=o[i],a[i]=o[s],e[s]=a,a.d=x1(a)}e.d=x1(e)}function x1(e){var t=e.r,r=e.l;return(t?r?Math.max(t.d,r.d):t.d:r?r.d:0)+1}function Ig(e,t){return rr(t).forEach(function(r){e[r]?Cp(e[r],t[r]):e[r]=SC(t[r])}),e}function L_(e,t){return e.all||t.all||Object.keys(e).some(function(r){return t[r]&&zm(t[r],e[r])})}var tl={},Ey={},Cy=!1;function Rf(e,t){Ig(Ey,e),Cy||(Cy=!0,setTimeout(function(){Cy=!1;var r=Ey;Ey={},q_(r,!1)},0))}function q_(e,t){t===void 0&&(t=!1);var r=new Set;if(e.all)for(var n=0,i=Object.values(tl);n<i.length;n++){var s=i[n];w1(s,e,r,t)}else for(var a in e){var o=/^idb\:\/\/(.*)\/(.*)\//.exec(a);if(o){var l=o[1],u=o[2],s=tl["idb://".concat(l,"/").concat(u)];s&&w1(s,e,r,t)}}r.forEach(function(c){return c()})}function w1(e,t,r,n){for(var i=[],s=0,a=Object.entries(e.queries.query);s<a.length;s++){for(var o=a[s],l=o[0],u=o[1],c=[],d=0,f=u;d<f.length;d++){var g=f[d];L_(t,g.obsSet)?g.subscribers.forEach(function(p){return r.add(p)}):n&&c.push(g)}n&&i.push([l,c])}if(n)for(var m=0,x=i;m<x.length;m++){var v=x[m],l=v[0],c=v[1];e.queries.query[l]=c}}function C5(e){var t=e._state,r=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?It(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var n=t.openCanceller,i=Math.round(e.verno*10),s=!1;function a(){if(t.openCanceller!==n)throw new Se.DatabaseClosed("db.open() was cancelled")}var o=t.dbReadyResolve,l=null,u=!1,c=function(){return new pe(function(d,f){if(a(),!r)throw new Se.MissingAPI;var g=e.name,m=t.autoSchema||!i?r.open(g):r.open(g,i);if(!m)throw new Se.MissingAPI;m.onerror=Ii(f),m.onblocked=St(e._fireOnBlocked),m.onupgradeneeded=St(function(x){if(l=m.transaction,t.autoSchema&&!e._options.allowEmptyDB){m.onerror=Kd,l.abort(),m.result.close();var v=r.deleteDatabase(g);v.onsuccess=v.onerror=St(function(){f(new Se.NoSuchDatabase("Database ".concat(g," doesnt exist")))})}else{l.onerror=Ii(f);var p=x.oldVersion>Math.pow(2,62)?0:x.oldVersion;u=p<1,e.idbdb=m.result,s&&y5(e,l),g5(e,p/10,l,f)}},f),m.onsuccess=St(function(){l=null;var x=e.idbdb=m.result,v=Eg(x.objectStoreNames);if(v.length>0)try{var p=x.transaction(l5(v),"readonly");if(t.autoSchema)_5(e,x,p);else if(Ep(e,e._dbSchema,p),!x5(e,p)&&!s)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),x.close(),i=x.version+1,s=!0,d(c());Dp(e,p)}catch{}Dc.push(e),x.onversionchange=St(function(h){t.vcFired=!0,e.on("versionchange").fire(h)}),x.onclose=St(function(h){e.on("close").fire(h)}),u&&A5(e._deps,g),d()},f)}).catch(function(d){switch(d==null?void 0:d.name){case"UnknownError":if(t.PR1398_maxLoop>0)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),c();break;case"VersionError":if(i>0)return i=0,c();break}return pe.reject(d)})};return pe.race([n,(typeof navigator=="undefined"?pe.resolve():E5()).then(c)]).then(function(){return a(),t.onReadyBeingFired=[],pe.resolve(Um(function(){return e.on.ready.fire(e.vip)})).then(function d(){if(t.onReadyBeingFired.length>0){var f=t.onReadyBeingFired.reduce(C_,st);return t.onReadyBeingFired=[],pe.resolve(Um(function(){return f(e.vip)})).then(d)}})}).finally(function(){t.openCanceller===n&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(d){t.dbOpenError=d;try{l&&l.abort()}catch{}return n===t.openCanceller&&e._close(),It(d)}).finally(function(){t.openComplete=!0,o()}).then(function(){if(u){var d={};e.tables.forEach(function(f){f.schema.indexes.forEach(function(g){g.name&&(d["idb://".concat(e.name,"/").concat(f.name,"/").concat(g.name)]=new Mr(-1/0,[[[]]]))}),d["idb://".concat(e.name,"/").concat(f.name,"/")]=d["idb://".concat(e.name,"/").concat(f.name,"/:dels")]=new Mr(-1/0,[[[]]])}),so(gf).fire(d),q_(d,!0)}return e})}function Gm(e){var t=function(a){return e.next(a)},r=function(a){return e.throw(a)},n=s(t),i=s(r);function s(a){return function(o){var l=a(o),u=l.value;return l.done?u:!u||typeof u.then!="function"?kt(u)?Promise.all(u).then(n,i):n(u):u.then(n,i)}}return s(t)()}function O5(e,t,r){var n=arguments.length;if(n<2)throw new Se.InvalidArgument("Too few arguments");for(var i=new Array(n-1);--n;)i[n-1]=arguments[n];r=i.pop();var s=xC(i);return[e,s,r]}function qC(e,t,r,n,i){return pe.resolve().then(function(){var s=me.transless||me,a=e._createTransaction(t,r,e._dbSchema,n);a.explicit=!0;var o={trans:a,transless:s};if(n)a.idbtrans=n.idbtrans;else try{a.create(),a.idbtrans._explicit=!0,e._state.PR1398_maxLoop=3}catch(d){return d.name===E_.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e.close({disableAutoOpen:!1}),e.open().then(function(){return qC(e,t,r,null,i)})):It(d)}var l=A_(i);l&&Kc();var u,c=pe.follow(function(){if(u=i.call(a,a),u)if(l){var d=no.bind(null,null);u.then(d,d)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=Gm(u))},o);return(u&&typeof u.then=="function"?pe.resolve(u).then(function(d){return a.active?d:It(new Se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):c.then(function(){return u})).then(function(d){return n&&a._resolve(),a._completion.then(function(){return d})}).catch(function(d){return a._reject(d),It(d)})})}function $f(e,t,r){for(var n=kt(e)?e.slice():[e],i=0;i<r;++i)n.push(t);return n}function M5(e){return Oe(Oe({},e),{table:function(t){var r=e.table(t),n=r.schema,i={},s=[];function a(x,v,p){var h=dd(x),y=i[h]=i[h]||[],b=x==null?0:typeof x=="string"?1:x.length,_=v>0,w=Oe(Oe({},p),{name:_?"".concat(h,"(virtual-from:").concat(p.name,")"):p.name,lowLevelIndex:p,isVirtual:_,keyTail:v,keyLength:b,extractKey:Km(x),unique:!_&&p.unique});if(y.push(w),w.isPrimaryKey||s.push(w),b>1){var D=b===2?x[0]:x.slice(0,b-1);a(D,v+1,p)}return y.sort(function(S,A){return S.keyTail-A.keyTail}),w}var o=a(n.primaryKey.keyPath,0,n.primaryKey);i[":id"]=[o];for(var l=0,u=n.indexes;l<u.length;l++){var c=u[l];a(c.keyPath,0,c)}function d(x){var v=i[dd(x)];return v&&v[0]}function f(x,v){return{type:x.type===1?2:x.type,lower:$f(x.lower,x.lowerOpen?e.MAX_KEY:e.MIN_KEY,v),lowerOpen:!0,upper:$f(x.upper,x.upperOpen?e.MIN_KEY:e.MAX_KEY,v),upperOpen:!0}}function g(x){var v=x.query.index;return v.isVirtual?Oe(Oe({},x),{query:{index:v.lowLevelIndex,range:f(x.query.range,v.keyTail)}}):x}var m=Oe(Oe({},r),{schema:Oe(Oe({},n),{primaryKey:o,indexes:s,getIndexByKeyPath:d}),count:function(x){return r.count(g(x))},query:function(x){return r.query(g(x))},openCursor:function(x){var v=x.query.index,p=v.keyTail,h=v.isVirtual,y=v.keyLength;if(!h)return r.openCursor(x);function b(_){function w(S){S!=null?_.continue($f(S,x.reverse?e.MAX_KEY:e.MIN_KEY,p)):x.unique?_.continue(_.key.slice(0,y).concat(x.reverse?e.MIN_KEY:e.MAX_KEY,p)):_.continue()}var D=Object.create(_,{continue:{value:w},continuePrimaryKey:{value:function(S,A){_.continuePrimaryKey($f(S,e.MAX_KEY,p),A)}},primaryKey:{get:function(){return _.primaryKey}},key:{get:function(){var S=_.key;return y===1?S[0]:S.slice(0,y)}},value:{get:function(){return _.value}}});return D}return r.openCursor(g(x)).then(function(_){return _&&b(_)})}});return m}})}var I5={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:M5};function W_(e,t,r,n){return r=r||{},n=n||"",rr(e).forEach(function(i){if(!Gr(t,i))r[n+i]=void 0;else{var s=e[i],a=t[i];if(typeof s=="object"&&typeof a=="object"&&s&&a){var o=Pm(s),l=Pm(a);o!==l?r[n+i]=t[i]:o==="Object"?W_(s,a,r,n+i+"."):s!==a&&(r[n+i]=t[i])}else s!==a&&(r[n+i]=t[i])}}),rr(t).forEach(function(i){Gr(e,i)||(r[n+i]=t[i])}),r}function j_(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var B5={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return Oe(Oe({},e),{table:function(t){var r=e.table(t),n=r.schema.primaryKey,i=Oe(Oe({},r),{mutate:function(s){var a=me.trans,o=a.table(t).hook,l=o.deleting,u=o.creating,c=o.updating;switch(s.type){case"add":if(u.fire===st)break;return a._promise("readwrite",function(){return d(s)},!0);case"put":if(u.fire===st&&c.fire===st)break;return a._promise("readwrite",function(){return d(s)},!0);case"delete":if(l.fire===st)break;return a._promise("readwrite",function(){return d(s)},!0);case"deleteRange":if(l.fire===st)break;return a._promise("readwrite",function(){return f(s)},!0)}return r.mutate(s);function d(m){var x=me.trans,v=m.keys||j_(n,m);if(!v)throw new Error("Keys missing");return m=m.type==="add"||m.type==="put"?Oe(Oe({},m),{keys:v}):Oe({},m),m.type!=="delete"&&(m.values=bp([],m.values,!0)),m.keys&&(m.keys=bp([],m.keys,!0)),F5(r,m,v).then(function(p){var h=v.map(function(y,b){var _=p[b],w={onerror:null,onsuccess:null};if(m.type==="delete")l.fire.call(w,y,_,x);else if(m.type==="add"||_===void 0){var D=u.fire.call(w,y,m.values[b],x);y==null&&D!=null&&(y=D,m.keys[b]=y,n.outbound||xn(m.values[b],n.keyPath,y))}else{var S=W_(_,m.values[b]),A=c.fire.call(w,S,y,_,x);if(A){var k=m.values[b];Object.keys(A).forEach(function(C){Gr(k,C)?k[C]=A[C]:xn(k,C,A[C])})}}return w});return r.mutate(m).then(function(y){for(var b=y.failures,_=y.results,w=y.numFailures,D=y.lastResult,S=0;S<v.length;++S){var A=_?_[S]:v[S],k=h[S];A==null?k.onerror&&k.onerror(b[S]):k.onsuccess&&k.onsuccess(m.type==="put"&&p[S]?m.values[S]:A)}return{failures:b,results:_,numFailures:w,lastResult:D}}).catch(function(y){return h.forEach(function(b){return b.onerror&&b.onerror(y)}),Promise.reject(y)})})}function f(m){return g(m.trans,m.range,1e4)}function g(m,x,v){return r.query({trans:m,values:!1,query:{index:n,range:x},limit:v}).then(function(p){var h=p.result;return d({type:"delete",keys:h,trans:m}).then(function(y){return y.numFailures>0?Promise.reject(y.failures[0]):h.length<v?{failures:[],numFailures:0,lastResult:void 0}:g(m,Oe(Oe({},x),{lower:h[h.length-1],lowerOpen:!0}),v)})})}}});return i}})}};function F5(e,t,r){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:r,cache:"immutable"})}function WC(e,t,r){try{if(!t||t.keys.length<e.length)return null;for(var n=[],i=0,s=0;i<t.keys.length&&s<e.length;++i)Xe(t.keys[i],e[s])===0&&(n.push(r?to(t.values[i]):t.values[i]),++s);return n.length===e.length?n:null}catch{return null}}var T5={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var r=e.table(t);return Oe(Oe({},r),{getMany:function(n){if(!n.cache)return r.getMany(n);var i=WC(n.keys,n.trans._cache,n.cache==="clone");return i?pe.resolve(i):r.getMany(n).then(function(s){return n.trans._cache={keys:n.keys,values:n.cache==="clone"?to(s):s},s})},mutate:function(n){return n.type!=="add"&&(n.trans._cache=null),r.mutate(n)}})}}}};function jC(e,t){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!t.schema.primaryKey.outbound}function YC(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var P5={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,r=new Mr(e.MIN_KEY,e.MAX_KEY);return Oe(Oe({},e),{transaction:function(n,i,s){if(me.subscr&&i!=="readonly")throw new Se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(me.querier));return e.transaction(n,i,s)},table:function(n){var i=e.table(n),s=i.schema,a=s.primaryKey,o=s.indexes,l=a.extractKey,u=a.outbound,c=a.autoIncrement&&o.filter(function(m){return m.compound&&m.keyPath.includes(a.keyPath)}),d=Oe(Oe({},i),{mutate:function(m){var x=m.trans,v=m.mutatedParts||(m.mutatedParts={}),p=function(C){var E="idb://".concat(t,"/").concat(n,"/").concat(C);return v[E]||(v[E]=new Mr)},h=p(""),y=p(":dels"),b=m.type,_=m.type==="deleteRange"?[m.range]:m.type==="delete"?[m.keys]:m.values.length<50?[j_(a,m).filter(function(C){return C}),m.values]:[],w=_[0],D=_[1],S=m.trans._cache;if(kt(w)){h.addKeys(w);var A=b==="delete"||w.length===D.length?WC(w,S):null;A||y.addKeys(w),(A||D)&&R5(p,s,A,D)}else if(w){var k={from:w.lower,to:w.upper};y.add(k),h.add(k)}else h.add(r),y.add(r),s.indexes.forEach(function(C){return p(C.name).add(r)});return i.mutate(m).then(function(C){return w&&(m.type==="add"||m.type==="put")&&(h.addKeys(C.results),c&&c.forEach(function(E){var M=m.values.map(function(P){return E.extractKey(P)}),I=E.keyPath.findIndex(function(P){return P===a.keyPath});C.results.forEach(function(P){return M[I]=P}),p(E.name).addKeys(M)})),x.mutatedParts=Ig(x.mutatedParts||{},v),C})}}),f=function(m){var x,v,p=m.query,h=p.index,y=p.range;return[h,new Mr((x=y.lower)!==null&&x!==void 0?x:e.MIN_KEY,(v=y.upper)!==null&&v!==void 0?v:e.MAX_KEY)]},g={get:function(m){return[a,new Mr(m.key)]},getMany:function(m){return[a,new Mr().addKeys(m.keys)]},count:f,query:f,openCursor:f};return rr(g).forEach(function(m){d[m]=function(x){var v=me.subscr,p=!!v,h=jC(me,i)&&YC(m,x),y=h?x.obsSet={}:v;if(p){var b=function(C){var E="idb://".concat(t,"/").concat(n,"/").concat(C);return y[E]||(y[E]=new Mr)},_=b(""),w=b(":dels"),D=g[m](x),S=D[0],A=D[1];if(m==="query"&&S.isPrimaryKey&&!x.values?w.add(A):b(S.name||"").add(A),!S.isPrimaryKey)if(m==="count")w.add(r);else{var k=m==="query"&&u&&x.values&&i.query(Oe(Oe({},x),{values:!1}));return i[m].apply(this,arguments).then(function(C){if(m==="query"){if(u&&x.values)return k.then(function(P){var L=P.result;return _.addKeys(L),C});var E=x.values?C.result.map(l):C.result;x.values?_.addKeys(E):w.addKeys(E)}else if(m==="openCursor"){var M=C,I=x.values;return M&&Object.create(M,{key:{get:function(){return w.addKey(M.primaryKey),M.key}},primaryKey:{get:function(){var P=M.primaryKey;return w.addKey(P),P}},value:{get:function(){return I&&_.addKey(M.primaryKey),M.value}}})}return C})}}return i[m].apply(this,arguments)}}),d}})}};function R5(e,t,r,n){function i(s){var a=e(s.name||"");function o(u){return u!=null?s.extractKey(u):null}var l=function(u){return s.multiEntry&&kt(u)?u.forEach(function(c){return a.addKey(c)}):a.addKey(u)};(r||n).forEach(function(u,c){var d=r&&o(r[c]),f=n&&o(n[c]);Xe(d,f)!==0&&(d!=null&&l(d),f!=null&&l(f))})}t.indexes.forEach(i)}function S1(e,t,r){if(r.numFailures===0)return t;if(t.type==="deleteRange")return null;var n=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;if(r.numFailures===n)return null;var i=Oe({},t);return kt(i.keys)&&(i.keys=i.keys.filter(function(s,a){return!(a in r.failures)})),"values"in i&&kt(i.values)&&(i.values=i.values.filter(function(s,a){return!(a in r.failures)})),i}function $5(e,t){return t.lower===void 0?!0:t.lowerOpen?Xe(e,t.lower)>0:Xe(e,t.lower)>=0}function N5(e,t){return t.upper===void 0?!0:t.upperOpen?Xe(e,t.upper)<0:Xe(e,t.upper)<=0}function Oy(e,t){return $5(e,t)&&N5(e,t)}function D1(e,t,r,n,i,s){if(!r||r.length===0)return e;var a=t.query.index,o=a.multiEntry,l=t.query.range,u=n.schema.primaryKey,c=u.extractKey,d=a.extractKey,f=(a.lowLevelIndex||a).extractKey,g=r.reduce(function(m,x){var v=m,p=x.type==="add"||x.type==="put"?x.values.filter(function(_){var w=d(_);return o&&kt(w)?w.some(function(D){return Oy(D,l)}):Oy(w,l)}).map(function(_){return _=to(_),s&&Object.freeze(_),_}):[];switch(x.type){case"add":v=m.concat(t.values?p:p.map(function(_){return c(_)}));break;case"put":var h=new Mr().addKeys(x.values.map(function(_){return c(_)}));v=m.filter(function(_){var w=t.values?c(_):_;return!zm(new Mr(w),h)}).concat(t.values?p:p.map(function(_){return c(_)}));break;case"delete":var y=new Mr().addKeys(x.keys);v=m.filter(function(_){var w=t.values?c(_):_;return!zm(new Mr(w),y)});break;case"deleteRange":var b=x.range;v=m.filter(function(_){return!Oy(c(_),b)});break}return v},e);return g===e?e:(g.sort(function(m,x){return Xe(f(m),f(x))||Xe(c(m),c(x))}),t.limit&&t.limit<1/0&&(g.length>t.limit?g.length=t.limit:e.length===t.limit&&g.length<t.limit&&(i.dirty=!0)),s?Object.freeze(g):g)}function A1(e,t){return Xe(e.lower,t.lower)===0&&Xe(e.upper,t.upper)===0&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function L5(e,t,r,n){if(e===void 0)return t!==void 0?-1:0;if(t===void 0)return 1;var i=Xe(e,t);if(i===0){if(r&&n)return 0;if(r)return 1;if(n)return-1}return i}function q5(e,t,r,n){if(e===void 0)return t!==void 0?1:0;if(t===void 0)return-1;var i=Xe(e,t);if(i===0){if(r&&n)return 0;if(r)return-1;if(n)return 1}return i}function W5(e,t){return L5(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&q5(e.upper,t.upper,e.upperOpen,t.upperOpen)>=0}function j5(e,t,r,n){var i=tl["idb://".concat(e,"/").concat(t)];if(!i)return[];var s=i.queries[r];if(!s)return[null,!1,i,null];var a=n.query?n.query.index.name:null,o=s[a||""];if(!o)return[null,!1,i,null];switch(r){case"query":var l=o.find(function(d){return d.req.limit===n.limit&&d.req.values===n.values&&A1(d.req.query.range,n.query.range)});if(l)return[l,!0,i,o];var u=o.find(function(d){var f="limit"in d.req?d.req.limit:1/0;return f>=n.limit&&(n.values?d.req.values:!0)&&W5(d.req.query.range,n.query.range)});return[u,!1,i,o];case"count":var c=o.find(function(d){return A1(d.req.query.range,n.query.range)});return[c,!!c,i,o]}}function Y5(e,t,r,n){e.subscribers.add(r),n.addEventListener("abort",function(){e.subscribers.delete(r),e.subscribers.size===0&&H5(e,t)})}function H5(e,t){setTimeout(function(){e.subscribers.size===0&&Oo(t,e)},3e3)}var K5={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name,r=Oe(Oe({},e),{transaction:function(n,i,s){var a=e.transaction(n,i,s);if(i==="readwrite"){var o=new AbortController,l=o.signal,u=function(c){return function(){if(o.abort(),i==="readwrite"){for(var d=new Set,f=0,g=n;f<g.length;f++){var m=g[f],x=tl["idb://".concat(t,"/").concat(m)];if(x){var v=e.table(m),p=x.optimisticOps.filter(function(I){return I.trans===a});if(a._explicit&&c&&a.mutatedParts)for(var h=0,y=Object.values(x.queries.query);h<y.length;h++)for(var b=y[h],_=0,w=b.slice();_<w.length;_++){var D=w[_];L_(D.obsSet,a.mutatedParts)&&(Oo(b,D),D.subscribers.forEach(function(I){return d.add(I)}))}else if(p.length>0){x.optimisticOps=x.optimisticOps.filter(function(I){return I.trans!==a});for(var S=0,A=Object.values(x.queries.query);S<A.length;S++)for(var b=A[S],k=0,C=b.slice();k<C.length;k++){var D=C[k];if(D.res!=null&&a.mutatedParts)if(c&&!D.dirty){var E=Object.isFrozen(D.res),M=D1(D.res,D.req,p,v,D,E);D.dirty?(Oo(b,D),D.subscribers.forEach(function(L){return d.add(L)})):M!==D.res&&(D.res=M,D.promise=pe.resolve({result:M}))}else D.dirty&&Oo(b,D),D.subscribers.forEach(function(L){return d.add(L)})}}}}d.forEach(function(I){return I()})}}};a.addEventListener("abort",u(!1),{signal:l}),a.addEventListener("error",u(!1),{signal:l}),a.addEventListener("complete",u(!0),{signal:l})}return a},table:function(n){var i=e.table(n),s=i.schema.primaryKey,a=Oe(Oe({},i),{mutate:function(o){var l=me.trans;if(s.outbound||l.db._options.cache==="disabled"||l.explicit)return i.mutate(o);var u=tl["idb://".concat(t,"/").concat(n)];if(!u)return i.mutate(o);var c=i.mutate(o);return(o.type==="add"||o.type==="put")&&(o.values.length>=50||j_(s,o).some(function(d){return d==null}))?c.then(function(d){var f=Oe(Oe({},o),{values:o.values.map(function(m,x){var v,p=!((v=s.keyPath)===null||v===void 0)&&v.includes(".")?to(m):Oe({},m);return xn(p,s.keyPath,d.results[x]),p})}),g=S1(u,f,d);u.optimisticOps.push(g),queueMicrotask(function(){return o.mutatedParts&&Rf(o.mutatedParts)})}):(u.optimisticOps.push(o),o.mutatedParts&&Rf(o.mutatedParts),c.then(function(d){if(d.numFailures>0){Oo(u.optimisticOps,o);var f=S1(u,o,d);f&&u.optimisticOps.push(f),o.mutatedParts&&Rf(o.mutatedParts)}}),c.catch(function(){Oo(u.optimisticOps,o),o.mutatedParts&&Rf(o.mutatedParts)})),c},query:function(o){var l;if(!jC(me,i)||!YC("query",o))return i.query(o);var u=((l=me.trans)===null||l===void 0?void 0:l.db._options.cache)==="immutable",c=me,d=c.requery,f=c.signal,g=j5(t,n,"query",o),m=g[0],x=g[1],v=g[2],p=g[3];if(m&&x)m.obsSet=o.obsSet;else{var h=i.query(o).then(function(y){var b=y.result;if(m&&(m.res=b),u){for(var _=0,w=b.length;_<w;++_)Object.freeze(b[_]);Object.freeze(b)}else y.result=to(b);return y}).catch(function(y){return p&&m&&Oo(p,m),Promise.reject(y)});m={obsSet:o.obsSet,promise:h,subscribers:new Set,type:"query",req:o,dirty:!1},p?p.push(m):(p=[m],v||(v=tl["idb://".concat(t,"/").concat(n)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),v.queries.query[o.query.index.name||""]=p)}return Y5(m,p,d,f),m.promise.then(function(y){return{result:D1(y.result,o,v==null?void 0:v.optimisticOps,i,m,u)}})}});return a}});return r}};function Nf(e,t){return new Proxy(e,{get:function(r,n,i){return n==="db"?t:Reflect.get(r,n,i)}})}var zd=function(){function e(t,r){var n=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=r=Oe({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,cache:"cloned"},r),this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};var s=r.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:st,dbReadyPromise:null,cancelOpen:st,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:r.autoOpen};a.dbReadyPromise=new pe(function(l){a.dbReadyResolve=l}),a.openCanceller=new pe(function(l,u){a.cancelOpen=u}),this._state=a,this.name=t,this.on=hf(this,"populate","blocked","versionchange","close",{ready:[C_,st]}),this.on.ready.subscribe=mC(this.on.ready.subscribe,function(l){return function(u,c){e.vip(function(){var d=n._state;if(d.openComplete)d.dbOpenError||pe.resolve().then(u),c&&l(u);else if(d.onReadyBeingFired)d.onReadyBeingFired.push(u),c&&l(u);else{l(u);var f=n;c||l(function g(){f.on.ready.unsubscribe(u),f.on.ready.unsubscribe(g)})}})}}),this.Collection=Z$(this),this.Table=J$(this),this.Transaction=o5(this),this.Version=S5(this),this.WhereClause=s5(this),this.on("versionchange",function(l){l.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(n.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(n.name,"'. Closing db now to resume the delete request.")),n.close({disableAutoOpen:!1})}),this.on("blocked",function(l){!l.newVersion||l.newVersion<l.oldVersion?console.warn("Dexie.delete('".concat(n.name,"') was blocked")):console.warn("Upgrade '".concat(n.name,"' blocked by other connection holding version ").concat(l.oldVersion/10))}),this._maxKey=Vd(r.IDBKeyRange),this._createTransaction=function(l,u,c,d){return new n.Transaction(l,u,c,n._options.chromeTransactionDurability,d)},this._fireOnBlocked=function(l){n.on("blocked").fire(l),Dc.filter(function(u){return u.name===n.name&&u!==n&&!u._state.vcFired}).map(function(u){return u.on("versionchange").fire(l)})},this.use(T5),this.use(K5),this.use(P5),this.use(I5),this.use(B5);var o=new Proxy(this,{get:function(l,u,c){if(u==="_vip")return!0;if(u==="table")return function(f){return Nf(n.table(f),o)};var d=Reflect.get(l,u,c);return d instanceof TC?Nf(d,o):u==="tables"?d.map(function(f){return Nf(f,o)}):u==="_createTransaction"?function(){var f=d.apply(this,arguments);return Nf(f,o)}:d}});this.vip=o,s.forEach(function(l){return l(n)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new Se.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new Se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var r=this._versions,n=r.filter(function(i){return i._cfg.version===t})[0];return n||(n=new this.Version(t),r.push(n),r.sort(p5),n.stores({}),this._state.autoSchema=!1,n)},e.prototype._whenReady=function(t){var r=this;return this.idbdb&&(this._state.openComplete||me.letThrough||this._vip)?t():new pe(function(n,i){if(r._state.openComplete)return i(new Se.DatabaseClosed(r._state.dbOpenError));if(!r._state.isBeingOpened){if(!r._state.autoOpen){i(new Se.DatabaseClosed);return}r.open().catch(st)}r._state.dbReadyPromise.then(n,i)}).then(t)},e.prototype.use=function(t){var r=t.stack,n=t.create,i=t.level,s=t.name;s&&this.unuse({stack:r,name:s});var a=this._middlewares[r]||(this._middlewares[r]=[]);return a.push({stack:r,create:n,level:i==null?10:i,name:s}),a.sort(function(o,l){return o.level-l.level}),this},e.prototype.unuse=function(t){var r=t.stack,n=t.name,i=t.create;return r&&this._middlewares[r]&&(this._middlewares[r]=this._middlewares[r].filter(function(s){return i?s.create!==i:n?s.name!==n:!1})),this},e.prototype.open=function(){var t=this;return fl(Ua,function(){return C5(t)})},e.prototype._close=function(){var t=this._state,r=Dc.indexOf(this);if(r>=0&&Dc.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}t.isBeingOpened||(t.dbReadyPromise=new pe(function(n){t.dbReadyResolve=n}),t.openCanceller=new pe(function(n,i){t.cancelOpen=i}))},e.prototype.close=function(t){var r=t===void 0?{disableAutoOpen:!0}:t,n=r.disableAutoOpen,i=this._state;n?(i.isBeingOpened&&i.cancelOpen(new Se.DatabaseClosed),this._close(),i.autoOpen=!1,i.dbOpenError=new Se.DatabaseClosed):(this._close(),i.autoOpen=this._options.autoOpen||i.isBeingOpened,i.openComplete=!1,i.dbOpenError=null)},e.prototype.delete=function(t){var r=this;t===void 0&&(t={disableAutoOpen:!0});var n=arguments.length>0&&typeof arguments[0]!="object",i=this._state;return new pe(function(s,a){var o=function(){r.close(t);var l=r._deps.indexedDB.deleteDatabase(r.name);l.onsuccess=St(function(){k5(r._deps,r.name),s()}),l.onerror=Ii(a),l.onblocked=r._fireOnBlocked};if(n)throw new Se.InvalidArgument("Invalid closeOptions argument to db.delete()");i.isBeingOpened?i.dbReadyPromise.then(o):o()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return rr(this._allTables).map(function(r){return t._allTables[r]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var t=O5.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,r,n){var i=this,s=me.trans;(!s||s.db!==this||t.indexOf("!")!==-1)&&(s=null);var a=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var o,l;try{if(l=r.map(function(c){var d=c instanceof i.Table?c.name:c;if(typeof d!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),t=="r"||t===xy)o=xy;else if(t=="rw"||t==wy)o=wy;else throw new Se.InvalidArgument("Invalid transaction mode: "+t);if(s){if(s.mode===xy&&o===wy)if(a)s=null;else throw new Se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s&&l.forEach(function(c){if(s&&s.storeNames.indexOf(c)===-1)if(a)s=null;else throw new Se.SubTransaction("Table "+c+" not included in parent transaction.")}),a&&s&&!s.active&&(s=null)}}catch(c){return s?s._promise(null,function(d,f){f(c)}):It(c)}var u=qC.bind(null,this,o,l,s,n);return s?s._promise(o,u,"lock"):me.trans?fl(me.transless,function(){return i._whenReady(u)}):this._whenReady(u)},e.prototype.table=function(t){if(!Gr(this._allTables,t))throw new Se.InvalidTable("Table ".concat(t," does not exist"));return this._allTables[t]},e}(),V5=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",U5=function(){function e(t){this._subscribe=t}return e.prototype.subscribe=function(t,r,n){return this._subscribe(!t||typeof t=="function"?{next:t,error:r,complete:n}:t)},e.prototype[V5]=function(){return this},e}(),Op;try{Op={indexedDB:cr.indexedDB||cr.mozIndexedDB||cr.webkitIndexedDB||cr.msIndexedDB,IDBKeyRange:cr.IDBKeyRange||cr.webkitIDBKeyRange}}catch{Op={indexedDB:null,IDBKeyRange:null}}function z5(e){var t=!1,r,n=new U5(function(i){var s=A_(e);function a(p){var h=Yc();try{s&&Kc();var y=ro(e,p);return s&&(y=y.finally(no)),y}finally{h&&Hc()}}var o=!1,l,u={},c={},d={get closed(){return o},unsubscribe:function(){o||(o=!0,l&&l.abort(),f&&so.storagemutated.unsubscribe(x))}};i.start&&i.start(d);var f=!1,g=function(){return _y(v)};function m(){return L_(c,u)}var x=function(p){Ig(u,p),m()&&g()},v=function(){if(!(o||!Op.indexedDB)){u={};var p={};l&&l.abort(),l=new AbortController;var h={subscr:p,signal:l.signal,requery:g,querier:e,trans:null},y=a(h);Promise.resolve(y).then(function(b){t=!0,r=b,!(o||h.signal.aborted)&&(u={},c=p,!w$(c)&&!f&&(so(gf,x),f=!0),_y(function(){return!o&&i.next&&i.next(b)}))},function(b){t=!1,["DatabaseClosedError","AbortError"].includes(b==null?void 0:b.name)||o||_y(function(){o||i.error&&i.error(b)})})}};return setTimeout(g,0),d});return n.hasValue=function(){return t},n.getValue=function(){return r},n}var Io=zd;Bc(Io,Oe(Oe({},Cg),{delete:function(e){var t=new Io(e,{addons:[]});return t.delete()},exists:function(e){return new Io(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return D5(Io.dependencies).then(e)}catch{return It(new Se.MissingAPI)}},defineClass:function(){function e(t){Sn(this,t)}return e},ignoreTransaction:function(e){return me.trans?fl(me.transless,e):e()},vip:Um,async:function(e){return function(){try{var t=Gm(e.apply(this,arguments));return!t||typeof t.then!="function"?pe.resolve(t):t}catch(r){return It(r)}}},spawn:function(e,t,r){try{var n=Gm(e.apply(r,t||[]));return!n||typeof n.then!="function"?pe.resolve(n):n}catch(i){return It(i)}},currentTransaction:{get:function(){return me.trans||null}},waitFor:function(e,t){var r=pe.resolve(typeof e=="function"?Io.ignoreTransaction(e):e).timeout(t||6e4);return me.trans?me.trans.waitFor(r):r},Promise:pe,debug:{get:function(){return Vi},set:function(e){kC(e)}},derive:Wc,extend:Sn,props:Bc,override:mC,Events:hf,on:so,liveQuery:z5,extendObservabilitySet:Ig,getByKeyPath:Ns,setByKeyPath:xn,delByKeyPath:b$,shallowClone:_C,deepClone:to,getObjectDiff:W_,cmp:Xe,asap:bC,minKey:jm,addons:[],connections:Dc,errnames:E_,dependencies:Op,cache:tl,semVer:p1,version:p1.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,r){return e+t/Math.pow(10,r*2)})}));Io.maxKey=Vd(Io.dependencies.IDBKeyRange);typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(so(gf,function(e){if(!Sa){var t;t=new CustomEvent(Ym,{detail:e}),Sa=!0,dispatchEvent(t),Sa=!1}}),addEventListener(Ym,function(e){var t=e.detail;Sa||Y_(t)}));function Y_(e){var t=Sa;try{Sa=!0,so.storagemutated.fire(e),q_(e,!0)}finally{Sa=t}}var Sa=!1,ba,Qm=function(){};typeof BroadcastChannel!="undefined"&&(Qm=function(){ba=new BroadcastChannel(Ym),ba.onmessage=function(e){return e.data&&Y_(e.data)}},Qm(),typeof ba.unref=="function"&&ba.unref(),so(gf,function(e){Sa||ba.postMessage(e)}));typeof addEventListener!="undefined"&&(addEventListener("pagehide",function(e){if(!zd.disableBfCache&&e.persisted){Vi&&console.debug("Dexie: handling persisted pagehide"),ba==null||ba.close();for(var t=0,r=Dc;t<r.length;t++){var n=r[t];n.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(e){!zd.disableBfCache&&e.persisted&&(Vi&&console.debug("Dexie: handling persisted pageshow"),Qm(),Y_({all:new Mr(-1/0,[[]])}))}));pe.rejectionMapper=C$;kC(Vi);function H7(e){return e}class HC extends J{static fields(){return{id:this.attr(null),reportId:this.attr(""),pharmacyId:this.attr(""),periodType:this.attr(""),period:this.attr(""),year:this.attr(""),startDate:this.attr(""),endDate:this.attr(""),province:this.attr(""),district:this.attr(""),nid:this.attr(""),name:this.attr(""),age:this.attr(""),cellphone:this.attr(""),patientType:this.attr(""),therapeuticLine:this.attr(""),therapeuticRegimen:this.attr(""),pickupDate:this.attr(""),nextPickUpDate:this.attr(""),lastPrescriptionDate:this.attr(""),dispenseType:this.attr(""),referrenceDate:this.attr(""),referralPharmacy:this.attr(""),notes:this.attr("")}}}B(HC,"entity","referredPatientsReports");class KC extends J{static async apiInitMmiaProcessing(t){return await this.api().post("/mmiaReport/initReportProcess",t)}static async apiPrintMmiaReport(t,r){return await this.api().get(`/mmiaReport/printReport/${t}/${r}`)}static async apiGetMmiaReport(t){return await this.api().get(`/mmiaReport/${t}`)}static async getProcessingStatus(t,r){return await this.api().get(`/${t}/getProcessingStatus/${r.id}`)}static async apiInitReceivedStockProcessing(t){return await this.api().post("/stockReportTemp/initReportProcess",t)}static async apiReceivedStockReport(t,r){return await this.api().get(`/stockReportTemp/printReport/${t}/${r}`)}static async apiInitUsedStockProcessing(t){return await this.api().post("/usedStockReportTemp/initReportProcess",t)}static async apiUsedStockReport(t,r){return await this.api().get(`/usedStockReportTemp/printReport/${t}/${r}`)}static async apiInitArvDailyRegisterProcessing(t){return await this.api().post("/arvDailyRegisterReportTemp/initReportProcess",t)}static async apiArvDailyRegisterReport(t,r){return await this.api().get(`/arvDailyRegisterReportTemp/printReport/${t}/${r}`)}static async apiInitActiveInDrugStoreProcessing(t){return await this.api().post("/activePatientReport/initReportProcess",t)}static async apiActivePatientReport(t,r){return await this.api().get(`/activePatientReport/printReport/${t}/${r}`)}static async apiInitPatientsHistryProcessing(t){return await this.api().post("/historicoLevantamentoReport/initReportProcess",t)}static async apiPatientsHistryReport(t,r){return await this.api().get(`/historicoLevantamentoReport/printReport/${t}/${r}`)}static apiMigrationStatus(){return this.api().get("/migration/migrationStatus")}static apiMigrationStatusDetails(t){return this.api().get(`/migration/migrationStatusDetails/${t}`)}static apiGetRegisteredPatientByDispenseType(t,r,n){return this.api().get(`/dashBoard/getRegisteredPatientByDispenseType/${t}/${r}/${n}`)}static apiGetPatientsFirstDispenseByGender(t,r,n){return this.api().get(`/dashBoard/getPatientsFirstDispenseByGender/${t}/${r}/${n}`)}static apiGetPatientsFirstDispenseByAge(t,r,n){return this.api().get(`/dashBoard/getPatientsFirstDispenseByAge/${t}/${r}/${n}`)}static apiGetActivePatientPercentage(t,r,n){return this.api().get(`/dashBoard/getActivePatientPercentage/${t}/${r}/${n}`)}static apiGetDispenseByAge(t,r,n){return this.api().get(`/dashBoard/getDispenseByAge/${t}/${r}/${n}`)}static apiGetDispensesByGender(t,r,n){return this.api().get(`/dashBoard/getDispensesByGender/${t}/${r}/${n}`)}static apiGetStockAlert(t,r){return this.api().get(`/dashBoard/getStockAlert/${t}/${r}`)}static apiGetStockAlertAll(t){return this.api().get(`/dashBoard/getStockAlertAll/${t}`)}static apiGetDashboardServiceButton(t,r){return this.api().get(`/dashBoard/getDashboardServiceButton/${t}/${r}`)}static getFormatDDMMYYYY(t){return G(t).format("DD-MM-YYYY")}static getFormatYYYYMMDD(t){return G(t).format("YYYY-MM-DD")}}B(KC,"entity","reports");class fd extends J{static fields(){return{id:this.string(()=>fe()),operationDate:this.attr(""),creationDate:this.attr(""),patientTransReferenceTypeId:this.attr(""),originId:this.attr(""),destination:this.attr(""),identifierId:this.attr(""),patientId:this.attr(""),matchId:this.attr(""),syncStatus:this.attr(""),operationType:this.belongsTo(za,"patientTransReferenceTypeId"),origin:this.belongsTo(Ne,"originId"),identifier:this.belongsTo(Ds,"identifierId"),patient:this.belongsTo(bn,"patientId")}}}B(fd,"entity","patientTransReferences"),B(fd,"primaryKey","id"),B(fd,"piniaOptions",{persist:!0});class za extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),description:this.attr(""),syncStatus:this.attr(""),patientTransReferences:this.hasMany(fd,"patientTransReferenceTypeId")}}}B(za,"entity","patientTransReferenceTypes"),B(za,"primaryKey","id"),B(za,"piniaOptions",{persist:!0});class Ja extends J{static fields(){return{id:this.string(()=>fe()),code:this.attr(""),description:this.attr(""),syncStatus:this.attr("")}}}B(Ja,"entity","clinicSectorTypes"),B(Ja,"primaryKey","id"),B(Ja,"piniaOptions",{persist:!0});class W0 extends J{static fields(){return{id:this.attr(null),code:this.attr(""),value:this.attr("")}}}B(W0,"entity","migrationStages"),B(W0,"primaryKey","id"),B(W0,"piniaOptions",{persist:!0});class rl extends J{static fields(){return{id:this.attr(null),urlPath:this.attr(""),code:this.attr(""),destination:this.attr(""),port:this.attr(""),username:this.attr(""),syncStatus:this.attr(""),password:this.attr("")}}}B(rl,"entity","provincialServers"),B(rl,"primaryKey","id"),B(rl,"piniaOptions",{persist:!0});class nl extends J{static fields(){return{id:this.attr(null),key:this.attr(""),value:this.attr(""),syncStatus:this.attr(""),description:this.attr("")}}}B(nl,"entity","systemConfigs"),B(nl,"primaryKey","id"),B(nl,"piniaOptions",{persist:!0});class Ls extends J{static fields(){return{id:this.attr(null),code:this.attr(""),description:this.attr("")}}}B(Ls,"entity","menus"),B(Ls,"primaryKey","id"),B(Ls,"piniaOptions",{persist:!0});class Ac extends J{static fields(){return{role_id:this.attr(null),menu_id:this.attr(null)}}}B(Ac,"entity","roleMenus"),B(Ac,"primaryKey",["role_id","menu_id"]),B(Ac,"piniaOptions",{persist:!0});class kc extends J{static fields(){return{id:this.attr(null),authority:this.attr(""),description:this.attr(""),name:this.attr(""),active:this.attr(""),syncStatus:this.attr(""),menus:this.belongsToMany(Ls,Ac,"role_id","menu_id"),users:this.belongsToMany($s,pc,"role_id","user_id")}}}B(kc,"entity","roles"),B(kc,"primaryKey","id"),B(kc,"piniaOptions",{persist:!0});class Xm extends J{static fields(){return{secUser:this.attr(null),role:this.attr(null)}}}B(Xm,"entity","secUserRoles"),B(Xm,"piniaOptions",{persist:!0});class j0 extends J{static fields(){return{id:this.attr(null),eventDate:this.attr(""),moviment:this.attr(""),orderNumber:this.attr(""),incomes:this.attr(""),outcomes:this.attr(""),posetiveAdjustment:this.attr(""),negativeAdjustment:this.attr(""),loses:this.attr(""),balance:this.attr(""),notes:this.attr(""),code:this.attr(""),stockId:this.attr("")}}}B(j0,"entity","drugStockFileEvents"),B(j0,"primaryKey","id"),B(j0,"piniaOptions",{persist:!0});class Y0 extends J{static fields(){return{id:this.attr(null),drugId:this.attr(null),drug:this.attr(""),drugFileSummary:this.attr(""),drugFileSummaryBatch:this.attr("")}}}B(Y0,"entity","drugFiles"),B(Y0,"primaryKey","id"),B(Y0,"piniaOptions",{persist:!0});class Zm extends J{static fields(){return{id:this.attr(null),drug:this.attr(""),balance:this.attr(""),avgConsuption:this.attr(""),state:this.attr("")}}}B(Zm,"entity","stockAlerts"),B(Zm,"primaryKey","id");class H0 extends J{static fields(){return{id:this.string(()=>fe()),operationType:this.attr(""),username:this.attr(()=>localStorage.getItem("user")),className:this.attr(""),syncStatus:this.attr(""),entity:this.attr(null)}}}B(H0,"entity","auditSyncronization"),B(H0,"primaryKey","id"),B(H0,"piniaOptions",{persist:!0});class VC extends J{static fields(){return{id:this.attr(null),reportId:this.attr(""),periodType:this.attr(""),period:this.attr(""),year:this.attr(""),startDate:this.attr(""),endDate:this.attr(""),province:this.attr(""),district:this.attr(""),orderNumber:this.attr(""),drugName:this.attr(""),expiryDate:this.attr(""),dateReceived:this.attr(""),unitsReceived:this.attr(""),manufacture:this.attr(""),batchNumber:this.attr("")}}}B(VC,"entity","stockReceivedReports");class UC extends J{static fields(){return{id:this.attr(null),reportId:this.attr(""),periodType:this.attr(""),period:this.attr(""),year:this.attr(""),startDate:this.attr(""),endDate:this.attr(""),province:this.attr(""),district:this.attr(""),fnmCode:this.attr(""),drugName:this.attr(""),balance:this.attr(""),receivedStock:this.attr(0),stockIssued:this.attr(0),adjustment:this.attr(0),actualStock:this.attr(0)}}}B(UC,"entity","stockUsedReports");class zC extends J{static fields(){return{id:this.string(()=>fe()),reportId:this.attr(""),periodType:this.attr(""),period:this.attr(""),year:this.attr(""),startDate:this.attr(""),endDate:this.attr(""),province:this.attr(""),district:this.attr(""),nid:this.attr(""),firstNames:this.attr(""),middleNames:this.attr(""),lastNames:this.attr(""),cellphone:this.attr(""),tipoTarv:this.attr(""),pickUpDate:this.attr(""),nexPickUpDate:this.attr(""),startReason:this.attr(""),therapeuticalRegimen:this.attr(""),dispenseType:this.attr(""),age:this.attr(""),dispenseMode:this.attr(""),clinicalService:this.attr(""),clinic:this.attr(""),patientType:this.attr(""),clinicsector:this.attr("")}}}B(zC,"entity","patientHistorys");class JC extends J{static fields(){return{id:this.attr(null),reportId:this.attr(""),periodType:this.attr(""),period:this.attr(""),year:this.attr(""),startDate:this.attr(""),endDate:this.attr(""),province:this.attr(""),district:this.attr(""),nid:this.attr(""),name:this.attr(""),cellphone:this.attr(""),dateMissedPickUp:this.attr(""),dateIdentifiedAbandonment:this.attr(""),returnedPickUp:this.attr("")}}}B(JC,"entity","absentPatientReports");class GC extends J{static fields(){return{id:this.string(()=>fe()),reportId:this.attr(""),totalPacientesInicio:this.attr(0),totalPacientesManter:this.attr(0),totalPacientesAlterar:this.attr(0),totalPacientesTransito:this.attr(0),totalPacientesTransferidoDe:this.attr(0),totalPacientesAdulto:this.attr(0),totalPacientes04:this.attr(0),totalPacientes59:this.attr(0),totalPacientes1014:this.attr(0),totalPacientesPPE:this.attr(0),totalPacientesPREP:this.attr(0),totalpacientesCE:this.attr(0),dsM0:this.attr(0),dsM1:this.attr(0),dsM2:this.attr(0),dsM3:this.attr(0),dsM4:this.attr(0),dsM5:this.attr(0),dtM0:this.attr(0),dtM1:this.attr(0),dtM2:this.attr(0),dbM0:this.attr(0),dbM1:this.attr(0),dM:this.attr(0)}}static addTotalPacientesInicio(){this.totalPacientesInicio++}static addTotalPacientesManter(){this.totalPacientesManter++}static addTotalPacientesAlterar(){this.totalPacientesAlterar++}static addTotalPacientesTransito(){this.totalPacientesTransito++}static addTotalPacientesTransferido(){this.totalPacientesTransferidoDe++}static addTotalPacientesAdulto(){this.totalPacientesAdulto++}static addTotalPacientes04(){this.totalPacientes04++}static addTotalPacientes59(){this.totalPacientes59++}static addTotalPacientes1014(){this.totalPacientes1014++}static addTotalPacientesPPE(){this.totalPacientesPPE++}static addTotalPacientesPREP(){this.totalPacientesPREP++}static addTotalPacientesCE(){this.totalpacientesCE++}static addTotalDsM0(){this.dsM0++}static addTotalDtM0(){this.dtM0++}static addTotalDM(){this.dM++}static addTotalPrep(){this.prep++}}B(GC,"entity","mmiaReports");class QC extends J{static fields(){return{id:this.string(()=>fe()),reportId:this.attr(""),periodType:this.attr(""),period:this.attr(""),year:this.attr(""),startDate:this.attr(""),endDate:this.attr(""),province:this.attr(""),district:this.attr(""),fnmCode:this.attr(""),unit:this.attr(""),drugName:this.attr(""),balance:this.attr(""),initialEntrance:this.attr(0),outcomes:this.attr(0),lossesAdjustments:this.attr(0),actualStock:this.attr(0),inventory:this.attr(0),expireDate:this.attr(0)}}}B(QC,"entity","mmiaStockReports");class XC extends J{static fields(){return{id:this.string(()=>fe()),reportId:this.attr(""),code:this.attr(""),regimen:this.attr(""),line:this.attr(""),lineCode:this.attr(""),totalPatients:this.attr(0),cumunitaryClinic:this.attr(0),totalReferidos:this.attr(0),totalline1:this.attr(0),totaldcline1:this.attr(0),totalline2:this.attr(0),totaldcline2:this.attr(0),totalline3:this.attr(0),totaldcline3:this.attr(0),totalline4:this.attr(0),totaldcline4:this.attr(0),totalrefline1:this.attr(0),totalrefline2:this.attr(0),totalrefline3:this.attr(0),totalrefline4:this.attr(0)}}}B(XC,"entity","mmiaRegimenSubReport");const fx=class extends J{static fields(){return{id:this.attr(null),reportId:this.attr(""),periodType:this.attr(""),period:this.attr(""),year:this.attr(""),startDate:this.attr(""),endDate:this.attr(""),province:this.attr(""),district:this.attr(""),clinic:this.attr(""),orderNumber:this.attr(""),nid:this.attr(""),patientName:this.attr(""),patientType:this.attr(""),ageGroup_0_4:this.attr(""),ageGroup_5_9:this.attr(""),ageGroup_10_14:this.attr(""),ageGroup_Greater_than_15:this.attr(""),arvType:this.attr(""),dispensationType:this.attr(""),therapeuticLine:this.attr(""),pickupDate:this.attr(""),nextPickUpDate:this.attr(""),regime:this.attr(""),packId:this.attr(""),startReason:this.attr(""),prep:this.attr(""),ppe:this.attr(""),drugQuantityTemps:this.hasMany(fx,"id")}}};let hd=fx;B(hd,"entity","arvDailyRegisterTempReports");class ZC extends J{static fields(){return{id:this.attr(null),reportId:this.attr(""),periodType:this.attr(""),period:this.attr(""),year:this.attr(""),startDate:this.attr(""),endDate:this.attr(""),province:this.attr(""),district:this.attr(""),nid:this.attr(""),firstNames:this.attr(""),middleNames:this.attr(""),lastNames:this.attr(""),age:this.attr(""),cellphone:this.attr(""),patientType:this.attr(""),therapeuticLine:this.attr(""),therapeuticRegimen:this.attr(""),pickupDate:this.attr(""),nextPickUpDate:this.attr(""),prescriptionDate:this.attr("")}}}B(ZC,"entity","activeInDrugStores");class eO extends J{static fields(){return{id:this.attr(null),drugName:this.attr(null),quantity:this.attr(null),arvDailyRegisterReport:this.belongsTo(hd,"arv_daily_register_report_id")}}}B(eO,"entity","drugQuantityTemps");class il extends J{static fields(){return{id:this.string(()=>fe()),quantity:this.number(0),drug_distributor_id:this.attr(null),stock_distributor_id:this.attr(null),stock_id:this.attr(null),syncStatus:this.attr(""),stock:this.belongsTo(mn,"stock_id"),drugDistributor:this.belongsTo(sl,"drug_distributor_id"),stockDistributor:this.belongsTo(Ga,"stock_distributor_id")}}}B(il,"entity","stockDistributorBatchs"),B(il,"primaryKey","id"),B(il,"piniaOptions",{persist:!0});class sl extends J{static fields(){return{id:this.string(()=>fe()),quantity:this.number(0),stock_distributor_id:this.attr(null),drug_id:this.attr(null),clinic_id:this.attr(""),syncStatus:this.attr(""),enabled:this.boolean(!1),status:this.attr(""),clinic:this.belongsTo(Ne,"clinic_id"),stockDistributor:this.belongsTo(Ga,"stock_distributor_id"),stockDistributorBatchs:this.hasMany(il,"drug_distributor_id"),drug:this.belongsTo(br,"drug_id")}}static getClassName(){return"drugDistributor"}}B(sl,"entity","drugDistributors"),B(sl,"primaryKey","id"),B(sl,"piniaOptions",{persist:!0});class Ga extends J{static fields(){return{id:this.string(()=>fe()),orderNumber:this.attr(""),creationDate:this.attr(""),syncStatus:this.attr(""),notes:this.attr(""),clinic_id:this.attr(""),status:this.attr(""),clinic:this.belongsTo(Ne,"clinic_id"),drugDistributors:this.hasMany(sl,"stock_distributor_id")}}static getClassName(){return"stockDistributor"}}B(Ga,"entity","stockDistributors"),B(Ga,"primaryKey","id"),B(Ga,"piniaOptions",{persist:!0});class tO extends J{static fields(){return{id:this.string(()=>fe()),reportId:this.attr(""),periodType:this.attr(""),period:this.attr(""),year:this.attr(""),startDate:this.attr(""),endDate:this.attr(""),province:this.attr(""),district:this.attr(""),nid:this.attr(""),firstNames:this.attr(""),middleNames:this.attr(""),lastNames:this.attr(""),cellphone:this.attr(""),tipoTarv:this.attr(""),pickUpDate:this.attr(""),nexPickUpDate:this.attr(""),startReason:this.attr(""),therapeuticalRegimen:this.attr(""),dispenseType:this.attr(""),age:this.attr(""),dispenseMode:this.attr(""),clinicalService:this.attr(""),clinic:this.attr(""),patientType:this.attr("")}}}B(tO,"entity","notSyncronizedPacksToServer");class rO extends J{static fields(){return{id:this.string(()=>fe()),reportId:this.attr(""),periodType:this.attr(""),period:this.attr(""),year:this.attr(""),startDate:this.attr(""),endDate:this.attr(""),province:this.attr(""),district:this.attr(""),drugName:this.attr(""),bottles_packed:this.attr("")}}}B(rO,"entity","packsByDrugBottles");class nO extends J{static fields(){return{id:this.attr(null),reportId:this.attr(""),periodType:this.attr(""),period:this.attr(""),year:this.attr(""),startDate:this.attr(""),endDate:this.attr(""),province:this.attr(""),district:this.attr(""),nid:this.attr(""),name:this.attr(""),gender:this.attr(""),age:this.attr(""),visitDate:this.attr(""),clinic:this.attr(""),wasTBScreened:this.attr(""),wasRAMScreened:this.attr(""),isPregnant:this.attr("")}}}B(nO,"entity","patientsWithScreeningReports");class iO extends J{static fields(){return{id:this.string(()=>fe()),reportId:this.attr(""),periodType:this.attr(""),period:this.attr(""),year:this.attr(""),startDate:this.attr(""),endDate:this.attr(""),province:this.attr(""),district:this.attr(""),nid:this.attr(""),fullName:this.attr(""),pickUpDate:this.attr(""),nexPickUpDate:this.attr(""),therapeuticalRegimen:this.attr(""),dispenseType:this.attr(""),dispenseMode:this.attr(""),clinicalService:this.attr(""),clinic:this.attr("")}}}B(iO,"entity","patientPickedUpMedAtUsReport");class sO extends J{static fields(){return{id:this.string(()=>fe()),reportId:this.attr(""),periodType:this.attr(""),period:this.attr(""),year:this.attr(""),startDate:this.attr(""),endDate:this.attr(""),province:this.attr(""),district:this.attr(""),nid:this.attr(""),firstNames:this.attr(""),middleNames:this.attr(""),lastNames:this.attr(""),pickUpDate:this.attr(""),nextPickUpDate:this.attr(""),therapeuticRegimen:this.attr(""),dispenseType:this.attr(""),clinicalService:this.attr(""),clinicSectorName:this.attr("")}}}B(sO,"entity","patientsExpectedReport");var J5={getEntities(){const e=[];return e.push(Zu),e.push(yn),e.push(Zn),e.push(ed),e.push(Ko),e.push(sd),e.push(Ne),e.push(_n),e.push(br),e.push(As),e.push(Ra),e.push(_s),e.push(_i),e.push(Ps),e.push(xs),e.push(ws),e.push(td),e.push(bn),e.push(ad),e.push(Ds),e.push(ti),e.push($a),e.push(ji),e.push(mn),e.push(Ms),e.push(Ni),e.push(ps),e.push(gs),e.push(Ya),e.push(bc),e.push(ja),e.push(Wa),e.push(_c),e.push(qa),e.push(rd),e.push(Jo),e.push(Vo),e.push(Uo),e.push(Go),e.push(zo),e.push(Ho),e.push(Yo),e.push(Ba),e.push(qi),e.push(Wi),e.push(Pa),e.push(Fa),e.push(Na),e.push(ks),e.push(Ta),e.push(Cs),e.push(yc),e.push(vn),e.push(Os),e.push(Bs),e.push(ei),e.push(Es),e.push(Qo),e.push(Rs),e.push(Va),e.push(Ka),e.push(gc),e.push(Is),e.push(vc),e.push(mc),e.push(KC),e.push(za),e.push(fd),e.push(Ja),e.push(La),e.push(W0),e.push(rl),e.push(nl),e.push($s),e.push(kc),e.push(Ls),e.push(Ac),e.push(pc),e.push(od),e.push(ld),e.push(Xm),e.push(Ss),e.push(j0),e.push(Y0),e.push(Zm),e.push(VC),e.push(UC),e.push(zC),e.push(H0),e.push(JC),e.push(GC),e.push(QC),e.push(XC),e.push(hd),e.push(eO),e.push(ZC),e.push(HC),e.push(Ga),e.push(il),e.push(sl),e.push(tO),e.push(rO),e.push(_c),e.push(nO),e.push(iO),e.push(sO),e.push(id),e}};function G5(e){return typeof e=="object"&&e!==null}function k1(e,t){return e=G5(e)?e:Object.create(null),new Proxy(e,{get(r,n,i){return n==="key"?Reflect.get(r,n,i):Reflect.get(r,n,i)||Reflect.get(t,n,i)}})}function Q5(e,t){return t.reduce((r,n)=>r==null?void 0:r[n],e)}function X5(e,t,r){return t.slice(0,-1).reduce((n,i)=>/^(__proto__)$/.test(i)?{}:n[i]=n[i]||{},e)[t[t.length-1]]=r,e}function Z5(e,t){return t.reduce((r,n)=>{const i=n.split(".");return X5(r,i,Q5(e,i))},{})}function eN(e,t){return r=>{var n;try{const{storage:i=localStorage,beforeRestore:s=void 0,afterRestore:a=void 0,serializer:o={serialize:JSON.stringify,deserialize:JSON.parse},key:l=t.$id,paths:u=null,debug:c=!1}=r;return{storage:i,beforeRestore:s,afterRestore:a,serializer:o,key:((n=e.key)!=null?n:d=>d)(typeof l=="string"?l:l(t.$id)),paths:u,debug:c}}catch(i){return r.debug&&console.error("[pinia-plugin-persistedstate]",i),null}}}function E1(e,{storage:t,serializer:r,key:n,debug:i}){try{const s=t==null?void 0:t.getItem(n);s&&e.$patch(r==null?void 0:r.deserialize(s))}catch(s){i&&console.error("[pinia-plugin-persistedstate]",s)}}function C1(e,{storage:t,serializer:r,key:n,paths:i,debug:s}){try{const a=Array.isArray(i)?Z5(e,i):e;t.setItem(n,r.serialize(a))}catch(a){s&&console.error("[pinia-plugin-persistedstate]",a)}}function tN(e={}){return t=>{const{auto:r=!1}=e,{options:{persist:n=r},store:i,pinia:s}=t;if(!n)return;if(!(i.$id in s.state.value)){const o=s._s.get(i.$id.replace("__hot:",""));o&&Promise.resolve().then(()=>o.$persist());return}const a=(Array.isArray(n)?n.map(o=>k1(o,e)):[k1(n,e)]).map(eN(e,i)).filter(Boolean);i.$persist=()=>{a.forEach(o=>{C1(i.$state,o)})},i.$hydrate=({runHooks:o=!0}={})=>{a.forEach(l=>{const{beforeRestore:u,afterRestore:c}=l;o&&(u==null||u(t)),E1(i,l),o&&(c==null||c(t))})},a.forEach(o=>{const{beforeRestore:l,afterRestore:u}=o;l==null||l(t),E1(i,o),u==null||u(t),i.$subscribe((c,d)=>{C1(d,o)},{detached:!0})})}}var rN=tN(),My=()=>{const e=CT();return e.use(rN),nf(e),e};function nN(){const e={};return J5.getEntities().forEach(r=>{const n=r.entity,i=r.fields(),s=Object.keys(i).map(a=>i[a].primaryKey?`++${a}`:a);e[n]=s.join(", ")}),e}const iN=nN(),re=new zd("idmed");re.version(1).stores(iN);re.open().catch(e=>{console.error(`Failed to open db: ${e.stack}`)});const Tr=he(Rs),iu=re[Rs.entity],{alertSucess:sN,alertError:O1}=Ce(),{isMobile:Lf,isOnline:qf}=ve();var K0={post(e){if(Lf.value&&!qf.value)this.putMobile(e);else return this.postWeb(e)},get(e){Lf.value&&!qf.value?this.getMobile():this.getWeb(e)},patch(e,t){if(Lf.value&&!qf.value)this.putMobile(t);else return this.patchWeb(e,t)},delete(e){return Lf.value&&!qf.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("healthInformationSystem",e).then(t=>{Tr.save(t.data)})},async getWeb(e){if(e>=0)return await O().get("healthInformationSystem?offset="+e+"&max=100").then(t=>{Tr.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("healthInformationSystem/"+e,t).then(r=>{Tr.save(r.data)})},deleteWeb(e){return O().delete("healthInformationSystem/"+e).then(()=>{Tr.destroy(e)})},addMobile(e){return iu.put(JSON.parse(JSON.stringify(e))).then(()=>{Tr.save(JSON.parse(e))}).catch(t=>{O1("Aconteceu um erro inesperado nesta opera\xE7\xE3o.")})},putMobile(e){return iu.put(JSON.parse(JSON.stringify(e))).then(()=>{Tr.save(JSON.parse(e))}).catch(t=>{O1("Aconteceu um erro inesperado nesta opera\xE7\xE3o.")})},getMobile(){return iu.toArray().then(e=>{Tr.save(e)}).catch(e=>{})},deleteMobile(e){return iu.delete(e).then(()=>{Tr.destroy(e),sN("O Registo foi removido com sucesso")}).catch(t=>{})},addBulkMobile(e){return iu.bulkPut(e).then(()=>{Tr.save(e)}).catch(t=>{console.log(t)})},async apiFetchById(e){return await O().get(`/healthInformationSystem/${e}`)},async apiGetAll(e,t){return await O().get("/healthInformationSystem?offset="+e+"&max="+t)},async apiSave(e){return await O().post("/healthInformationSystem",e)},async apiUpdate(e){return await O().patch("/healthInformationSystem/"+e.id,e)},newInstanceEntity(){return Tr.getModel().$newInstance()},localSave(e){Tr.save(e)},getAllFromStorage(){return Tr.all()},getAllActive(){return Tr.with("interoperabilityAttributes").where("active",!0).get()},getAllHis(){return Tr.withAllRecursive(3).get()}};const Mn=he(Ka),su=Ka.entity,{alertSucess:Iy,alertError:K7}=Ce(),{isMobile:Wf,isOnline:jf}=ve();var V0={async post(e){return Wf.value&&!jf.value?this.addMobile(e):this.postWeb(e)},get(e){Wf.value&&!jf.value?this.getMobile():this.getWeb(e)},async patch(e,t){Wf.value&&!jf.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return Wf.value&&!jf.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("interoperabilityType",e);Mn.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("interoperabilityType?offset="+e+"&max=100").then(t=>{Mn.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("interoperabilityType/"+e,t);Mn.save(r.data),Iy("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("interoperabilityType/"+e);Mn.destroy(e),Iy("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return re[su].put(JSON.parse(JSON.stringify(e))).then(()=>{Mn.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return re[su].put(JSON.parse(JSON.stringify(e))).then(()=>{Mn.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return re[su].toArray().then(e=>{Mn.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return re[su].delete(e).then(()=>{Mn.destroy(e),Iy("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return re[su].bulkPut(e).then(()=>{Mn.save(e)}).catch(t=>{console.log(t)})},async apiGetAll(e,t){return this.get(e)},async apiFetchById(e){return await O().get(`/interoperabilityType/${e}`)},newInstanceEntity(){return Mn.getModel().$newInstance()},getAllFromStorage(){return Mn.all()},getAll(){return Mn.query().withAll().get()}};const Ft=he(_n),bo=re[_n.entity],{closeLoading:au,showloading:ou}=ut(),{alertSucess:aN,alertError:V7}=Ce(),{isMobile:Yf,isOnline:Hf}=ve();var Da={post(e){return Yf.value&&!Hf.value?this.addMobile(e):this.postWeb(e)},get(e){Yf.value&&!Hf.value?this.getMobile():this.getWeb(e)},async patch(e,t){Yf.value&&!Hf.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return Yf.value&&!Hf.value?this.deleteMobile(e):this.deleteMobile(e)},postWeb(e){return ou(),O().post("clinicSector",e).then(t=>{Ft.save(t.data),au()})},async getWeb(e){if(e>=0)return await O().get("clinicSector?offset="+e+"&max=100").then(t=>{Ft.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return ou(),O().patch("clinicSector/"+e,t).then(r=>{Ft.save(r.data),au()})},async deleteWeb(e){return O().delete("clinicSector/"+e).then(()=>{Ft.destroy(e)})},addMobile(e){return ou(),bo.put(JSON.parse(JSON.stringify(e))).then(()=>{Ft.save(e),au()}).catch(t=>{console.log(t)})},putMobile(e){return ou(),bo.put(JSON.parse(JSON.stringify(e))).then(()=>{Ft.save(e),au()}).catch(t=>{console.log(t)})},getMobile(){return ou(),bo.toArray().then(e=>{Ft.save(e),au()}).catch(e=>{console.log(e)})},deleteMobile(e){return bo.delete(e).then(()=>{Ft.destroy(e),aN("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return bo.bulkPut(e).then(()=>{Ft.save(e)}).catch(t=>{console.log(t)})},newInstanceEntity(){return Ft.getModel().$newInstance()},getAllClinicSectors(){return Ft.withAll().get()},getClinicSectorsById(e){return Ft.withAll().where("id",e).first()},getClinicSectorsByClinicId(e){return Ft.query().where("parentClinic_id",e).get()},getClinicSectorsByFacilityTypeId(e,t){return Ft.query().where("parentClinic_id",e).where("facilityTypeId",t).get()},getClinicSectorsByIdAndFacilityTypeId(e,t){return Ft.query().where("id",e).where("facilityTypeId",t).get()},getActivebyClinicId(e){return Ft.query().with("facilityType").where(t=>t.active&&t.parentClinic_id===e).get()},getActiveUSClinicSectorByClinic(e){return Ft.withAllRecursive(1).where("active",!0).where(t=>t.parentClinic_id===e).whereHas("facilityType",t=>{t.where("code","PARAGEM_UNICA").orWhere("code","NORMAL")}).orderBy("code","asc").get()},getClinicSectorByCode(e){return Ft.query().withAllRecursive(1).where("code",e).first()},getClinicSectorSlimByCode(e){return Ft.query().where("code",e).first()},async getClinicSectorsDexie(){try{const e=await bo.toArray();return Ft.save(e),console.log(e),e}catch(e){console.error("Failed to get appointments:",e)}},async getAllByIDsFromDexie(e){return await bo.where("id").anyOfIgnoreCase(e).toArray()}},$t={},Ji={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=0,r={},n=Array.prototype.slice,i="setMsg",s=typeof window!="undefined"&&window.postMessage&&window.addEventListener,a=function(b){return b[0].apply(null,n.call(b,1))},o=function(b){var _=b.data,w;typeof _=="string"&&_.indexOf(i)===0&&(w=r[_],w&&(delete r[_],a(w)))};s&&window.addEventListener("message",o);var l=function(){for(var b=[],_=0;_<arguments.length;_++)b[_]=arguments[_];var w=t++,D=i+w;return r[D]=b,window.postMessage(D,"*"),w};e.setFast=function(){return s?l:function(){for(var b=[],_=0;_<arguments.length;_++)b[_]=arguments[_];setTimeout(function(){a(b)},0)}}();var u=function(){},c=["R"],d=["F"],f=["P"],g=function(){function b(_){this._state=f,this._queue=[],this._outcome=void 0,_!==u&&h(this,_)}return b.doPolyFill=function(){typeof le!="undefined"&&(le.Promise||(le.Promise=this)),typeof window!="undefined"&&(window.Promise||(window.Promise=this))},b.prototype.catch=function(_){return this.then(function(){},_)},b.prototype.then=function(_,w){if(typeof _!="function"&&this._state===d||typeof w!="function"&&this._state===c)return this;var D=new b(u);if(this._state!==f){var S=this._state===d?_:w;x(D,S,this._outcome)}else this._queue.push(new m(D,_,w));return D},b.resolve=function(_){return _ instanceof this?_:v._resolve(new b(u),_)},b.reject=function(_){return v._reject(new b(u),_)},b.all=function(_){return new b(function(w,D){var S=[];if(!_.length){w([]);return}for(var A=function(E,M,I){I!==void 0?S.push(I):S.push(M),S.length==_.length&&w(S)},k=function(E){_[E].then(function(M){A(E,M,void 0)}).catch(function(M){A(E,void 0,M)})},C=0;C<_.length;C++)k(C)})},b.race=function(_){var w=this,D=_.length,S=!1,A=-1,k=new b(u);if(Array.isArray(_)!==!1)return this.reject(new TypeError);function C(E){w.resolve(E).then(function(M){S||(S=!0,v._resolve(k,M))},function(M){S||(S=!0,v._reject(k,M))})}if(!D)return this.resolve([]);for(;++A<D;)C(_[A]);return k},b}();e.Promise=g;var m=function(){function b(_,w,D){this._promise=_,typeof w=="function"&&(this._onFulfilled=w,this._callFulfilled=this._otherCallFulfilled),typeof D=="function"&&(this._onRejected=D,this._callRejected=this._otherCallRejected)}return b.prototype._callFulfilled=function(_){v._resolve(this._promise,_)},b.prototype._otherCallFulfilled=function(_){x(this._promise,this._onFulfilled,_)},b.prototype._callRejected=function(_){v._reject(this._promise,_)},b.prototype._otherCallRejected=function(_){x(this._promise,this._onRejected,_)},b}();e._QueueItem=m;function x(b,_,w){e.setFast(function(){var D;try{D=_.apply(null,w)}catch(S){return v._reject(b,S)}return D===b?v._reject(b,new TypeError):v._resolve(b,D),null})}var v=function(){function b(){}return b._resolve=function(_,w){var D=y(p,w),S=D._value,A=-1,k=_._queue.length;if(D._status==="error")return b._reject(_,D._value);if(S)h(_,S);else for(_._state=d,_._outcome=w;++A<k;)_._queue[A]._callFulfilled(w);return _},b._reject=function(_,w){_._state=c,_._outcome=w;for(var D=-1,S=_._queue.length;++D<S;)_._queue[D]._callRejected(w);return _},b}();function p(b){var _=b&&b.then;return b&&(typeof b=="object"||typeof b=="function")&&typeof _=="function"?function(){_.apply(b,arguments)}:null}function h(b,_){var w=!1;function D(){for(var C=[],E=0;E<arguments.length;E++)C[E]=arguments[E];w||(w=!0,v._reject(b,C))}function S(){for(var C=[],E=0;E<arguments.length;E++)C[E]=arguments[E];w||(w=!0,v._resolve(b,C))}function A(){_(S,D)}var k=y(A);k._status==="error"&&D(k._value)}function y(b,_){var w={_status:null,_value:null};try{w._value=b(_),w._status="success"}catch(D){w._status="error",w._value=D}return w}})(Ji);var H_={},si={},oN=cN,lu="X",lN="0";function cN(e){var t="",r=0,n,i,s,a;function o(c){t+=c}function l(c){return e.charAt(r+c).toUpperCase()}function u(c){return function(){return l(c)}}if(e=String(e||""),!e)return"";for(i=u(1),s=u(0),a=u(-1);!Fy(s());){if(!s())return"";r++}switch(s()){case"A":i()==="E"?(o("E"),r+=2):(o("A"),r++);break;case"G":case"K":case"P":i()==="N"&&(o("N"),r+=2);break;case"W":i()==="R"?(o(i()),r+=2):i()==="H"?(o(s()),r+=2):Kf(i())&&(o("W"),r+=2);break;case"X":o("S"),r++;break;case"E":case"I":case"O":case"U":o(s()),r++;break}for(;s();){if(n=1,!Fy(s())||s()===a()&&s()!=="C"){r+=n;continue}switch(s()){case"B":a()!=="M"&&o("B");break;case"C":By(i())?i()==="I"&&l(2)==="A"?o(lu):a()!=="S"&&o("S"):i()==="H"?(o(lu),n++):o("K");break;case"D":i()==="G"&&By(l(2))?(o("J"),n++):o("T");break;case"G":i()==="H"?uN(l(-3))||l(-4)==="H"||(o("F"),n++):i()==="N"?!Fy(l(2))||l(2)==="E"&&l(3)==="D"||o("K"):By(i())&&a()!=="G"?o("J"):o("K");break;case"H":Kf(i())&&!dN(a())&&o("H");break;case"K":a()!=="C"&&o("K");break;case"P":i()==="H"?o("F"):o("P");break;case"Q":o("K");break;case"S":i()==="I"&&(l(2)==="O"||l(2)==="A")?o(lu):i()==="H"?(o(lu),n++):o("S");break;case"T":i()==="I"&&(l(2)==="O"||l(2)==="A")?o(lu):i()==="H"?(o(lN),n++):i()==="C"&&l(2)==="H"||o("T");break;case"V":o("F");break;case"W":Kf(i())&&o("W");break;case"X":o("KS");break;case"Y":Kf(i())&&o("Y");break;case"Z":o("S");break;case"F":case"J":case"L":case"M":case"N":case"R":o(s());break}r+=n}return t}function uN(e){return e=yf(e),e==="B"||e==="D"||e==="H"}function By(e){return e=yf(e),e==="E"||e==="I"||e==="Y"}function Kf(e){return e=yf(e),e==="A"||e==="E"||e==="I"||e==="O"||e==="U"}function dN(e){return e=yf(e),e==="C"||e==="G"||e==="P"||e==="S"||e==="T"}function Fy(e){var t=fN(e);return t>=65&&t<=90}function fN(e){return yf(e).charCodeAt(0)}function yf(e){return String(e).charAt(0).toUpperCase()}var hN=IN,pN={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},gN={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},yN="[^aeiou]",K_="[aeiouy]",ao="("+yN+"[^aeiouy]*)",Mp="("+K_+"[aeiou]*)",Ty=new RegExp("^"+ao+"?"+Mp+ao),vN=new RegExp("^"+ao+"?"+Mp+ao+Mp+"?$"),Vf=new RegExp("^"+ao+"?("+Mp+ao+"){2,}"),M1=new RegExp("^"+ao+"?"+K_),I1=new RegExp("^"+ao+K_+"[^aeiouwxy]$"),mN=/ll$/,bN=/^(.+?)e$/,_N=/^(.+?)y$/,xN=/^(.+?(s|t))(ion)$/,wN=/^(.+?)(ed|ing)$/,SN=/(at|bl|iz)$/,DN=/^(.+?)eed$/,AN=/^.+?[^s]s$/,kN=/^.+?(ss|i)es$/,EN=/([^aeiouylsz])\1$/,CN=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,ON=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,MN=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;function IN(e){var t,r;return e=String(e).toLowerCase(),e.length<3||(e.charCodeAt(0)===121&&(t=!0,e="Y"+e.slice(1)),kN.test(e)?e=e.slice(0,e.length-2):AN.test(e)&&(e=e.slice(0,e.length-1)),(r=DN.exec(e))?Ty.test(r[1])&&(e=e.slice(0,e.length-1)):(r=wN.exec(e))&&M1.test(r[1])&&(e=r[1],SN.test(e)?e+="e":EN.test(e)?e=e.slice(0,e.length-1):I1.test(e)&&(e+="e")),(r=_N.exec(e))&&M1.test(r[1])&&(e=r[1]+"i"),(r=CN.exec(e))&&Ty.test(r[1])&&(e=r[1]+pN[r[2]]),(r=ON.exec(e))&&Ty.test(r[1])&&(e=r[1]+gN[r[2]]),(r=MN.exec(e))?Vf.test(r[1])&&(e=r[1]):(r=xN.exec(e))&&Vf.test(r[1])&&(e=r[1]),(r=bN.exec(e))&&(Vf.test(r[1])||vN.test(r[1])&&!I1.test(r[1]))&&(e=r[1]),mN.test(e)&&Vf.test(e)&&(e=e.slice(0,e.length-1)),t&&(e="y"+e.slice(1))),e}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=oN,r=hN,n=Ji;n.Promise.doPolyFill(),e.stopWords=["a","about","after","all","also","am","an","and","andor","another","any","are","as","at","be","because","been","before","being","between","both","but","by","came","can","come","could","did","do","each","for","from","get","got","had","has","have","he","her","here","him","himself","his","how","i","if","in","into","is","it","like","make","many","me","might","more","most","much","must","my","never","now","of","on","only","or","other","our","out","over","said","same","see","should","since","some","still","such","take","than","that","the","their","them","then","there","these","they","this","those","through","to","too","under","up","very","was","way","we","well","were","what","where","which","while","who","with","would","you","your"],e._assign=function(v){return v?JSON.parse(JSON.stringify(v)):null},e.splitArr=function(v,p){for(var h=v.length%p,y=h,b=Math.floor(v.length/p),_=[],w=0;w<v.length;w+=b){var D=b+w,S=!1;h!==0&&y&&(D++,y--,S=!0),_.push(v.slice(w,D)),S&&w++}return _},e.fastCHAIN=function(v,p){return new Promise(function(h,y){if(!v||!v.length){h([]);return}var b=[],_=!1,w=function(){if(b.length<v.length)p(v[b.length],b.length,function(D){b.push(D),b.length%100===0?e.setFast(w):w()},function(D){_=!0,y(D)});else{if(_)return;h(b)}};w()})},e.fastRACE=function(v,p){return new Promise(function(h,y){if(!v||!v.length){h([]);return}var b=!1,_=0,w=function(){_<v.length&&(p(v[_],_,function(D){b||(b=!0,h([D]))},function(D){b||(b=!0,y(D))}),_++,w())};w()})},e.fastALL=function(v,p){return Promise.all((v||[]).map(function(h,y){return new Promise(function(b,_){p(h,y,b,_)})}))};var i=typeof window=="undefined"?"":navigator.userAgent||"";e.isSafari=i.length===0?!1:/^((?!chrome|android).)*safari/i.test(i)||/iPad|iPhone|iPod/.test(i)&&!window.MSStream,e.isMSBrowser=i.length===0?!1:i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0,e.isAndroid=/Android/.test(i),e.random16Bits=function(){if(typeof crypto=="undefined")return Math.round(Math.random()*Math.pow(2,16));if(crypto.getRandomValues){var v=new Uint16Array(1);return crypto.getRandomValues(v),v[0]}else return typeof le!="undefined"&&le._crypto.randomBytes?le._crypto.randomBytes(2).reduce(function(p,h){return h*p}):Math.round(Math.random()*Math.pow(2,16))},e.tokenizer=function(v,p,h,y,b){var _=function(D){return D?String(D).length===1?!0:e.stopWords.indexOf(D)!==-1:!0},w=(y||"").toLowerCase().replace(/(\d+)\/(\d+)|(?:\d+(?:,\d+)*|\d+)(?:\.\d+)?/gmi,function(D,S,A){return S||A?(parseInt(S)/parseInt(A)).toFixed(b||4):parseFloat(D.replace(/\,/gmi,"")).toFixed(b||4)}).replace(/\-|\_|\[|\]|\(|\)|\{|\}|\r?\n|\r|\t/gmi," ").replace(/[^\w\s]|(\d\.)/gmi,"$1").replace(/\s+/g," ").split(" ");switch(h[1]){case"english":return w.map(function(D,S){return{i:S,o:D,w:isNaN(D)?_(D)?"":t(r(D)):D}});case"english-stem":return w.map(function(D,S){return{i:S,o:D,w:isNaN(D)?_(D)?"":r(D):D}});case"english-meta":return w.map(function(D,S){return{i:S,o:D,w:isNaN(D)?_(D)?"":t(D):D}})}return w.map(function(D,S){return{o:D,w:D,i:S}})},e.timeid=function(v){for(var p=Math.round(new Date().getTime()/(v?1:1e3)).toString();p.length<(v?13:10);)p="0"+p;return p+"-"+(e.random16Bits()+e.random16Bits()).toString(16)},e.intersect=function(v,p){return!v||!p||!v.length||!p.length?!1:(v||[]).filter(function(h){return(p||[]).indexOf(h)!==-1}).length>0},e.uuid=function(){var v,p,h="";return[h,h,h,h,h,h,h,h].reduce(function(y,b,_){for(v=e.random16Bits(),p=_===3?4:_===4?(v%16&3|8).toString(16):h,v=v.toString(16);v.length<4;)v="0"+v;return y+([2,3,4,5].indexOf(_)>-1?"-":h)+(p+v).slice(0,4)},h)},e.hash=function(v){for(var p=5381,h=v.length;h;)p=p*33^v.charCodeAt(--h);return(p>>>0).toString(16)};var s={int:function(v){return v},uuid:e.uuid,timeId:function(){return e.timeid()},timeIdms:function(){return e.timeid(!0)}};e.generateID=function(v,p){return s[v]?s[v](p||1):""},e.cleanArgs=function(v,p){for(var h={},y=v.length;y--;){var b=v[y].split(":");b.length>1?h[b[0]]=e.cast(b[1],p[b[0]]||void 0):h[b[0]]=p[b[0]]||void 0}return h},e.isObject=function(v){return Object.prototype.toString.call(v)==="[object Object]"},e.cast=function(v,p){if(v==="any"||v==="blob")return p;var h=typeof p;if(h==="undefined"||p===null)return p;var y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},b=function(D,S){switch(D){case"safestr":return b("string",S).replace(/[&<>"'`=\/]/gmi,function(A){return y[A]});case"int":return h!=="number"||S%1!==0?parseInt(S||0):S;case"number":case"float":return h!=="number"?parseFloat(S||0):S;case"any[]":case"array":return Array.isArray(S)?S:[];case"uuid":case"timeId":case"timeIdms":case"string":return h!=="string"?String(S):S;case"object":case"obj":case"map":return e.isObject(S)?S:{};case"boolean":case"bool":return S===!0}return S},_=b(String(v||"").toLowerCase(),p);if(v.indexOf("[]")!==-1){var w=v.slice(0,v.lastIndexOf("[]"));return(p||[]).map(function(D){return e.cast(w,D)})}else if(_!==void 0)return["int","float","number"].indexOf(v)>-1&&isNaN(_)?0:_},e.binarySearch=function(v,p,h,y){var b=h||0,_=y||v.length;if(v[b]>p)return b;if(v[_]<p)return _+1;var w=Math.floor((b+_)/2);return p===v[w]?w:_-1===b?_:p>v[w]?e.binarySearch(v,p,w,_):p<v[w]?e.binarySearch(v,p,b,w):_},e.resolvePath=function(v){if(!v)return[];if(o[v])return o[v].slice();var p=v.indexOf("[")!==-1?v.split(/\.|\[/gmi).map(function(h){return h.replace(/\]/gmi,"")}):v.split(".");return o[v]=p,o[v].slice()},e.noop=function(){};var a=function(){function v(p,h,y){this.processItem=p,this.onError=h,this.onComplete=y,this._items=[],this._going=!1,this._done=!1,this._count=0,this._triggeredComplete=!1,this._progressBuffer=this._progressBuffer.bind(this)}return v.prototype._progressBuffer=function(){var p=this;if(!this._triggeredComplete){if(this._done&&!this._items.length){this._triggeredComplete=!0,this.onComplete&&this.onComplete();return}if(!this._items.length){this._going=!1;return}var h=function(){p._count++,p._count%100===0?e.setFast(p._progressBuffer):p._progressBuffer()},y=this._items.shift()||[];y[1]?y[1](y[0],h,this.onError?this.onError:e.noop):this.processItem&&this.processItem(y[0],this._count,h,this.onError?this.onError:e.noop)}},v.prototype.finished=function(){this._done=!0,!this._triggeredComplete&&!this._going&&!this._items.length&&(this._triggeredComplete=!0,this.onComplete&&this.onComplete())},v.prototype.newItem=function(p,h){this._items.push([p,h]),this._going||(this._going=!0,this._progressBuffer())},v}();e._nanoSQLQueue=a,e.deepGet=function(v,p){var h=function(y,b,_){return!y[b]||!_?_:h(y,b+1,_[y[b]])};return h(Array.isArray(v)?v:e.resolvePath(v),0,p)},e.deepFreeze=function(v){return Object.getOwnPropertyNames(v||{}).forEach(function(p){var h=v[p];typeof h=="object"&&h!==null&&(v[p]=e.deepFreeze(h))}),Object.freeze(v)},e.crowDistance=function(v,p,h,y,b){b===void 0&&(b=6371);var _=function(k){return k*(Math.PI/180)},w=_(h-v),D=_(y-p),S=Math.sin(w/2)*Math.sin(w/2)+Math.cos(_(v))*Math.cos(_(h))*Math.sin(D/2)*Math.sin(D/2),A=2*Math.atan2(Math.sqrt(S),Math.sqrt(1-S));return b*A};var o={};e.objQuery=function(v,p,h){var y=function(D,S,A){return!D[S]||!A?A:y(D,S+1,A[D[S]])},b=v+(h?"1":"0");if(o[b])return y(o[b],0,p);var _=[];if(_=v.indexOf("[")>-1?[].concat.apply([],v.split(".").map(function(D){return D.match(/([^\[]+)|\[([^\]]+)\]\[/gmi)||D})).map(function(D){return D.replace(/\[|\]/gmi,"")}):v.split("."),h){var w=_.shift()+"."+_.shift();_.unshift(w)}return o[b]=_,y(o[b],0,p)};var l=0,u={},c=Array.prototype.slice,d="setMsg",f=typeof window!="undefined"&&window.postMessage&&window.addEventListener,g=function(v){return v[0].apply(null,c.call(v,1))},m=function(v){var p=v.data,h;typeof p=="string"&&p.indexOf(d)===0&&(h=u[p],h&&(delete u[p],g(h)))};f&&window.addEventListener("message",m);var x=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];var h=l++,y=d+h;return u[y]=v,window.postMessage(y,"*"),h};e.setFast=function(){return f?x:function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];setTimeout(function(){g(v)},0)}}()})(si);var Fc=le&&le.__assign||function(){return Fc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Fc.apply(this,arguments)};Object.defineProperty(H_,"__esModule",{value:!0});var hi=si,B1={affectedRowPKS:[],affectedRows:[]},cu=function(e,t,r){if(e._query.state==="pending")e._query.state="executing";else{r(new Error("nSQL: Can't call query twice!"));return}e._db.plugins.length===1&&!e._db.hasAnyEvents&&!e._query.ttl?e._db.plugins[0].doExec(e._query,function(n){e._query=n,e._db.hasPK[e._query.table]?t(e._query.result):t(e._query.result.map(function(i){return Fc({},i,{_id_:void 0})}))},r):hi.fastCHAIN(e._db.plugins,function(n,i,s,a){n.doExec?n.doExec(e._query,function(o){e._query=o||e._query,s()},a):s()}).then(function(){if(e._db.hasPK[e._query.table]?t(e._query.result):t(e._query.result.map(function(o){return Fc({},o,{_id_:void 0})})),e._db.hasAnyEvents||e._db.pluginHasDidExec||e._query.ttl){var n=function(){switch(e._query.action){case"select":return[e._query.action];case"delete":case"upsert":case"drop":return[e._query.action,"change"];default:return[]}}(),i=e._query.result&&e._query.result.length,s={table:e._query.table,query:e._query,time:Date.now(),result:e._query.result,notes:[],types:n,actionOrView:e._AV,transactionID:e._query.transaction?e._query.queryID:void 0,affectedRowPKS:i?(e._query.result[0]||B1).affectedRowPKS:[],affectedRows:i?(e._query.result[0]||B1).affectedRows:[]};if((s.affectedRowPKS||[]).length&&e._query.ttl){var a=Date.now()+(e._query.ttl||0)*1e3;hi.fastCHAIN(s.affectedRowPKS||[],function(o,l,u){e._db.query("upsert",{key:e._query.table+"."+o,table:e._query.table,cols:e._query.ttlCols,date:a}).manualExec({table:"_ttl"}).then(u)}).then(function(){e._db._checkTTL()})}hi.fastCHAIN(e._db.plugins,function(o,l,u){o.didExec?o.didExec(s,function(c){s=c,u()}):u()}).then(function(){e._query.transaction||e._db.triggerEvent(s)})}}).catch(r)},Py={},BN=function(){function e(t,r,n,i,s){this._db=t,this._AV=s||"",this._query={table:r,comments:[],state:"pending",queryID:Date.now()+"."+this._db.fastRand().toString(16),action:n,actionArgs:i,result:[]}}return e.prototype.where=function(t){return this._query.where=t,this},e.prototype.range=function(t,r){return this._query.range=[t,r],this},e.prototype.on=function(t){return this._query.on=t,this},e.prototype.debounce=function(t){return this._query.debounce=t||250,this},e.prototype.orm=function(t){return this._query.orm=t,this},e.prototype.orderBy=function(t){return this._query.orderBy=t,this},e.prototype.groupBy=function(t){return this._query.groupBy=t,this},e.prototype.having=function(t){return(!t.length||!Array.isArray(t))&&(this._error="Having condition requires an array!"),this._query.having=t,this},e.prototype.join=function(t){var r=this;if(Array.isArray(this._query.table))throw new Error("Can't JOIN with instance table!");var n="Join commands requires table and type arguments!";return Array.isArray(t)?t.forEach(function(i){(!i.table||!i.type)&&(r._error=n)}):(!t.table||!t.type)&&(this._error=n),this._query.join=t,this},e.prototype.limit=function(t){return this._query.limit=t,this},e.prototype.trieSearch=function(t,r){return this._query.trie={column:t,search:r},this},e.prototype.comment=function(t){return this._query.comments.push(t),this},e.prototype.extend=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this._query.extend=t,this},e.prototype.offset=function(t){return this._query.offset=t,this},e.prototype.emit=function(){return this._query},e.prototype.ttl=function(t,r){if(t===void 0&&(t=60),this._query.action!=="upsert")throw new Error("nSQL: Can only do ttl on upsert queries!");return this._query.ttl=t,this._query.ttlCols=r||[],this},e.prototype.toCSV=function(t){var r=this,n=this;return new Promise(function(i,s){n.exec().then(function(a){var o=typeof r._query.table=="string"?r._db.dataModels[r._query.table].map(function(l){return l.key}):void 0;i(n._db.JSONtoCSV(a,t||!1,o))})})},e.prototype.manualExec=function(t){return this._query=Fc({},this._query,t),this.exec()},e.prototype.denormalizationQuery=function(t){var r=this;return new Promise(function(n,i){switch(t){case"tocolumn":var s={};r._query.actionArgs&&r._query.actionArgs.length?Object.keys(r._db.toColRules[r._query.table]).filter(function(c){return r._query.actionArgs.indexOf(c)!==-1}).forEach(function(c){s[c]=r._db.toColRules[r._query.table][c]}):s=r._db.toColRules[r._query.table],r._query.action="select",r._query.actionArgs=void 0;var a=Object.keys(s);cu(r,function(c){hi.fastCHAIN(c,function(d,f,g){Object.isFrozen(d)&&(d=hi._assign(d)),hi.fastALL(a,function(m,x,v){var p=r._db.toColFns[r._query.table][s[m][0]];if(!p){v();return}p.apply(null,[d[m],function(h){d[m]=h,v()}].concat(s[m].filter(function(h,y){return y>0}).map(function(h){return d[h]})))}).then(function(){r._db.query("upsert",d).manualExec({table:r._query.table}).then(g).catch(g)})}).then(function(){n([{msg:c.length+" rows modified"}])})},i);break;case"torow":var o=(r._query.actionArgs||"").replace("()","");if(r._db.toRowFns[r._query.table]&&r._db.toRowFns[r._query.table][o]){var l=r._db.toRowFns[r._query.table][o],u=r._db._tablePKs[r._query.table];if(r._query.on&&r._query.on.length){hi.fastALL(r._query.on,function(c,d,f){l(c,{},function(g){g[u]=c,r._db.query("upsert",g).manualExec({table:r._query.table}).then(f).catch(f)})}).then(function(){n([{msg:(r._query.on||[]).length+" rows modified or added."}])});return}r._query.action="select",r._query.actionArgs=void 0,cu(r,function(c){hi.fastALL(c,function(d,f,g){Object.isFrozen(d)&&(d=hi._assign(d)),l(d[u],d,function(m){m[u]=d[u],r._db.query("upsert",m).manualExec({table:r._query.table}).then(g).catch(g)})}).then(function(){n([{msg:c.length+" rows modified"}])})},i)}else{i("No function "+r._query.actionArgs+" found to perform updates!");return}break}})},e.prototype.getCursor=function(t){var r=this;return t===void 0&&(t=20),new Promise(function(n,i){if(r._query.offset||r._query.limit||r._query.range){i("nSQL: Can't use limit/offset with getCursor!");return}var s=-1;n(function(){return s++,r.manualExec(Fc({},r._query,{range:[t,t*s]}))})})},e.prototype.exec=function(){var t=this;if(Array.isArray(this._query.table))return new Promise(function(o,l){t._db.iB.doExec&&t._db.iB.doExec(t._query,function(u){o(u.result)},l)});if(this._query.table==="*")return Promise.resolve([]);var r=this,n=(this._query.action||"").toLowerCase().trim();if(["tocolumn","torow"].indexOf(n)>-1){if(this._query.debounce){var i=hi.hash(JSON.stringify([this._query.table,n,this._query.actionArgs,this._query.on,this._query.where].filter(function(o){return o})));return new Promise(function(o,l){Py[i]&&clearTimeout(Py[i]),Py[i]=setTimeout(function(){t.denormalizationQuery(n).then(o).catch(l)},t._query.debounce)})}return this.denormalizationQuery(n)}if(["select","upsert","delete","drop","show tables","describe"].indexOf(n)>-1){var s=this._query.actionArgs||(n==="select"?[]:{}),a=[];n==="upsert"?(Array.isArray(s)?a=s:a=[s],a.forEach(function(o,l){t._db.rowFilters[t._query.table]&&(a[l]=t._db.rowFilters[t._query.table](a[l]));for(var u={},c=t._db.dataModels[t._query.table],d=0;d<c.length;)a[l][c[d].key]!==void 0&&(u[c[d].key]=hi.cast(c[d].type,a[l][c[d].key])),d++;if(t._db.skipPurge[t._query.table]){var f=c.map(function(m){return m.key}),g=Object.keys(a[l]).filter(function(m){return f.indexOf(m)===-1});g.forEach(function(m){u[m]=a[l][m]})}a[l]=u})):a=this._query.actionArgs,this._query.action=n,this._query.actionArgs=this._query.actionArgs?a:void 0}else return Promise.reject(new Error("nSQL: No valid database action!"));return new Promise(function(o,l){var u=function(){if(r._db.plugins.length||(r._error="nSQL: No plugins, nothing to do!"),r._error){l(r._error);return}if(t._db.queryMod){var c=t._db.queryMod(t._query,function(d){t._query=d,cu(t,o,l)});typeof c!="undefined"&&c.then(function(d){t._query=d,cu(t,o,l)}).catch(l)}else cu(t,o,l)};t._db.isConnected||t._query.table.indexOf("_")===0?u():t._db.onConnected(u)})},e}();H_._NanoSQLQuery=BN;var V_={};Object.defineProperty(V_,"__esModule",{value:!0});var FN=function(){function e(t,r,n,i,s){this.thisQ={state:"pending",table:n,action:t,actionArgs:r,queryID:s,transaction:!0,result:[],comments:[]},this._queries=i}return e.prototype.where=function(t){return this.thisQ.where=t,this},e.prototype.exec=function(){this._queries.push(this.thisQ)},e}();V_._NanoSQLTransactionQuery=FN;var Bg={};Object.defineProperty(Bg,"__esModule",{value:!0});var aO=function(){function e(){this.eventListeners={}}return e.prototype.on=function(t,r){this.eventListeners[t]||(this.eventListeners[t]=[]),this.eventListeners[t].push(r)},e.prototype.off=function(t,r){var n=this;this.eventListeners[t]&&this.eventListeners[t].length&&this.eventListeners[t].forEach(function(i,s){i===r&&n.eventListeners[t].splice(s,1)})},e.prototype.trigger=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.eventListeners[t]&&this.eventListeners[t].forEach(function(i){return i.apply(void 0,r)})},e}();Bg.ReallySmallEvents=aO;Bg.RSE=new aO;var U_={},Vc={};function TN(e,t){var r=t.length,n=e.length;if(n>r)return!1;if(n===r)return e===t;e:for(var i=0,s=0;i<n;i++){for(var a=e.charCodeAt(i);s<r;)if(t.charCodeAt(s++)===a)continue e;return!1}return!0}var PN=TN,oO=RN,Ry=[],F1=[];function RN(e,t,r){var n,i,s,a,o,l,u,c;if(e===t)return 0;if(n=e.length,i=t.length,n===0)return i;if(i===0)return n;for(r&&(e=e.toLowerCase(),t=t.toLowerCase()),u=0;u<n;)F1[u]=e.charCodeAt(u),Ry[u]=++u;for(c=0;c<i;)for(s=t.charCodeAt(c),a=o=c++,u=-1;++u<n;)l=s===F1[u]?o:o+1,o=Ry[u],Ry[u]=a=o>a?l>a?a+1:l:l>o?o+1:l;return a}var Li=le&&le.__assign||function(){return Li=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Li.apply(this,arguments)};Object.defineProperty(Vc,"__esModule",{value:!0});var Ec=$t,we=si,$N=PN,T1=oO,NN={select:function(e,t,r){e._select(t,r)},upsert:function(e,t,r){e._store._doCache?e._upsert(t,r):e._store.queue.add(e._query.table,function(n){e._upsert(function(){n(),t(e._query)},r)})},delete:function(e,t,r){e._store._doCache?e._delete(t,r):e._store.queue.add(e._query.table,function(n){e._delete(function(){n(),t(e._query)},r)})},drop:function(e,t,r){e._store._doCache?e._drop(t,r):e._store.queue.add(e._query.table,function(n){e._drop(function(){n(),t(e._query)},r)})},"show tables":function(e,t,r){e._query.result=Object.keys(e._store.tableInfo),t(e._query)},describe:function(e,t,r){if(typeof e._query.table!="string"){t(e._query);return}e._query.result=e._store.models[e._query.table]?we._assign(e._store.models[e._query.table]):[{error:"Table does not exist"}],t(e._query)}},LN=function(){function e(t){this._store=t}return e.prototype.doQuery=function(t,r,n){this._query=t,this._isInstanceTable=Array.isArray(t.table),NN[t.action](this,r,n)},e.prototype._getRows=function(t,r){this._isInstanceTable?new uO(this._query,this._store._nsql).getRows(t,r):new cO(this,this._query,this._store,function(n){t(n.filter(function(i){return i}))},r)},e.prototype._select=function(t,r){var n=this;this._hash=JSON.stringify(Li({},this._query,{queryID:null}));var i=!this._query.join&&!this._query.orm&&this._store._doCache&&!Array.isArray(this._query.table);if(i&&this._store._cache[this._query.table][this._hash]&&this._store._cache[this._query.table][this._hash].time<this._store._cacheTime[this._query.table]){this._query.result=this._store._cache[this._query.table][this._hash].rows,t(this._query);return}this._getRows(function(s){["having","orderBy","offset","limit","actionArgs","groupBy","orm","join"].filter(function(a){return n._query[a]}).length?new lO(n._query,n._store)._executeQueryArguments(s,function(a){i&&(n._store._cache[n._query.table][n._hash]={rows:a,time:Date.now()}),n._query.result=a,t(n._query)},r):(i&&(n._store._cache[n._query.table][n._hash]={rows:s,time:Date.now()}),n._query.result=s,t(n._query))},r)},e.prototype._updateORMRows=function(t,r,n,i,s){var a=this;this._store.tableInfo[t._fromTable]._pk,this._store._read(t._fromTable,r,function(o){we.fastALL(o,function(l,u,c){var d=Object.isFrozen(l)?we._assign(l):l;if(t._fromType==="array"){d[t._fromColumn]=d[t._fromColumn]||[];var f=d[t._fromColumn].indexOf(i);n?f===-1?d[t._fromColumn].push(i):c():f!==-1?d[t._fromColumn].splice(f,1):c(),d[t._fromColumn].sort()}else n?d[t._fromColumn]=i:d[t._fromColumn]=null;a._store._nsql.query("upsert",d).comment("_orm_skip").manualExec({table:t._fromTable}).then(c)}).then(s)})},e.prototype._syncORM=function(t,r,n,i){var s=this;if(!this._store._hasORM){i();return}var a=this._store._relToTable[this._query.table];if(this._query.comments.indexOf("_orm_skip")!==-1){i();return}if(!a||!a.length){i();return}for(var o=Math.max(r.length,n.length),l=[];o--;)l.push(" ");we.fastCHAIN(l,function(u,c,d){we.fastALL(a,function(f,g,m){var x=function(D,S){return Array.isArray(D)&&Array.isArray(S)?D.length!==S.length?!1:D.filter(function(A,k){return A!==S[k]}).length>0:D===S};switch(t){case"del":var v=r[c][s._store.tableInfo[s._query.table]._pk],p=f._thisType==="array"?r[c][f._thisColumn]||[]:[r[c][f._thisColumn]].filter(function(D){return D});s._updateORMRows(f,p,!1,v,m);break;case"add":var h=n[c][s._store.tableInfo[s._query.table]._pk];if(r[c])if(x(r[c][f._thisColumn],n[c][f._thisColumn]))m();else if(f._thisType==="array"){var y=(n[c][f._thisColumn]||[]).filter(function(D){return(r[c][f._thisColumn]||[]).indexOf(D)===-1}),b=(r[c][f._thisColumn]||[]).filter(function(D){return(n[c][f._thisColumn]||[]).indexOf(D)===-1});we.fastALL([y,b],function(D,S,A){s._updateORMRows(f,D,S===0,h,A)}).then(m)}else{var _=function(){n[c][f._thisColumn]!==null&&n[c][f._thisColumn]!==void 0?s._updateORMRows(f,[n[c][f._thisColumn]],!0,h,m):m()};r[c][f._thisColumn]!==null&&r[c][f._thisColumn]!==void 0?s._updateORMRows(f,[r[c][f._thisColumn]],!1,h,_):_()}else{var w=f._thisType==="array"?n[c][f._thisColumn]||[]:[n[c][f._thisColumn]].filter(function(D){return D});w&&w.length?s._updateORMRows(f,w,!0,h,m):m()}break}}).then(d)}).then(i)},e.prototype._tokenizer=function(t,r){var n=this._store.tableInfo[this._query.table]._searchColumns[t];if(!n)return[];var i=this._store._nsql.getConfig().tokenizer;if(i){var s=i(this._query.table,t,n,r);if(s!==!1)return s}return we.tokenizer(this._query.table,t,n,r)},e.prototype._clearFromSearchIndex=function(t,r,n){var i=this,s=this._query.table,a=Object.keys(this._store.tableInfo[s]._searchColumns);if(a.length===0){n();return}var o="_"+s+"_search_tokens_";we.fastALL(a,function(l,u,c,d){var f=i._tokenizer(l,r[l]),g={};f.forEach(function(m){g[m.w]=m.o}),i._store.adapterRead(o+l,t,function(m){if(!m){c();return}we.fastALL(["_search_","_search_fuzzy_"],function(x,v,p,h){var y={};m.tokens.forEach(function(b){y[b.w]||(v===0&&(y[b.w]=!0),v===1&&(y[g[b.w]]=!0))}),we.fastALL(Object.keys(y),function(b,_,w,D){if(!b){w();return}i._store.adapterRead("_"+s+x+l,b,function(S){if(!S){w();return}Object.isFrozen(S)&&(S=we._assign(S)),S.rows=S.rows.filter(function(A){return A.id!==t}),i._store.adapterWrite("_"+s+x+l,b,S,w,D)},!0)}).then(p).catch(h)}).then(function(){i._store.adapters[0].adapter.delete(o+l,t,c)}).catch(d)},!0)}).then(n)},e.prototype._updateSearchIndex=function(t,r,n){var i=this,s=this._query.table,a=Object.keys(this._store.tableInfo[s]._searchColumns);if(a.length===0||!we.intersect(Object.keys(r),a)){n();return}var o="_"+s+"_search_tokens_";we.fastALL(a,function(l,u,c,d){if([void 0,null,""].indexOf(r[l])!==-1){c();return}i._store.adapterRead(o+l,t,function(f){var g=f||{id:t,hash:"1505",tokens:[]},m=we.hash(r[l]);if(m===g.hash){c();return}var x={},v=i._tokenizer(l,r[l]),p=g.tokens.map(function(_){return _.i+"-"+_.w}).filter(function(_){return _.split("-")[1]}),h=v.map(function(_){return _.i+"-"+_.w}).filter(function(_){return _.split("-")[1]}),y=h.filter(function(_){return p.indexOf(_)===-1}),b=p.filter(function(_){return h.indexOf(_)===-1});v.forEach(function(_){x[_.w]=_.o}),we.fastCHAIN([b,y],function(_,w,D,S){var A={};_.forEach(function(k){var C=k.split(/-(.+)/),E={w:C[1],i:parseInt(C[0])};A[E.w]||(A[E.w]=[]),A[E.w].push(E)}),we.fastALL(Object.keys(A),function(k,C,E){we.fastALL(["_search_","_search_fuzzy_"],function(M,I,P,L){var V=I===0?k:x[k];if(!V){P();return}i._store.adapterRead("_"+s+M+l,V,function(W){var U=W||{wrd:k,rows:[]};switch(Object.isFrozen(U)&&(U=we._assign(U)),w){case 0:for(var te=U.rows.length;te--;)U.rows[te].id===t&&U.rows.splice(te,1);break;case 1:U.rows.push({id:t,i:A[k].map(function(N){return N.i}),l:v.length});break}i._store.adapterWrite("_"+s+M+l,I===0?k:x[k],U,P,L)},!0)}).then(E)}).then(D)}).then(function(){i._store.adapterWrite(o+l,t,{id:t,hash:m,tokens:v.map(function(_){return{w:_.w,i:_.i}})},c,d)})},!0)}).then(n)},e.prototype._updateRowViews=function(t,r,n){var i=this;if(!this._store._hasViews){n(t);return}if(t==null){n(t||{});return}we.fastALL(Object.keys(this._store.tableInfo[this._query.table]._views),function(s,a,o){var l=i._store.tableInfo[i._query.table]._views[s].pkColumn;if(t[l]===void 0){o();return}if(t[l]===r[l]){o();return}if(t[l]===null){i._store.tableInfo[i._query.table]._views[s].columns.forEach(function(u){t[u.thisColumn]=null}),o();return}i._store.adapterRead(s,t[l],function(u){if(!u.length&&i._store.tableInfo[i._query.table]._views[s].mode==="LIVE"){i._store.tableInfo[i._query.table]._views[s].columns.forEach(function(c){t[c.thisColumn]=null}),o();return}i._store.tableInfo[i._query.table]._views[s].columns.forEach(function(c){t[c.thisColumn]=u[0][c.otherColumn]}),o()},!0)}).then(function(){n(t)})},e.prototype._updateRemoteViews=function(t,r,n){var i=this,s=this._store.tableInfo[this._query.table]._pk;we.fastALL(t,function(a,o,l){we.fastALL(i._store.tableInfo[i._query.table]._viewTables,function(u,c,d){if(r&&i._store.tableInfo[u.table]._views[i._query.table].mode==="GHOST"){d();return}i._store._secondaryIndexRead(u.table,"=",u.column,a[s],function(f){if(!f.length){d();return}var g=i._store.tableInfo[u.table]._views[i._query.table].columns,m=i._store.tableInfo[u.table]._views[i._query.table].pkColumn;we.fastALL(f,function(x,v,p,h){var y=g.length,b=!1;if(r){if(i._store.tableInfo[u.table]._views[i._query.table].mode==="LIVE")for(b=!0,x[m]=null;y--;)x[g[y].otherColumn]=null}else for(;y--;)x[g[y].otherColumn]!==a[g[y].thisColumn]&&(x[g[y].otherColumn]=a[g[y].thisColumn],b=!0);if(!b){p();return}var _=i._store.tableInfo[u.table]._pk;i._store.adapterWrite(u.table,x[_],x,p,h)}).then(d)})}).then(l)}).then(n)},e.prototype._doAfterQuery=function(t,r,n){var i=this;if(!this._store._hasViews||!this._store.tableInfo[this._query.table]._viewTables.length){n(this._query);return}this._updateRemoteViews(t,r,function(){n(i._query)})},e.prototype._uniqueColCheck=function(t,r,n){var i=this;return function(s,a,o){if(t&&t[s]===r[s]){o();return}var l=i._store.tableInfo[i._query.table]._pk,u=function(c){n(new Error('nSQL: Unique row violation on table "'+i._query.table+'", row '+c[l]+" already contains value "+JSON.stringify(r[s])))};i._store._secondaryIndexRead(i._query.table,"=",s,r[s],function(c){if(c.length){if(!t){u(c[0]);return}c[0][l]===t[l]?o():u(c[0])}else o()})}},e.prototype._upsert=function(t,r){var n=this,i=this._store.tableInfo[this._query.table]._pk;if(this._isInstanceTable){this._getRows(function(d){n._query.result=n._query.table.map(function(f){return d.indexOf(f)===-1?f:Li({},n._query.actionArgs,f)}),t(n._query)},r);return}var s=!1;if(this._query.where){var a=[],o=0;this._getRows(function(d){if(d.length)o=d.length,n._store._cache[n._query.table]={},n._store._cacheTime[n._query.table]=Date.now(),we.fastCHAIN(n._query.actionArgs,function(f,g,m,x){we.fastCHAIN(d,function(v,p,h,y){var b=Object.keys(f).filter(function(_){return n._store.tableInfo[n._query.table]._uniqueColumns.indexOf(_)!==-1});we.fastCHAIN(b,n._uniqueColCheck(v,f,r)).then(function(){n._updateSearchIndex(v[i],v,function(){n._updateRowViews(f||{},v,function(_){n._store.tableInfo[n._query.table]._hasDefaults&&Object.keys(n._store.tableInfo[n._query.table]._defaults).forEach(function(w){v[w]===void 0&&_[w]===void 0&&(_[w]=n._store.tableInfo[n._query.table]._defaults[w])}),n._store._write(n._query.table,v[i],v,_,h,function(w){s=!0,y(w)})})})})}).then(function(v){if(!s){a=v;var p=a.map(function(h){return h[i]});n._query.result=[{msg:o+" row(s) modfied.",affectedRowPKS:p,affectedRows:a}],m()}}).catch(x)}).then(function(){s||n._syncORM("add",d,a,function(){n._doAfterQuery(a,!1,t)})}).catch(r);else{if(s)return;n._query.result=[{msg:"0 row(s) modfied.",affectedRowPKS:[],affectedRows:[]}],t(n._query)}},r)}else{var l=this._query.actionArgs||[];this._store._cacheTime[this._query.table]=Date.now(),this._store._cache[this._query.table]={};var u=[],c=[];we.fastCHAIN(l,function(d,f,g,m){var x=function(v){var p=Object.keys(d).filter(function(h){return n._store.tableInfo[n._query.table]._uniqueColumns.indexOf(h)!==-1});we.fastCHAIN(p,n._uniqueColCheck(v,d,r)).then(function(){n._updateRowViews(d,v,function(h){n._store.tableInfo[n._query.table]._hasDefaults&&Object.keys(n._store.tableInfo[n._query.table]._defaults).forEach(function(y){(v||{})[y]===void 0&&h[y]===void 0&&(h[y]=n._store.tableInfo[n._query.table]._defaults[y])}),n._store._write(n._query.table,d[i],v,h,function(y){n._updateSearchIndex(y[i],y,function(){u.push(v||{}),c.push(y),g()})},function(y){s=!0,m(y)})})})};d[i]!==void 0&&n._query.comments.indexOf("_rebuild_search_index_")===-1?n._store._read(n._query.table,[d[i]],function(v){v.length?x(v[0]):x(null)}):x(null)}).then(function(){s||(n._query.result=[{msg:c.length+" row(s) inserted.",affectedRowPKS:c.map(function(d){return d[i]}),affectedRows:c}],n._store._hasORM?n._syncORM("add",u,c,function(){n._doAfterQuery(c,!1,t)}):n._doAfterQuery(c,!1,t))}).catch(r)}},e.prototype._delete=function(t,r){var n=this;if(this._isInstanceTable){this._query.where?this._getRows(function(a){n._query.result=n._query.table.filter(function(o){return a.indexOf(o)===-1}),t(n._query)},r):(this._query.result=[],t(this._query));return}if(this._query.where){var i=[],s=0;this._getRows(function(a){a=a.filter(function(o){return o}),a.length?we.fastALL(a,function(o,l,u){n._clearFromSearchIndex(o[n._store.tableInfo[n._query.table]._pk],o,function(){n._store._delete(n._query.table,o[n._store.tableInfo[n._query.table]._pk],u)})}).then(function(o){i=a,s+=a.length,n._store._cacheTime[n._query.table]=Date.now(),n._store._cache[n._query.table]={};var l=i.map(function(u){return u[n._store.tableInfo[n._query.table]._pk]});n._query.result=[{msg:s+" row(s) deleted.",affectedRowPKS:l,affectedRows:i}],n._syncORM("del",a,[],function(){n._doAfterQuery(a,!0,t)})}):(n._query.result=[{msg:"0 row(s) deleted.",affectedRowPKS:[],affectedRows:[]}],i=[],t(n._query))},r)}else this._drop(t,r)},e.prototype._drop=function(t,r){var n=this;if(this._isInstanceTable){this._query.result=[],t(this._query);return}this._store._rangeRead(this._query.table,void 0,void 0,!1,function(i){n._store._cacheTime[n._query.table]=Date.now(),n._store._cache[n._query.table]={},n._query.table,n._store._drop(n._query.table,function(){n._query.result=[{msg:"'"+n._query.table+"' table dropped.",affectedRowPKS:i.map(function(s){return s[n._store.tableInfo[n._query.table]._pk]}),affectedRows:i}],n._syncORM("del",i,[],function(){n._doAfterQuery(i,!0,t)})})})},e}();Vc._NanoSQLStorageQuery=LN;var lO=function(){function e(t,r){this.q=t,this.s=r,this._groupByColumns=[]}return e.prototype._maybeJoin=function(t,r,n,i){var s=this,a,o=Array.isArray(this.q.join)?this.q.join:[this.q.join];if(!o[0]){r(t),n();return}var l=this.q.table,u=this.s.tableInfo[l]._keys.reduce(function(d,f){return d[f]=void 0,d},{}),c=function(d,f,g){var m=o[f],x=0,v=[];if(m.type!=="cross"&&!m.table){i(new Error("Non 'cross' joins require an 'on' parameter!"));return}var p=function(M){return Object.keys(M).reduce(function(I,P){var L=M[P];return L&&Object.keys(L).forEach(function(V){I[P+"."+V]=L[V]}),I},{})},h=new we._nanoSQLQueue(function(M,I,P,L){o[f+1]?c(M,f+1,P):(r(p(M)),P())},i,g),y=s.s.tableInfo[m.table]._pk,b=m.table,_=s.s.tableInfo[b]._keys.reduce(function(M,I){return M[I]=void 0,M},{}),w=function(M){var I;x++,(m.type==="right"||m.type==="outer")&&v.push(we.deepGet(y,M)),h.newItem(Li({},d,(I={},I[b]=M,I)))},D=function(){var M,I;switch(m.type){case"left":x===0&&h.newItem(Li({},d,(M={},M[b]=_,M))),h.finished();break;case"inner":case"cross":h.finished();break;case"outer":case"right":x===0&&m.type==="outer"&&h.newItem(Li({},d,(I={},I[b]=_,I))),s.s._rangeRead(m.table,void 0,void 0,!0,function(P){P.forEach(function(L){var V;h.newItem(Li({},d,(V={},V[l]=u,V[b]=L,V)))}),h.finished()},function(P){return v.indexOf(we.deepGet(y,P))===-1});break}};if(m.type==="cross")s.s._rangeRead(m.table,void 0,void 0,!0,function(M){M.forEach(w),D()});else{var S=m.where||[];if(!S.length){i("No join condition!");return}var A=S[0].indexOf(m.table)===0,k=A?S[0].split(".")[1]:S[2].split(".")[1],C=A?we.deepGet(S[2],d):we.deepGet(S[0],d);if(k===y)s.s.adapterRead(m.table,C,function(M){w(M),D()},!1);else{var E=(A?S[0]:S[2]).split(".").filter(function(M,I){return I>0}).join(".");s.s._rangeRead(m.table,void 0,void 0,!0,function(M){M.forEach(w),D()},function(M){return we.deepGet(E,M)===C})}}};c((a={},a[l]=t,a),0,n)},e.prototype._groupByKey=function(t,r){return t.reduce(function(n,i){return i.indexOf(".length")!==-1?n+"."+String((r[i.replace(".length","")]||[]).length):n+"."+String(r[i])},"").slice(1)},e.prototype._groupBy=function(t){var r=this,n=this.q.groupBy||{},i=t.sort(function(s,a){return r._sortObj(s,a,n,!0)});return i.forEach(function(s,a){var o=Object.keys(n).map(function(l){return String(s[l])||""}).join(".");r._sortGroups||(r._sortGroups={}),r._sortGroups[o]||(r._sortGroups[o]=[]),r._sortGroups[o].push(a)}),i},e.prototype._having=function(t){var r=this;return t.filter(function(n,i){return Array.isArray(r.q.having)?Jd(n,r.q.having||[],i,!0):r.q.having(n,i)})},e.prototype._orderBy=function(t){var r=this;return t.sort(function(n,i){return r._sortObj(n,i,r.q.orderBy||{},!1)})},e.prototype._offset=function(t){return t.slice(this.q.offset)},e.prototype._limit=function(t){return t.slice(0,this.q.limit)},e.prototype._orm=function(t,r){var n=this,i=this.q.orm?this.q.orm.map(function(s){return typeof s=="string"?{key:s,limit:5}:s}):[];we.fastALL(t,function(s,a,o){s=Object.isFrozen(s)?we._assign(s):s,we.fastALL(i,function(l,u,c){if(typeof s[l.key]=="undefined"){c();return}var d=n.s._columnsAreTables[n.q.table][l.key];d?n.s._nsql.query("select").where([n.s.tableInfo[d._toTable]._pk,d._thisType==="array"?"IN":"=",s[l.key]]).manualExec({table:d._toTable}).then(function(f){var g=Ec.nSQL().query("select",l.select);l.where&&g.where(l.where),l.limit!==void 0&&g.limit(l.limit),l.offset!==void 0&&g.offset(l.offset),l.orderBy&&g.orderBy(l.orderBy),l.groupBy&&g.groupBy(l.groupBy),g.manualExec({table:f}).then(function(m){f.filter(function(x){return x}).length?s[l.key]=d._thisType==="array"?m:m[0]:s[l.key]=d._thisType==="array"?[]:void 0,c()})}):c()}).then(function(){o(s)})}).then(r)},e.prototype._sortObj=function(t,r,n,i){return Object.keys(n).reduce(function(s,a){var o=i?we.objQuery(a,t):t[a],l=i?we.objQuery(a,r):r[a];return s||(o===l?0:(o>l?1:-1)*(n[a]==="desc"?-1:1))},0)},e.prototype._mutateRows=function(t,r,n){var i=this,s=this.q.actionArgs,a={},o={},l={},u={};if(s&&s.length){var c=!1,d={},f=!1;if(s.forEach(function(g){if(g.indexOf("(")!==-1){var m=(g.match(/^.*\(/g)||[""])[0].replace(/\(|\)/g,"").toUpperCase(),x=Ec.NanoSQLInstance.functions[m],v=g.split(" AS ").length===1?m:(g.split(" AS ").pop()||"").trim();if(!x){f=!0,n(new Error("nSQL: '"+m+"' is not a valid function!"));return}x.type==="A"&&(c=!0),d[g]={fn:x,key:v}}}),f)return;we.fastALL(s,function(g,m,x){var v;if(g.indexOf("(")>-1){var p=(g.match(/\(.*\)/g)||[""])[0].replace(/\(|\)/g,"").split(",").map(function(h){return h.trim()});i._sortGroups&&c?we.fastALL(Object.keys(i._sortGroups),function(h,y,b){var _;l[h]||(l[h]={}),u[h]||(u[h]={}),(_=d[g].fn).call.apply(_,[t.filter(function(w,D){return i._sortGroups[h].indexOf(D)>-1}),function(w,D){l[h][d[g].key]=w,D&&(u[h][d[g].key]=D),b()},i.q.join!==void 0].concat(p))}).then(x):(v=d[g].fn).call.apply(v,[t,function(h,y){a[d[g].key]=h,o[d[g].key]=y,x()},i.q.join!==void 0].concat(p))}else x()}).then(function(){var g=function(v,p,h,y){var b={};return s.forEach(function(_){var w=_.indexOf("(")>-1,D=w?d[_].fn.type:"",S=w?d[_].key:_,A=_;if(_.indexOf(" AS ")>-1){var k=_.split(" AS ");S=w?d[_].key:k[0].trim(),A=k[1]}y[S]&&Object.keys(y[S]).forEach(function(C){b[C]=y[S][C]}),b[A]=w?D==="A"?h[S]:h[S][p]:we.objQuery(S,v,i.q.join!==void 0)}),b};if(!t.length&&c){var m=[{}];Object.keys(d).forEach(function(v){typeof a[d[v].key]!="undefined"&&(m[0][v]=a[d[v].key])}),r(m);return}if(i._sortGroups&&c){var x=[];Object.keys(i._sortGroups).forEach(function(v){var p=t.filter(function(h,y){return i._sortGroups[v].indexOf(y)>-1}).filter(function(h,y){return y<1});p&&p.length&&x.push(g(p[0],0,l[v],u[v]))}),r(x)}else r(c?t.filter(function(v,p){return p<1}).map(function(v,p){return g(v,p,a,o)}):t.map(function(v,p){return g(v,p,a,o)}))})}else r(t)},e.prototype._executeQueryArguments=function(t,r,n){var i=this,s=function(){i.q.having&&(t=i._having(t)),i.q.orderBy&&(t=i._orderBy(t)),i.q.offset&&(t=i._offset(t)),i.q.limit&&(t=i._limit(t)),r(t)},a=function(){i.q.actionArgs&&i.q.actionArgs.length?i._mutateRows(t,function(u){t=u,s()},n):s()},o=function(){i.q.groupBy&&(t=i._groupBy(t)),i.q.orm?i._orm(t,function(u){t=u,a()}):a()};if(this.q.join){var l=[];console.log(t),we.fastCHAIN(t,function(u,c,d){i._maybeJoin(u,function(f){l.push(f)},d,n)}).then(function(){t=l,o()}).catch(n)}else o()},e}();Vc._MutateSelection=lO;var cO=function(){function e(t,r,n,i,s){var a=this;if(this.qu=t,this.q=r,this.s=n,this.q.join&&this.q.orm&&s(new Error("nSQL: Cannot do a JOIN and ORM command at the same time!")),[this.q.where,this.q.range,this.q.trie].filter(function(d){return d}).length>1&&s(new Error("nSQL: Can only have ONE of Trie, Range or Where!")),this.q.trie&&this.q.trie.column&&this.q.trie.search){this._selectByTrie(i);return}if(this.q.range&&this.q.range.length){this._selectByRange(i);return}if(!this.q.where||!this.q.where.length||!Array.isArray(this.q.where)){this._fullTableScan(i);return}var o=!1;if(typeof this.q.where[0]=="string"?o=this._isOptimizedWhere(this.q.where)===0:o=(this.q.where||[]).reduce(function(d,f,g){return g%2===1?d:d+a._isOptimizedWhere(f)},0)===0,o){this._selectByKeysOrSeach(this.q.where,i);return}var l=this._isSubOptimizedWhere(this.q.where);if(l>0){var u=this.q.where.slice(0,l),c=this.q.where.slice(l+1);this._selectByKeysOrSeach(u,function(d){i(d.filter(function(f,g){return Jd(f,c,g,!1)}))});return}this._fullTableScan(i)}return e.prototype._selectByKeysOrSeach=function(t,r){var n=this;if(t&&typeof t[0]=="string")this._selectRowsByIndexOrSearch(t,r);else if(t){var i=[],s="",a=this.s.tableInfo[this.q.table]._pk;we.fastCHAIN(t,function(o,l,u){if(l%2===1){s=o,u();return}n._selectRowsByIndexOrSearch(o,function(c){if(s==="AND"){for(var d={},f=c.length;f--;)d[c[f][a]]=!0;i=i.filter(function(g){return d[g[a]]})}else i=i.concat(c);u()})}).then(function(){var o={};r(i.filter(function(l){return o[l[a]]?!1:(o[l[a]]=!0,!0)}))})}},e.prototype._selectRowsByIndexOrSearch=function(t,r){var n=this;if(t[0].indexOf("search(")===0){var i=0;t[1].indexOf(">")!==-1?i=parseFloat(t[1].replace(">",""))+1e-4:t[1].indexOf("<")!==-1&&(i=parseFloat(t[1].replace("<",""))*-1+1e-4);var s=t[0].replace(/search\((.*)\)/gmi,"$1").split(",").map(function(b){return b.trim()}),a={},o={};we.fastALL(s,function(b,_,w){var D=n.qu._tokenizer(b,t[2]),S=n.s.tableInfo[n.q.table]._searchColumns[b],A={},k=[],C={},E={};D.forEach(function(M){C[M.w]=M.o,E[M.o]=M.w}),we.fastALL(["_search_","_search_fuzzy_"],function(M,I,P){var L="_"+n.q.table+M+b;switch(I){case 0:we.fastALL(D,function(V,W,U){n.s.adapterRead(L,V.w,function(te){if(!te){U();return}te.rows.forEach(function(N){A[N.id]||(A[N.id]={}),k.push(N.i[0]),A[N.id][V.w]=N}),U()})}).then(P);break;case 1:if(i===0){P();return}n.s.adapters[0].adapter.getIndex(L,!1,function(V){var W=[];V.forEach(function(U){D.forEach(function(te){$N(te.o,U)&&(o[te.o]=U,C[U]=te.o,W.push(U))})}),W=W.filter(function(U,te,N){return N.indexOf(U)===te}),we.fastALL(W,function(U,te,N){n.s.adapterRead(L,U,function(R){if(!R){N();return}R.rows.forEach(function(H){var K=!1;if(A[H.id]?k.indexOf(H.i[0])!==-1&&(K=!0):A[H.id]={},!K){var Ee=E[U]||U;A[H.id][Ee]=H}}),N()})}).then(P)});break}}).then(function(){Object.keys(A).forEach(function(M){if(i===0&&Object.keys(A[M]).length!==D.length){delete A[M];return}a[M]||(a[M]={weight:0,locations:{}});var I=0,P=Object.keys(A[M]).map(function(U){return I=A[M][U].l,C[U]&&(a[M].weight+=5),{word:C[U]||U,loc:A[M][U].i}}),L=P.reduce(function(U,te){return U+te.loc.length},0);if(a[M].weight+=L/I+parseInt(S[0]),a[M].locations[b]=P,i!==0)D.forEach(function(U){var te=A[M][U.w];te&&te.i.forEach(function(N){Object.keys(A[M]).forEach(function(R){R!==U.w&&A[M][R].i.forEach(function(H){var K=Math.abs(H-N);K&&(a[M].weight+=10/(K*10))})})}),o[U.o]&&P.forEach(function(N){if(o[U.o]===N.word){var R=T1(U.o,N.word);R<=1?a[M].weight+=10:a[M].weight+=10/(R*5)}})});else if(D.length>1){var V=[];Object.keys(A[M]).forEach(function(U){U===D[0].w&&(V=A[M][U].i)});var W=!0;V.forEach(function(U,te){var N=D[te+1];N&&Object.keys(A[M]).forEach(function(R){if(R===N.w){var H=N.i+U;A[M][R].i.indexOf(H)===-1&&(W=!1)}})}),W||delete a[M]}}),w()})}).then(function(b){for(var _=0,w=Object.keys(a),D=w.length;D--;)_=Math.max(_,a[w[D]].weight);for(D=w.length;D--;)a[w[D]].weight=a[w[D]].weight/_;we.fastALL(w.filter(function(S){return i===0?!0:i>0?i<a[S].weight:i<0?i*-1>a[S].weight:!0}),function(S,A,k){n.s.adapterRead(n.q.table,S,k)}).then(function(S){var A=n.s.tableInfo[n.q.table]._pk;S=S.filter(function(M){return M}),S.forEach(function(M){var I=M[A];Object.keys(a[I].locations).forEach(function(P){var L=n.qu._tokenizer(P,M[P]).map(function(V){return V.o});a[I].locations[P].forEach(function(V){V.loc.forEach(function(W){var U=T1(L[W],V.word);U<=1?a[I].weight+=10:a[I].weight+=10/(U*10)})})})});for(var k=0,C=Object.keys(a),E=C.length;E--;)k=Math.max(k,a[C[E]].weight);for(E=C.length;E--;)a[C[E]].weight=a[C[E]].weight/k;r(S.filter(function(M){return i===0?!0:i>0?i<a[M[A]].weight:i<0?i*-1>a[M[A]].weight:!0}).map(function(M){return Li({},M,{_weight:a[M[A]].weight,_locations:a[M[A]].locations})}))})});return}if(t[0].indexOf("crow(")===0){var l=t[0].replace(/crow\((.*)\)/gmi,"$1").split(",").map(function(b,_){return _<2?parseFloat(b.trim()):b.trim()}),u="_"+this.q.table+"_idx_"+(l.length>2?l[2]:"lat"),c="_"+this.q.table+"_idx_"+(l.length>2?l[3]:"lon"),d=parseFloat(t[2]||"0"),f=[-1,1].map(function(b){return l[0]+d*b/Ec.NanoSQLInstance.earthRadius*(180*Math.PI)}),g=[-1,1].map(function(b){return l[1]+d*b/Ec.NanoSQLInstance.earthRadius*(180*Math.PI)/Math.cos(l[0]*Math.PI/180)});we.fastALL([u,c],function(b,_,w){var D=_===0?f:g;n.s._rangeRead(b,D[0],D[1],!0,w)}).then(function(b){if(!b[0].length||!b[1].length){r([]);return}var _={},w=[];[0,1].forEach(function(S){b[S].forEach(function(A){A.rows.forEach(function(k){switch(S){case 0:_[k]=A.id;break;case 1:_[k]&&we.crowDistance(l[0],l[1],_[k],A.id,Ec.NanoSQLInstance.earthRadius)<d&&w.push(k);break}})})});var D=n.qu._store.tableInfo[n.q.table]._pk;n.s._read(n.q.table,w,function(S){r(S.map(function(A){return Li({},A,{_distance:_[A[D]]})}))})});return}if(t[1]==="BETWEEN"){var m=t[0]===this.s.tableInfo[this.q.table]._pk?"":t[0];if(!Array.isArray(t[2]))throw new Error("nSQL: BETWEEN query must use an array!");if(m){var x="_"+this.q.table+"_idx_"+m;if(this.s._doCache){var v=this.s._secondaryIndexes[x].idx.filter(function(b){return t[2][0]<=b&&t[2][1]>=b}),p=v.map(function(b){return n.s._secondaryIndexes[x].rows[b]}).reverse().reduce(function(b,_){return b.concat(_.rows)},[]);this.s._read(this.q.table,p,r)}else this.s._rangeRead(x,t[2][0],t[2][1],!0,function(b){for(var _=[],w=b.length;w--;)_=_.concat(b[w].rows);n.s._read(n.q.table,_,r)})}else this.s._rangeRead(this.q.table,t[2][0],t[2][1],!0,function(b){r(b)});return}var h=[],y="";switch(t[1]){case"IN":if(h=t[2],!Array.isArray(h))throw new Error("nSQL: IN query must use array!");y="=";break;case"=":case">":case">=":case"<":case"<=":h=[t[2]],y=t[1];break}t[0]===this.s.tableInfo[this.q.table]._pk?y==="="?this.s._read(this.q.table,h,r):this.s.adapters[0].adapter.getIndex(this.q.table,!1,function(b){var _=h[0],w=b.filter(function(D){switch(y){case">":return D>_;case">=":return D>=_;case"<":return D<_;case"<=":return D<=_}return!1});if(!w.length){r([]);return}n.s._read(n.q.table,w,r)}):we.fastALL(h,function(b,_,w){n.s._secondaryIndexRead(n.q.table,y,t[0],b,w)}).then(function(b){r([].concat.apply([],b))})},e.prototype._selectByRange=function(t){var r=this;if(this.q.range){var n=this.q.range;n[0]>0?this.s._rangeRead(this.q.table,n[1],n[1]+n[0]-1,!1,t):this.s.adapters[0].adapter.getIndex(this.q.table,!0,function(i){for(var s=i+n[0]-n[1],a=s,o=Math.abs(n[0])-1;o--;)a++;r.s._rangeRead(r.q.table,s,a,!1,t)})}else t([])},e.prototype._selectByTrie=function(t){this.q.trie?this.s._trieRead(this.q.table,this.q.trie.column,this.q.trie.search,t):t([])},e.prototype._fullTableScan=function(t){var r=this,n=this.q.where!==void 0,i=n&&Array.isArray(this.q.where),s=this.s.tableInfo[this.q.table]._pk,a=[],o=function(){r.s._read(r.q.table,function(u,c,d){if(!n){d(!0);return}d(i?Jd(u,r.q.where,c,!1,a,s):r.q.where(u,c))},t)},l=this.q.where||[];i&&typeof l[0]!="string"?we.fastCHAIN(l,function(u,c,d){if(u[0].indexOf("search(")===-1){d();return}r.qu._store._nsql.query("select").where(u).manualExec({table:r.q.table}).then(function(f){a[c]=f.map(function(g){return g[s]}),d()})}).then(function(){o()}):o()},e.prototype._isSubOptimizedWhere=function(t){var r=this;if(typeof t[0]=="string")return 0;if(this._isOptimizedWhere(t[0])===0){var n=0;return t.forEach(function(i,s){s%2===0&&r._isOptimizedWhere(i)===0&&t[s+1]&&(n=s+1)}),t[n]!=="AND"?0:n}return 0},e.prototype._isOptimizedWhere=function(t){var r=this.s.tableInfo[this.q.table],n=t[0]||"",i=t[1]||"";if(Array.isArray(n))return 1;if(n.indexOf("crow(")!==1&&i==="<"){var s=n.replace(/crow\((.*)\)/gmi,"$1").split(",").map(function(u){return u.trim()}),a=s[2]||"lat",o=s[3]||"lon";return r._secondaryIndexes.indexOf(a)===-1||r._secondaryIndexes.indexOf(o)===-1?1:0}if(n.indexOf("search(")!==-1&&["=",">","<"].reduce(function(u,c){return u+t[1].indexOf(c)},0)!==-3){var l=n.replace(/search\((.*)\)/gmi,"$1").split(",").map(function(u){return u.trim()});return l.filter(function(u){return Object.keys(r._searchColumns).indexOf(u)!==-1}).length?0:1}return(n===r._pk||r._secondaryIndexes.indexOf(n)!==-1)&&["=","IN","BETWEEN",">",">=","<","<="].indexOf(t[1])>-1?0:1},e}();Vc._RowSelection=cO;var uO=function(){function e(t,r){this.q=t,this.p=r}return e.prototype.getRows=function(t,r){var n=this;if(this.q.join||this.q.orm||this.q.trie){r(new Error("nSQL: Cannot do a JOIN, ORM or TRIE command with instance table!"));return}if(this.q.range&&this.q.range.length){var i=this.q.range,s,a;i[0]<0?s=this.q.table.length+i[0]-i[1]:s=i[1];var o=Math.abs(i[0])-1;for(a=s;o--;)a++;t(this.q.table.filter(function(l,u){return u>=s&&u<=a}));return}t(this.q.table.filter(function(l,u){return n.q.where?Array.isArray(n.q.where)?Jd(l,n.q.where||[],u,!1):n.q.where(l,u):!0}))},e}();Vc.InstanceSelection=uO;var Jd=function(e,t,r,n,i,s){if(typeof t[0]!="string"){var a=t.indexOf("OR")!==-1,o,l;return t.reduce(function(u,c,d){if(o!==void 0)return o;if(d%2===1)return l=c,u;var f=!1;return c[0].indexOf("search(")===0&&i?f=i[d].indexOf(e[s])!==-1:Array.isArray(c[0])?f=Jd(e,c,r,n||!1,i,s):f=P1(c,e,n||!1),!a&&f===!1?(o=!1,o):d===0?f:l==="AND"?u&&f:u||f},!1)}else return P1(t,e,n||!1)},uu={},du={},P1=function(e,t,r){du[e[0]]||(du[e[0]]=e[0].indexOf("(")!==-1?e[0].replace(/(.*)\((.*)\)/gmi,"$1,$2").split(",").map(function(u){return isNaN(u)?u.trim():parseFloat(u.trim())}):[]);var n=function(u,c){if(!uu[c]){var d="";uu[c]=new RegExp(c.split("").map(function(f){return d==="\\"?(d=f,f):(d=f,f==="%"?".*":f==="_"?".":f)}).join(""),"gmi")}return typeof u!="string"?typeof u=="number"?String(u).match(uu[c])!==null:JSON.stringify(u).match(uu[c])!==null:u.match(uu[c])!==null},i=e[2],s=e[1],a=function(){if(du[e[0]].length){var u=Ec.NanoSQLInstance.whereFunctions[du[e[0]][0]];return u?u.apply(null,[t,r].concat(du[e[0]].slice(1))):void 0}else return we.objQuery(e[0],t,r)}();if(i==="NULL"||i==="NOT NULL"){var o=[void 0,null,""].indexOf(a)!==-1,l=s==="="||s==="LIKE";switch(i){case"NULL":return l?o:!o;case"NOT NULL":return l?!o:o}}if(["IN","BETWEEN","INTERSECT","INTERSECT ALL","NOT INTERSECT"].indexOf(s)!==-1&&!Array.isArray(i))throw new Error("nSQL: "+s+" requires an array value!");switch(s){case"=":return a===i;case"!=":return a!==i;case">":return a>i;case"<":return a<i;case"<=":return a<=i;case">=":return a>=i;case"IN":return(i||[]).indexOf(a)!==-1;case"NOT IN":return(i||[]).indexOf(a)===-1;case"REGEXP":case"REGEX":return(a||"").match(i)!==null;case"LIKE":return n(a||"",i);case"NOT LIKE":return!n(a||"",i);case"BETWEEN":return i[0]<=a&&i[1]>=a;case"HAVE":case"INCLUDES":return(a||[]).indexOf(i)!==-1;case"NOT HAVE":case"NOT INCLUDES":return(a||[]).indexOf(i)===-1;case"INTERSECT":return(a||[]).filter(function(u){return(i||[]).indexOf(u)>-1}).length>0;case"INTERSECT ALL":return(a||[]).filter(function(u){return(i||[]).indexOf(u)>-1}).length===i.length;case"NOT INTERSECT":return(a||[]).filter(function(u){return(i||[]).indexOf(u)>-1}).length===0;default:return!1}},z_={},J_={};Object.defineProperty(J_,"__esModule",{value:!0});var $y={END_WORD:"$",PERMS_MIN_LEN:2},qN=function(){function e(t){this._trie=e._create(t)}return e.prototype.getIndex=function(){return this._trie},e.prototype.setIndex=function(t){this._trie=t},e.prototype.addWord=function(t){var r=function(i,s,a,o){return e._append(i,s,a,o)},n=t.toLowerCase().split("");return n.reduce(r,this._trie),this},e.prototype.removeWord=function(t){var r=e._checkPrefix(this._trie,t),n=r.prefixFound,i=r.prefixNode;return n&&delete i[$y.END_WORD],this},e.prototype.getWords=function(){return e._recursePrefix(this._trie,"")},e.prototype.getPrefix=function(t){if(t=t.toLowerCase(),!this._isPrefix(t))return[];var r=e._checkPrefix(this._trie,t).prefixNode;return e._recursePrefix(r,t)},e.prototype._isPrefix=function(t){var r=e._checkPrefix(this._trie,t).prefixFound;return r},e._append=function(t,r,n,i){return t[r]=t[r]||{},t=t[r],n===i.length-1&&(t[$y.END_WORD]=1),t},e._checkPrefix=function(t,r){var n=r.toLowerCase().split(""),i=n.every(function(s,a){return t[s]?t=t[s]:!1});return{prefixFound:i,prefixNode:t}},e._create=function(t){var r=(t||[]).reduce(function(n,i){return i.toLowerCase().split("").reduce(e._append,n),n},{});return r},e._recursePrefix=function(t,r,n){n===void 0&&(n=[]);var i=r;for(var s in t)s===$y.END_WORD&&(n.push(i),i=""),e._recursePrefix(t[s],r+s,n);return n.sort()},e}();J_.Trie=qN;var G_={},xl={};Object.defineProperty(xl,"__esModule",{value:!0});var Yu=si,WN=function(){function e(){this._sorted=[],this._exists={},this.ai=1,this.sortIndex=!0,this.doAI=!1}return e.prototype.clone=function(t){this._changeCB&&!t&&this._changeCB(this._ta,"drop",null);var r=new e;return r.doAI=this.doAI,r.ai=this.ai,r.sortIndex=this.sortIndex,r._changeCB=this._changeCB,r._ta=this._ta,r.pkType=this.pkType,t&&this.set([]),r},e.prototype.onChange=function(t,r){this._ta=t,this._changeCB=r},e.prototype.set=function(t){var r=this;this._sorted=t||[],this._exists={},this._sorted.forEach(function(n,i){r._exists[String(n)]=!0}),this.doAI&&this._sorted.length&&(this.ai=this._sorted[this._sorted.length-1]+1)},e.prototype.getLocation=function(t,r){var n=this.indexOf(t);return n!==-1?n:this.sortIndex?Yu.binarySearch(this._sorted,t,r):Yu.binarySearch(this._sorted.sort(function(i,s){return i>s?1:-1}),t,r)},e.prototype.add=function(t,r){if(!this._exists[String(t)])if(this._changeCB&&!r&&this._changeCB(this._ta,"add",t),this._exists[String(t)]=!0,r&&["number","int","float"].indexOf(this.pkType)!==-1&&(t=parseFloat(t)),this.doAI)this.ai++,this._sorted.push(t);else if(this.sortIndex){var n=Yu.binarySearch(this._sorted,t);this._sorted.splice(n,0,t)}else this._sorted.push(t)},e.prototype.keys=function(){return this._sorted},e.prototype.exists=function(t){return!!this._exists[String(t)]},e.prototype.indexOf=function(t){return this._exists[String(t)]?this.sortIndex?Yu.binarySearch(this._sorted,t):this._sorted.indexOf(t):-1},e.prototype.remove=function(t,r){if(this._changeCB&&!r&&this._changeCB(this._ta,"rm",t),r&&["number","int","float"].indexOf(this.pkType)!==-1&&(t=parseFloat(t)),this._exists[String(t)]){var n=this.indexOf(t);this._exists[String(t)]=!1,this._sorted.splice(n,1)}},e}();xl.DatabaseIndex=WN;xl.syncPeerIndex=function(e,t){e.peerMode&&(Object.keys(t).forEach(function(r){t[r].onChange(r,function(n,i,s){e.peers.filter(function(a){return a!==e.pid}).forEach(function(a){localStorage.setItem(a+"::"+Yu.random16Bits().toString(16),i+","+n+","+(s||""))})})}),window.addEventListener("storage",function(r){if(r.key&&r.key.indexOf(e.pid+"::")!==-1){var n=(r.newValue||"").split(",");switch(localStorage.removeItem(r.key),n[0]){case"rm":t[n[1]].remove(n[2],!0);break;case"add":t[n[1]].add(n[2],!0);break;case"drop":t[n[1]].clone(!0);break}}}))};var Ip=le&&le.__assign||function(){return Ip=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ip.apply(this,arguments)};Object.defineProperty(G_,"__esModule",{value:!0});var jN=Ji,Fl=si,R1=xl,YN=function(){function e(t){this._pkKey={},this._rows={},this._dbIndex={},this._ls=t||!1}return e.prototype.connect=function(t){t()},e.prototype.setID=function(t){this._id=t},e.prototype.makeTable=function(t,r){var n=this;this._rows[t]={},this._dbIndex[t]=new R1.DatabaseIndex,r.forEach(function(i){if(i.props&&Fl.intersect(["pk","pk()"],i.props)&&(n._dbIndex[t].pkType=i.type,n._pkKey[t]=i.key,i.props&&Fl.intersect(["ai","ai()"],i.props)&&(i.type==="int"||i.type==="number")&&(n._dbIndex[t].doAI=!0),(i.props&&Fl.intersect(["ns","ns()"],i.props)||["uuid","timeId","timeIdms"].indexOf(n._dbIndex[t].pkType)!==-1)&&(n._dbIndex[t].sortIndex=!1),n._ls)){var s=localStorage.getItem(n._id+"*"+t+"_idx");s&&n._dbIndex[t].set(JSON.parse(s))}})},e.prototype.write=function(t,r,n,i,s){var a,o;if(r=r||Fl.generateID(this._dbIndex[t].pkType,this._dbIndex[t].ai),!r){s(new Error("nSQL: Can't add a row without a primary key!"));return}if(this._dbIndex[t].indexOf(r)===-1&&(this._dbIndex[t].add(r),this._ls&&localStorage.setItem(this._id+"*"+t+"_idx",JSON.stringify(this._dbIndex[t].keys()))),this._ls){var l=Ip({},n,(a={},a[this._pkKey[t]]=r,a));localStorage.setItem(this._id+"*"+t+"__"+r,JSON.stringify(l)),i(l)}else{var l=Ip({},n,(o={},o[this._pkKey[t]]=r,o));this._rows[t][r]=Fl.deepFreeze(l),i(l)}},e.prototype.delete=function(t,r,n){var i=this._dbIndex[t].indexOf(r);i!==-1&&(this._dbIndex[t].remove(r),this._ls&&localStorage.setItem(this._id+"*"+t+"_idx",JSON.stringify(this._dbIndex[t].keys()))),this._ls?localStorage.removeItem(this._id+"*"+t+"__"+r):delete this._rows[t][r],n()},e.prototype.read=function(t,r,n){if(this._ls){var i=localStorage.getItem(this._id+"*"+t+"__"+r);n(i?JSON.parse(i):void 0)}else n(this._rows[t][r])},e.prototype.rangeRead=function(t,r,n,i,s,a){var o=this,l=this._dbIndex[t].keys(),u=[typeof i,typeof s].indexOf("undefined")===-1,c=u?[i,s]:[0,l.length-1];if(!l.length){n();return}!(a&&u)&&this._dbIndex[t].sortIndex===!1&&(l=l.sort()),a&&u&&(c=c.map(function(x){var v=o._dbIndex[t].indexOf(x);return v!==-1?v:o._dbIndex[t].getLocation(x)}));var d=c[0],f=0,g=function(){d++,f++,f%500===0?jN.setFast(m):m()},m=function(){if(d<=c[1])if(o._ls){var x=localStorage.getItem(o._id+"*"+t+"__"+l[d]);r(x?JSON.parse(x):void 0,d,g)}else r(o._rows[t][l[d]],d,g);else n()};m()},e.prototype.drop=function(t,r){var n=this;this._ls?(localStorage.setItem(this._id+"*"+t+"_idx",JSON.stringify([])),this._dbIndex[t].keys().forEach(function(i){localStorage.removeItem(n._id+"*"+t+"__"+i)})):this._rows[t]={},this._dbIndex[t]=this._dbIndex[t].clone(),r()},e.prototype.getIndex=function(t,r,n){n(r?this._dbIndex[t].keys().length:this._dbIndex[t].keys())},e.prototype.destroy=function(t){var r=this;Fl.fastALL(Object.keys(this._dbIndex),function(n,i,s){r.drop(n,s)}).then(t)},e.prototype.setNSQL=function(t){R1.syncPeerIndex(t,this._dbIndex)},e}();G_._SyncStore=YN;var Q_={},eb=le&&le.__assign||function(){return eb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},eb.apply(this,arguments)};Object.defineProperty(Q_,"__esModule",{value:!0});var HN=Ji,_o=si,$1=xl,KN=function(){function e(t){this.version=t,this._pkKey={},this._dbIndex={},this._dataModels={}}return e.prototype.onError=function(t){throw console.error(t),new Error("nSQL: IndexedDB Error!")},e.prototype.connect=function(t){var r=this;this._modelHash=_o.hash(JSON.stringify(this._dataModels));var n=1;if(this.version)n=this.version;else{n=parseInt(localStorage.getItem(this._id+"-idb-version")||"")||1;var i=localStorage.getItem(this._id+"-idb-hash")||this._modelHash;i!==this._modelHash&&n++,localStorage.setItem(this._id+"-idb-version",String(n)),localStorage.setItem(this._id+"-idb-hash",this._modelHash)}var s=indexedDB.open(this._id,n);s.onerror=this.onError,s.onupgradeneeded=function(a){r._db=a.target.result,Object.keys(r._dbIndex).forEach(function(o){r._db.objectStoreNames.contains(o)||r._db.createObjectStore(o,{keyPath:r._pkKey[o]})})},s.onsuccess=function(a){r._db=a.target.result;var o=function(l,u){var c=[];r.store(l,"readonly",function(d,f){var g=f.openCursor();g.onsuccess=function(m){var x=m.target.result;x&&(c.push(x.key),x.continue())},g.onerror=r.onError,d.oncomplete=function(){u(c)}})};_o.fastALL(Object.keys(r._dbIndex),function(l,u,c){o(l,function(d){r._dbIndex[l].set(d),c()})}).then(function(){t()})}},e.prototype.store=function(t,r,n){var i=this._db.transaction(t,r);i.onabort=this.onError,i.onerror=this.onError,n(i,i.objectStore(t))},e.prototype.setID=function(t){this._id=t},e.prototype.makeTable=function(t,r){var n=this;this._dbIndex[t]=new $1.DatabaseIndex,this._dataModels[t]=r,r.forEach(function(i){i.props&&_o.intersect(["pk","pk()"],i.props)&&(n._dbIndex[t].pkType=i.type,n._pkKey[t]=i.key,i.props&&_o.intersect(["ai","ai()"],i.props)&&(i.type==="int"||i.type==="number")&&(n._dbIndex[t].doAI=!0),(i.props&&_o.intersect(["ns","ns()"],i.props)||["uuid","timeId","timeIdms"].indexOf(n._dbIndex[t].pkType)!==-1)&&(n._dbIndex[t].sortIndex=!1))})},e.prototype.write=function(t,r,n,i,s){var a;if(r=r||_o.generateID(this._dbIndex[t].pkType,this._dbIndex[t].ai),!r){s(new Error("nSQL: Can't add a row without a primary key!"));return}this._dbIndex[t].indexOf(r)===-1&&this._dbIndex[t].add(r);var o=eb({},n,(a={},a[this._pkKey[t]]=r,a));this.store(t,"readwrite",function(l,u){try{u.put(o).onsuccess=function(){i(o)}}catch(c){console.error(c),s(c)}})},e.prototype.delete=function(t,r,n){var i=this,s=this._dbIndex[t].indexOf(r);s!==-1&&this._dbIndex[t].remove(r),this.store(t,"readwrite",function(a,o){var l=r==="_clear_"?o.clear():o.delete(r);l.onerror=i.onError,l.onsuccess=function(u){n()}})},e.prototype.read=function(t,r,n){var i=this;if(this._dbIndex[t].indexOf(r)===-1){n(null);return}this.store(t,"readonly",function(s,a){var o=a.get(r);o.onerror=i.onError,o.onsuccess=function(){n(o.result)}})},e.prototype.rangeRead=function(t,r,n,i,s,a){var o=this,l=this._dbIndex[t].keys(),u=[typeof i,typeof s].indexOf("undefined")===-1,c=u?[i,s]:[0,l.length-1];if(!l.length){n();return}!(a&&u)&&this._dbIndex[t].sortIndex===!1&&(l=l.sort()),a&&u&&(c=c.map(function(x){var v=o._dbIndex[t].indexOf(x);return v!==-1?v:o._dbIndex[t].getLocation(x)}));var d=c[0],f=0,g=function(){d++,f++,f%500===0?HN.setFast(m):m()},m=function(){d<=c[1]?o.read(t,l[d],function(x){r(x,d,g)}):n()};m()},e.prototype.drop=function(t,r){this._dbIndex[t]=this._dbIndex[t].clone(),this.delete(t,"_clear_",function(){r()})},e.prototype.getIndex=function(t,r,n){n(r?this._dbIndex[t].keys().length:this._dbIndex[t].keys())},e.prototype.destroy=function(t){var r=this;localStorage.removeItem(this._id+"-idb-version"),localStorage.removeItem(this._id+"-idb-hash"),_o.fastALL(Object.keys(this._dbIndex),function(n,i,s){r.drop(n,s)}).then(t)},e.prototype.setNSQL=function(t){$1.syncPeerIndex(t,this._dbIndex)},e}();Q_._IndexedDBStore=KN;var X_={},Bp=le&&le.__assign||function(){return Bp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Bp.apply(this,arguments)};Object.defineProperty(X_,"__esModule",{value:!0});var N1=Ji,Xi=si,L1=xl,VN=function(){function e(t){this._pkKey={},this._dbIndex={},this._pkIsNum={},this._size=(t||0)*1e3*1e3}return e.prototype.setID=function(t){this._id=t},e.prototype.connect=function(t){var r=this;this._db=window.openDatabase(this._id,"1.0",this._id,this._size||Xi.isAndroid?5e6:1),Xi.fastALL(Object.keys(this._pkKey),function(n,i,s){r._sql(!0,'CREATE TABLE IF NOT EXISTS "'+n+'" (id '+(r._pkIsNum[n]?"REAL":"TEXT")+" PRIMARY KEY UNIQUE, data TEXT)",[],function(){r._sql(!1,'SELECT id FROM "'+n+'"',[],function(a){for(var o=[],l=0;l<a.rows.length;l++)o.push(a.rows.item(l).id);r._dbIndex[n].sortIndex&&(o=o.sort(function(u,c){return u>c?1:-1})),r._dbIndex[n].set(o),s()})})}).then(t)},e.prototype._chkTable=function(t){if(Object.keys(this._pkKey).indexOf(t)===-1)throw Error("No table "+t+" found!");return'"'+t+'"'},e.prototype.makeTable=function(t,r){var n=this;this._dbIndex[t]=new L1.DatabaseIndex,r.forEach(function(i){i.props&&Xi.intersect(["pk","pk()"],i.props)&&(n._dbIndex[t].pkType=i.type,n._pkKey[t]=i.key,i.props&&Xi.intersect(["ai","ai()"],i.props)&&(i.type==="int"||i.type==="number")&&(n._dbIndex[t].doAI=!0),["number","float","int"].indexOf(n._dbIndex[t].pkType)!==-1&&(n._pkIsNum[t]=!0),(i.props&&Xi.intersect(["ns","ns()"],i.props)||["uuid","timeId","timeIdms"].indexOf(n._dbIndex[t].pkType)!==-1)&&(n._dbIndex[t].sortIndex=!1))})},e.prototype._sql=function(t,r,n,i){var s=function(a){a.executeSql(r,n,function(o,l){i(l)},function(o,l){return console.error(r,n,l),!1})};t?this._db.transaction(s):this._db.readTransaction(s)},e.prototype.write=function(t,r,n,i,s){var a=this;if(r=r||Xi.generateID(this._dbIndex[t].pkType,this._dbIndex[t].ai),!r){s(new Error("nSQL: Can't add a row without a primary key!"));return}this._sql(!1,"SELECT id FROM "+this._chkTable(t)+" WHERE id = ?",[r],function(o){var l,u;if(o.rows.length){var d=Bp({},n,(u={},u[a._pkKey[t]]=r,u));a._sql(!0,"UPDATE "+a._chkTable(t)+" SET data = ? WHERE id = ?",[JSON.stringify(d),r],function(){i(d)})}else{a._dbIndex[t].add(r);var c=Bp({},n,(l={},l[a._pkKey[t]]=r,l));a._sql(!0,"INSERT into "+a._chkTable(t)+" (id, data) VALUES (?, ?)",[r,JSON.stringify(c)],function(f){i(c)})}})},e.prototype.delete=function(t,r,n){var i=this._dbIndex[t].indexOf(r);i!==-1&&this._dbIndex[t].remove(r),this._sql(!0,"DELETE FROM "+this._chkTable(t)+" WHERE id = ?",[r],function(){n()})},e.prototype.read=function(t,r,n){this._sql(!1,"SELECT data FROM "+this._chkTable(t)+" WHERE id = ?",[r],function(i){i.rows.length?n(JSON.parse(i.rows.item(0).data)):n(void 0)})},e.prototype.batchRead=function(t,r,n){var i=this,s=Xi.splitArr(r,500),a=[];Xi.fastCHAIN(s,function(o,l,u){i._sql(!1,"SELECT data from "+i._chkTable(t)+" WHERE id IN ("+o.map(function(c){return"?"}).join(", ")+") ORDER BY id",o,function(c){for(var d=c.rows.length;d--;)a.unshift(JSON.parse(c.rows.item(d).data));u()})}).then(function(){n(a)})},e.prototype.rangeRead=function(t,r,n,i,s,a){var o=this,l=this._dbIndex[t].keys(),u=[typeof i,typeof s].indexOf("undefined")===-1,c=u?[i,s]:[];if(!l.length){n();return}a&&u&&(c=c.map(function(x){return o._dbIndex[t].getLocation(x)})),!(a&&u)&&this._dbIndex[t].sortIndex===!1&&(l=l.sort());var d=c[0]||0,f=[],g=c[0],m="SELECT data from "+this._chkTable(t);if(c.length)for(l[g];g<=c[1];)f.push(l[g]),g++;m+=" ORDER BY id",f.length?this.batchRead(t,f,function(x){var v=0,p=function(){x.length>v?r(x[v],d,function(){d++,v++,v%500===0?N1.setFast(p):p()}):n()};p()}):this._sql(!1,m,f,function(x){var v=0,p=function(){x.rows.length>v?r(JSON.parse(x.rows.item(v).data),d,function(){d++,v++,v%500===0?N1.setFast(p):p()}):n()};p()})},e.prototype.drop=function(t,r){this._dbIndex[t]=this._dbIndex[t].clone(),this._sql(!0,"DELETE FROM "+this._chkTable(t),[],function(n){r()})},e.prototype.getIndex=function(t,r,n){n(r?this._dbIndex[t].keys().length:this._dbIndex[t].keys())},e.prototype.destroy=function(t){var r=this;Xi.fastALL(Object.keys(this._dbIndex),function(n,i,s){r.drop(n,s)}).then(t)},e.prototype.setNSQL=function(t){L1.syncPeerIndex(t,this._dbIndex)},e}();X_._WebSQLStore=VN;var Z_={},tb=le&&le.__assign||function(){return tb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},tb.apply(this,arguments)};Object.defineProperty(Z_,"__esModule",{value:!0});var UN=Ji,ra=si,zN=xl,dO=function(e){le._fs.existsSync(e)&&(le._fs.readdirSync(e).forEach(function(t){var r=e+"/"+t;le._fs.statSync(r).isDirectory()?dO(r):le._fs.unlinkSync(r)}),le._fs.rmdirSync(e))},JN=function(){function e(t,r,n){var i=this;this.path=t,this.writeCache=r,this.readCache=n,this._pkKey={},this._pkType={},this._dbIndex={},this._levelDBs={},this._isPKnum={},typeof this.path=="string"||typeof this.path=="undefined"?this._lvlDown=function(s,a){var o=(i.path||".")+"/db_"+s;return le._fs.existsSync(o)||le._fs.mkdirSync(o),{lvld:le._leveldown(le._path.join(o,a)),args:{cacheSize:(i.readCache||32)*1024*1024,writeBufferSize:(i.writeCache||32)*1024*1024}}}:this._lvlDown=this.path}return e.prototype.connect=function(t){var r=this;ra.fastALL(Object.keys(this._dbIndex),function(n,i,s){var a=[];r._levelDBs[n].createKeyStream().on("data",function(o){a.push(r._isPKnum[n]?new le._Int64BE(o).toNumber():o.toString())}).on("end",function(){a.length&&r._dbIndex[n].set(a),s()})}).then(t)},e.prototype.disconnect=function(t){var r=this;ra.fastALL(Object.keys(this._dbIndex),function(n,i,s){r._levelDBs[n].close(s)}).then(function(){t()})},e.prototype.setID=function(t){this._id=t},e.prototype.makeTable=function(t,r){var n=this;this._dbIndex[t]=new zN.DatabaseIndex;var i=this._lvlDown(this._id,t);this._levelDBs[t]=le._levelup(i.lvld,i.args),r.forEach(function(s){s.props&&ra.intersect(["pk","pk()"],s.props)&&(n._pkType[t]=s.type,n._pkKey[t]=s.key,n._isPKnum[t]=["int","float","number"].indexOf(s.type)!==-1,s.props&&ra.intersect(["ai","ai()"],s.props)&&(s.type==="int"||s.type==="number")&&(n._dbIndex[t].doAI=!0),(s.props&&ra.intersect(["ns","ns()"],s.props)||["uuid","timeId","timeIdms"].indexOf(n._pkType[t])!==-1)&&(n._dbIndex[t].sortIndex=!1))})},e.prototype.write=function(t,r,n,i,s){var a;if(r=r||ra.generateID(this._pkType[t],this._dbIndex[t].ai),!r){s(new Error("Can't add a row without a primary key!"));return}this._dbIndex[t].indexOf(r)===-1&&this._dbIndex[t].add(r);var o=tb({},n,(a={},a[this._pkKey[t]]=r,a));this._levelDBs[t].put(this._isPKnum[t]?new le._Int64BE(r).toBuffer():r,JSON.stringify(o),function(l){if(l)throw Error(l);i(o)})},e.prototype.delete=function(t,r,n){var i=this._dbIndex[t].indexOf(r);i!==-1&&this._dbIndex[t].remove(r),this._levelDBs[t].del(this._isPKnum[t]?new le._Int64BE(r).toBuffer():r,function(s){if(s)throw Error(s);n()})},e.prototype.read=function(t,r,n){if(!this._dbIndex[t].exists(r)){n(null);return}this._levelDBs[t].get(this._isPKnum[t]?new le._Int64BE(r).toBuffer():r,function(i,s){if(i)throw Error(i);n(JSON.parse(s))})},e.prototype.rangeRead=function(t,r,n,i,s,a){var o=this._dbIndex[t].keys(),l=[typeof i,typeof s].indexOf("undefined")===-1,u=l?[i,s]:[0,o.length-1],c=[];!(a&&l)&&this._dbIndex[t].sortIndex===!1&&(o=o.sort());var d=a&&l?i:o[u[0]],f=a&&l?s:o[u[1]];if(!a&&!d&&!f){n();return}this._levelDBs[t].createValueStream({gte:this._isPKnum[t]&&d?new le._Int64BE(d).toBuffer():d,lte:this._isPKnum[t]&&f?new le._Int64BE(f).toBuffer():f}).on("data",function(g){c.push(JSON.parse(g))}).on("end",function(){var g=u[0]||0,m=0,x=function(){m<c.length?r(c[m],g,function(){g++,m++,m%500===0?UN.setFast(x):x()}):n()};x()})},e.prototype.drop=function(t,r){var n=this;ra.fastALL(this._dbIndex[t].keys(),function(i,s,a){n._levelDBs[t].del(i,a)}).then(function(){n._dbIndex[t]=n._dbIndex[t].clone(),r()})},e.prototype.getIndex=function(t,r,n){n(r?this._dbIndex[t].keys().length:this._dbIndex[t].keys())},e.prototype.destroy=function(t){var r=this;ra.fastALL(Object.keys(this._dbIndex),function(n,i,s){r.drop(n,function(){r._levelDBs[n].close(s)})}).then(function(){dO(r._path),t()})},e}();Z_._LevelStore=JN;var ex={exports:{}},rb={exports:{}};typeof Object.create=="function"?rb.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:rb.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var GN={},QN=Object.freeze(Object.defineProperty({__proto__:null,default:GN},Symbol.toStringTag,{value:"Module"})),XN=i$(QN),ZN=rb.exports,fO=XN.EventEmitter;ex.exports=Dn;ex.exports.default=Dn;function Dn(e){if(!(this instanceof Dn))return new Dn(e);fO.call(this),e=e||{},this.concurrency=e.concurrency||1/0,this.timeout=e.timeout||0,this.autostart=e.autostart||!1,this.results=e.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}}ZN(Dn,fO);var eL=["pop","shift","indexOf","lastIndexOf"];eL.forEach(function(e){Dn.prototype[e]=function(){return Array.prototype[e].apply(this.jobs,arguments)}});Dn.prototype.slice=function(e,t){return this.jobs=this.jobs.slice(e,t),this};Dn.prototype.reverse=function(){return this.jobs.reverse(),this};var tL=["push","unshift","splice"];tL.forEach(function(e){Dn.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this.autostart&&this.start(),t}});Object.defineProperty(Dn.prototype,"length",{get:function(){return this.pending+this.jobs.length}});Dn.prototype.start=function(e){if(e&&nL.call(this,e),this.running=!0,this.pending>=this.concurrency)return;if(this.jobs.length===0){this.pending===0&&nb.call(this);return}var t=this,r=this.jobs.shift(),n=!0,i=this.session,s=null,a=!1,o=null,l=r.hasOwnProperty("timeout")?r.timeout:this.timeout;function u(d,f){n&&t.session===i&&(n=!1,t.pending--,s!==null&&(delete t.timers[s],clearTimeout(s)),d?t.emit("error",d,r):a===!1&&(o!==null&&(t.results[o]=Array.prototype.slice.call(arguments,1)),t.emit("success",f,r)),t.session===i&&(t.pending===0&&t.jobs.length===0?nb.call(t):t.running&&t.start()))}l&&(s=setTimeout(function(){a=!0,t.listeners("timeout").length>0?t.emit("timeout",u,r):u()},l),this.timers[s]=s),this.results&&(o=this.results.length,this.results[o]=null),this.pending++,t.emit("start",r);var c=r(u);c&&c.then&&typeof c.then=="function"&&c.then(function(d){return u(null,d)}).catch(function(d){return u(d||!0)}),this.running&&this.jobs.length>0&&this.start()};Dn.prototype.stop=function(){this.running=!1};Dn.prototype.end=function(e){rL.call(this),this.jobs.length=0,this.pending=0,nb.call(this,e)};function rL(){for(var e in this.timers){var t=this.timers[e];delete this.timers[e],clearTimeout(t)}}function nL(e){var t=this;this.on("error",r),this.on("end",n);function r(i){t.end(i)}function n(i){t.removeListener("error",r),t.removeListener("end",n),e(i,this.results)}}function nb(e){this.session++,this.running=!1,this.emit("end",e)}var ib=le&&le.__assign||function(){return ib=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ib.apply(this,arguments)};Object.defineProperty(z_,"__esModule",{value:!0});var q1=J_,qe=si,W1=G_,iL=Q_,sL=X_,hO=Ji,aL=Z_,oL=ex.exports,lL=function(e){return{qs:{},add:function(t,r){e.queue.qs[t]||(e.queue.qs[t]=oL({autostart:!0,concurrency:1})),e.queue.qs[t].push(function(n){hO.setFast(function(){return r(n)})})}}},cL=function(){function e(t,r){var n=this;if(this._tableNames=[],this._secondaryIndexes={},this._secondaryIndexUpdates={},this._nsql=t,this._mode=r.persistent?"PERM":r.mode||"TEMP",this._id=r.id,this._size=r.size||5,this.queue=lL(this),this.adapters=[],this.models={},this.tableInfo={},this._trieIndexes={},this._tableNames=[],this._doCache=typeof r.cache!="undefined"?r.cache:!0,this._cache={},this._cacheTime={},this._doCache&&r.peer&&typeof window!="undefined"){var i=t.sTable;t.table("*").on("peer-change",function(s){n._cache[s.table]={},n._cacheTime[s.table]=Date.now()}),t.table(i)}if(this.adapters[0]={adapter:null,waitForWrites:!0},typeof this._mode=="string")switch(this._mode==="PERM"&&(this._mode=this._detectStorageMethod()||this._mode),this._mode){case"IDB":case"IDB_WW":this.adapters[0].adapter=new iL._IndexedDBStore(r.idbVersion||r.version);break;case"WSQL":this.adapters[0].adapter=new sL._WebSQLStore(this._size);break;case"LS":this.adapters[0].adapter=new W1._SyncStore(!0);break;case"LVL":this.adapters[0].adapter=new aL._LevelStore(r.dbPath,r.writeCache,r.readCache);break;case"TEMP":this.adapters[0].adapter=new W1._SyncStore(!1);break}else this.adapters[0].adapter=this._mode}return e.prototype._flushIndexes=function(){var t=this;if(this._doCache&&!this._isFlushing&&Object.keys(this._secondaryIndexUpdates).length){this._isFlushing=!0;var r=qe._assign(this._secondaryIndexUpdates);this._secondaryIndexUpdates={},qe.fastALL(Object.keys(r),function(n,i,s){var a=r[n];qe.fastALL(a,function(o,l,u){t.adapterWrite(n,o,qe._assign(t._secondaryIndexes[n].rows[o]),u,function(c){})}).then(s)}).then(function(){setTimeout(function(){t._isFlushing=!1,t._flushIndexes()},100)})}},e.prototype.init=function(t,r){var n=this;this._id||(this._id=qe.hash(JSON.stringify(t)).toString()),this.models=this._createIndexTables(t),this._tableNames=Object.keys(this.models),this.adapters.forEach(function(i){i.adapter.setID(n._id)}),this._tableNames.forEach(function(i){n._newTable(i,t[i])}),this._relFromTable={},this._relToTable={},this._relationColumns={},this._columnsAreTables={},this._tableNames.forEach(function(i){n.tableInfo[i]._viewTables=Object.keys(n.tableInfo).reduce(function(o,l){if(l===i)return o;var u=Object.keys(n.tableInfo[l]._views);return u.indexOf(i)!==-1&&o.push({table:l,column:n.tableInfo[l]._views[i].pkColumn}),o},[]);var s=n.models[i].length;n._relFromTable[i]={},n._relationColumns[i]=[],n._relToTable[i]=[],n._columnsAreTables[i]={};for(var a=function(){var o=n.models[i][s];if(n._tableNames.indexOf(o.type.replace("[]",""))!==-1){var l="";n._columnsAreTables[i][o.key]={_toTable:o.type.replace("[]",""),_thisType:o.type.indexOf("[]")===-1?"single":"array"},o.props&&(o.props.forEach(function(u){u.indexOf("ref=>")!==-1&&(l=u.replace("ref=>","")),u.indexOf("orm(")===0&&(l=u.replace(/orm\((.*)\)/gmi,"$1"))}),l&&(n._hasORM=!0,n._relationColumns[i].push(o.key),n._relFromTable[i][o.key]={_toTable:o.type.replace("[]",""),_toColumn:l.replace("[]",""),_toType:l.indexOf("[]")===-1?"single":"array",_thisType:o.type.indexOf("[]")===-1?"single":"array"}))}};s--;)a()}),Object.keys(this._relFromTable).forEach(function(i){Object.keys(n._relFromTable[i]).forEach(function(s){var a=n._relFromTable[i][s];n._relToTable[a._toTable].push({_thisColumn:a._toColumn,_thisType:a._toType,_fromTable:i,_fromColumn:s,_fromType:a._thisType})})}),qe.fastALL(this.adapters,function(i,s,a){i.adapter.connect(function(){i.adapter.setNSQL&&i.adapter.setNSQL(n._nsql),a()})}).then(function(){qe.fastALL(Object.keys(n._trieIndexes),function(i,s,a){var o=n._trieIndexes[i];Object.keys(o).length?qe.fastALL(Object.keys(o),function(l,u,c){var d="_"+i+"_idx_"+l;n.adapters[0].adapter.getIndex(d,!1,function(f){f.forEach(function(g){n._trieIndexes[i][l].addWord(String(g))}),c()})}).then(a):a()}).then(function(){n._doCache?qe.fastALL(Object.keys(n.tableInfo),function(i,s,a){qe.fastALL(n.tableInfo[i]._secondaryIndexes,function(o,l,u){var c="_"+i+"_idx_"+o;n.adapters[0].adapter.getIndex(c,!1,function(d){n._secondaryIndexes[c].idx=d,n.adapters[0].adapter.rangeRead(c,function(f,g,m){n._secondaryIndexes[c].rows[f.id]=f,m()},u)})}).then(a)}).then(function(){r(n.models)}):r(n.models)})})},e.prototype.rebuildIndexes=function(t,r){var n=this,i=new Date().getTime();qe.fastALL(Object.keys(this.tableInfo),function(s,a,o,l){if(t!=="_ALL_"&&t!==s||s.indexOf("_")===0){o();return}var u=n.tableInfo[s]._secondaryIndexes;qe.fastALL(u,function(c,d,f){var g="_"+s+"_idx_"+c;n._secondaryIndexes[g].idx=[],n._secondaryIndexes[g].rows={},n._secondaryIndexUpdates[g]=[],n._drop(g,f)}).then(function(){var c=n.tableInfo[s]._pk,d={};u.forEach(function(f){d[f]={}}),n._read(s,function(f,g,m){if(!f[c]){m(!1);return}u.forEach(function(x){!f[x]||(d[x][f[x]]||(d[x][f[x]]=[]),d[x][f[x]].push(f[c]))}),m(!1)},function(){qe.fastALL(u,function(f,g,m){var x="_"+s+"_idx_"+f;n._doCache?(Object.keys(d[f]).forEach(function(v,p){n._secondaryIndexUpdates[x].push(v),n._secondaryIndexes[x].idx.push(v),n._secondaryIndexes[x].rows[v]={id:v,rows:d[f][v]}}),m()):qe.fastALL(Object.keys(d[f]),function(v,p,h,y){if(!v){h();return}n.adapterWrite(x,v,{id:v,rows:d[f][v].sort()},h,y)}).then(m).catch(l)}).then(function(){o()}).catch(l)})})}).then(function(){r(new Date().getTime()-i)})},e.prototype._secondaryIndexKey=function(t){return qe.isObject(t)||Array.isArray(t)?JSON.stringify(t):typeof t=="number"?t:String(t)},e.prototype._detectStorageMethod=function(){return typeof window=="undefined"?"LVL":qe.isSafari?"WSQL":typeof indexedDB!="undefined"?"IDB":typeof window!="undefined"&&typeof window.openDatabase!="undefined"?"WSQL":"LS"},e.prototype._secondaryIndexRead=function(t,r,n,i,s){var a=this,o=function(u,c,d){a._doCache?d(c.map(function(f){return a._secondaryIndexes[u].rows[f]}).filter(function(f){return f})):c.length===1?a.adapters[0].adapter.read(u,c[0],function(f){d([f])}):a._read(u,c,function(f){d(f)})},l=function(u,c){a._doCache?c(a._secondaryIndexes[u].idx):a.adapters[0].adapter.getIndex(u,!1,c)};switch(r){case"=":o("_"+t+"_idx_"+n,[this._secondaryIndexKey(i)],function(u){u[0]!==void 0&&u[0]!==null?a._read(t,u[0].rows||[],function(c){s(c)}):s([])});break;default:l("_"+t+"_idx_"+n,function(u){var c=a._secondaryIndexKey(i),d=u.filter(function(f){switch(r){case">":return f>c;case">=":return f>=c;case"<":return f<c;case"<=":return f<=c}return!1});if(!d.length){s([]);return}o("_"+t+"_idx_"+n,d,function(f){var g=[].concat.apply([],f.map(function(m){return m.rows}));if(!g.length){s([]);return}a._read(t,g,function(m){s(m)})})})}},e.prototype._rangeRead=function(t,r,n,i,s,a){var o=[];this.adapters[0].adapter.rangeRead(t,function(l,u,c){a?a(l)&&o.push(l):o.push(l),c()},function(){s(o)},r,n,i)},e.prototype._read=function(t,r,n){var i=this;if(Array.isArray(r)){var s=this.adapters[0].adapter.batchRead;s?s.apply(this.adapters[0].adapter,[t,r,n]):qe.fastALL(r,function(o,l,u){i.adapters[0].adapter.read(t,o,u)}).then(function(o){n(o.filter(function(l){return l}))});return}var a=[];if(typeof r=="function"){this.adapters[0].adapter.rangeRead(t,function(o,l,u){r(o,l,function(c){c&&a.push(o),l%200===0?hO.setFast(u):u()})},function(){n(a)});return}},e.prototype._trieRead=function(t,r,n,i){var s=this,a=this._trieIndexes[t][r].getPrefix(n);qe.fastALL(a,function(o,l,u){s._secondaryIndexRead(t,"=",r,o,u)}).then(function(o){i([].concat.apply([],o))})},e.prototype._clearSecondaryIndexes=function(t,r,n,i,s){var a=this;this._doCache?(i.forEach(function(o){var l="_"+t+"_idx_"+o,u=a._secondaryIndexKey(n[o]);a._secondaryIndexUpdates[l]||(a._secondaryIndexUpdates[l]=[]),a._secondaryIndexUpdates[l].indexOf(u)===-1&&a._secondaryIndexUpdates[l].push(u);var c=a._secondaryIndexes[l].rows[u];if(!!c){var d=c.rows.indexOf(r);if(d!==-1){var f=c||{id:u,rows:[]};f.rows.splice(d,1),a._secondaryIndexes[l].rows[u]=f}}}),this._flushIndexes(),s()):qe.fastALL(i,function(o,l,u,c){var d=a._secondaryIndexKey(n[o]),f="_"+t+"_idx_"+o;a.adapters[0].adapter.read(f,d,function(g){if(!g){u();return}var m=g.rows.indexOf(r);if(m===-1){u();return}var x=g?Object.isFrozen(g)?qe._assign(g):g:{id:d,rows:[]};x.rows.splice(m,1),a.adapterWrite(f,x.id,x,u,c)})}).then(s)},e.prototype._setSecondaryIndexes=function(t,r,n,i,s){var a=this;this._doCache?(i.forEach(function(o,l){var u=a._secondaryIndexKey(n[o]);if(typeof u!="undefined"&&!(typeof u=="string"&&!u.length)){a._trieIndexes[t][o]&&a._trieIndexes[t][o].addWord(String(n[o]));var c="_"+t+"_idx_"+o;a._secondaryIndexUpdates[c]||(a._secondaryIndexUpdates[c]=[]),a._secondaryIndexUpdates[c].indexOf(u)===-1&&a._secondaryIndexUpdates[c].push(u);var d=a._secondaryIndexes[c].rows[u];if(!d)if(d={id:u,rows:[]},a._secondaryIndexes[c].sortIdx){var f=qe.binarySearch(a._secondaryIndexes[c].idx,u);a._secondaryIndexes[c].idx.splice(f,0,u)}else a._secondaryIndexes[c].idx.push(u);d.rows.push(r),a._secondaryIndexes[c].rows[u]=d}}),this._flushIndexes(),s&&s()):qe.fastALL(i,function(o,l,u,c){var d=a._secondaryIndexKey(n[o]);if(typeof d=="undefined"){u();return}if(typeof d=="string"&&!d.length){u();return}a._trieIndexes[t][o]&&a._trieIndexes[t][o].addWord(String(n[o]));var f="_"+t+"_idx_"+o;a.adapters[0].adapter.read(f,d,function(g){var m=g?Object.isFrozen(g)?qe._assign(g):g:{id:d,rows:[]};if(m.rows.push(r),!d){u();return}a.adapterWrite(f,d,m,u,c)})}).then(function(){s&&s()})},e.prototype._write=function(t,r,n,i,s,a){var o=this,l;if(!n)this.adapterWrite(t,r,i,function(d){o.tableInfo[t]._secondaryIndexes.length?o._setSecondaryIndexes(t,d[o.tableInfo[t]._pk],i,o.tableInfo[t]._secondaryIndexes,function(){s(d)}):s(d)},a);else{var u=ib({},n,i,(l={},l[this.tableInfo[t]._pk]=r,l)),c=this.tableInfo[t]._secondaryIndexes.filter(function(d){return Object.keys(u).filter(function(f){return u[f]===n[f]}).indexOf(d)===-1});this.tableInfo[t]._secondaryIndexes.length?qe.fastALL([0,1,2],function(d,f,g,m){switch(d){case 0:o._clearSecondaryIndexes(t,r,n,c,g);break;case 1:o._setSecondaryIndexes(t,r,u,c,g);break;case 2:o.adapterWrite(t,r,u,g,m);break}}).then(function(d){s(d[2])}).catch(a):this.adapterWrite(t,r,u,function(d){s(d)},a)}},e.prototype._delete=function(t,r,n){var i=this;if(r)this.adapters[0].adapter.read(t,r,function(s){qe.fastALL([0,1],function(a,o,l){switch(a){case 0:i._clearSecondaryIndexes(t,r,s,i.tableInfo[t]._secondaryIndexes,l);break;case 1:i.adapterDelete(t,r,l);break}}).then(function(){n(s)})});else throw new Error("nSQL: Can't delete without a primary key!")},e.prototype._drop=function(t,r){var n=this,i=Object.keys(this.tableInfo[t]._searchColumns).map(function(a){return"_"+t+"_search_tokens_"+a});i=i.concat(Object.keys(this.tableInfo[t]._searchColumns).map(function(a){return"_"+t+"_search_"+a})),i=i.concat(Object.keys(this.tableInfo[t]._searchColumns).map(function(a){return"_"+t+"_search_fuzzy_"+a}));var s=this.tableInfo[t]._secondaryIndexes.map(function(a){return"_"+t+"_idx_"+a});i=i.concat(s),this._doCache&&s.forEach(function(a){n._secondaryIndexes[a].idx=[],n._secondaryIndexes[a].rows={}}),qe.fastALL(i,function(a,o,l){n.adapterDrop(a,l)}).then(function(){n._trieIndexes[t]={},n.tableInfo[t]._trieColumns.forEach(function(a){n._trieIndexes[t][a]=new q1.Trie([])}),n.adapterDrop(t,r)})},e.prototype._createIndexTables=function(t){return Object.keys(t).forEach(function(r){var n=!1,i=!1,s="";if(t[r].forEach(function(a){if(a.props&&a.props.length){if(qe.intersect(["pk","pk()"],a.props)&&(s=a.key),qe.intersect(["trie","idx","idx()","trie()","unique()","unique"],a.props)){n=!0;var o=["number","float","int"].indexOf(a.type)!==-1;t["_"+r+"_idx_"+a.key]=[{key:"id",type:o?a.type:"string",props:["pk()"]},{key:"rows",type:"any[]"}]}a.props.forEach(function(l){l.indexOf("search(")!==-1&&(i=!0,t["_"+r+"_search_"+a.key]=[{key:"wrd",type:"string",props:["pk()","ns()"]},{key:"rows",type:"any[]"}],t["_"+r+"_search_fuzzy_"+a.key]=[{key:"wrd",type:"string",props:["pk()","ns()"]},{key:"rows",type:"any[]"}],t["_"+r+"_search_tokens_"+a.key]=[{key:"id",type:s,props:["pk()","ns()"]},{key:"hash",type:"string"},{key:"tokens",type:"any[]"}])})}}),(n||i)&&!s)throw new Error("nSQL: Tables with secondary indexes or search() must have a primary key!")}),t},e.prototype._newTable=function(t,r){var n=this;this.tableInfo[t]={_pk:"",_pkType:"",_keys:[],_defaults:[],_secondaryIndexes:[],_hasDefaults:!1,_trieColumns:[],_name:t,_views:{},_viewTables:[],_searchColumns:{},_uniqueColumns:[]},this._cache[t]={},this._cacheTime[t]=Date.now(),this._trieIndexes[t]={},this.adapters.forEach(function(o){o.adapter.makeTable(t,r)});for(var i=this.models[t].length,s=function(){var o=a.models[t][i];if(a.tableInfo[t]._keys.unshift(o.key),o.default!==void 0&&(a.tableInfo[t]._defaults[o.key]=o.default,a.tableInfo[t]._hasDefaults=!0),o.props&&o.props.length){var l=!1;o.props.forEach(function(c){if(c.indexOf("from=>")!==-1){n._hasViews=!0;var d=o.type;c!=="from=>GHOST"&&c!=="from=>LIVE"&&(d=c.replace("from=>","").split(".").shift()),n.tableInfo[t]._views[d]||(n.tableInfo[t]._views[d]={pkColumn:"",mode:"",columns:[]}),c==="from=>GHOST"||c==="from=>LIVE"?(l=!0,n.tableInfo[t]._views[d].pkColumn=o.key,n.tableInfo[t]._views[d].mode=c.replace("from=>","")):n.tableInfo[t]._views[d].columns.push({thisColumn:o.key,otherColumn:c.replace("from=>","").split(".").pop()})}c.indexOf("search(")===0&&(n.tableInfo[t]._searchColumns[o.key]=c.replace(/search\((.*)\)/gmi,"$1").split(",").map(function(f){return f.trim()}))});var u=!1;qe.intersect(["pk","pk()"],o.props)&&(u=!0,a.tableInfo[t]._pk=o.key,a.tableInfo[t]._pkType=o.type),qe.intersect(["unique()","unique"],o.props)&&!u&&(l=!0,a.tableInfo[t]._uniqueColumns.push(o.key)),(qe.intersect(["trie","idx","idx()","trie()"],o.props)||l)&&u===!1&&(a.tableInfo[t]._secondaryIndexes.push(o.key),a._secondaryIndexes["_"+t+"_idx_"+o.key]={idx:[],rows:[],sortIdx:["number","int","float"].indexOf(o.type)!==-1}),qe.intersect(["trie","trie()"],o.props)&&u===!1&&(a.tableInfo[t]._trieColumns.push(o.key),a._trieIndexes[t][o.key]=new q1.Trie([]))}},a=this;i--;)s();return t},e.prototype.adapterRead=function(t,r,n,i){this.adapters[0].adapter.read(t,r,function(s){n(s)})},e.prototype.adapterWrite=function(t,r,n,i,s){var a;qe.fastCHAIN(this.adapters,function(o,l,u,c){o.waitForWrites?o.adapter.write(t,r,n,function(d){a=d,u()},c):(u(),o.adapter.write(t,r,n,function(d){},c))}).then(function(){i(a)}).catch(s)},e.prototype.adapterDelete=function(t,r,n,i){qe.fastALL(this.adapters,function(s,a,o){s.waitForWrites?s.adapter.delete(t,r,function(){o()}):(o(),s.adapter.delete(t,r,function(){}))}).then(function(){n()}).catch(function(s){i&&i(s)})},e.prototype.adapterDrop=function(t,r,n){qe.fastALL(this.adapters,function(i,s,a){i.waitForWrites?i.adapter.drop(t,function(){a()}):(a(),i.adapter.drop(t,function(){}))}).then(function(){r()}).catch(function(i){n&&n(i)})},e}();z_._NanoSQLStorage=cL;var Fp=le&&le.__assign||function(){return Fp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Fp.apply(this,arguments)};Object.defineProperty(U_,"__esModule",{value:!0});var uL=$t,dL=Vc,Zi=si,fL=z_,j1=Ji,hL=function(){function e(){this._queryPool=[],this._queryPtr=0}return e.prototype.willConnect=function(t,r){this.parent=t.parent,this._store=new fL._NanoSQLStorage(t.parent,Fp({},t.config)),this._store.init(t.models,function(n){t.models=Fp({},t.models,n),r(t)})},e.prototype.getId=function(){return this._store._id},e.prototype.doExec=function(t,r,n){t.state="complete",new dL._NanoSQLStorageQuery(this._store).doQuery(t,r,n)},e.prototype.dumpTables=function(t){var r=this;return new Promise(function(n,i){var s={},a=t&&t.length?t:Object.keys(r._store.tableInfo);Zi.fastALL(a,function(o,l,u){s[o]=[],r._store.adapters[0].adapter.rangeRead(o,function(c,d,f){s[o].push(c),f()},u)}).then(function(){n(s)})})},e.prototype.importTables=function(t,r){var n=this;return new Promise(function(i,s){var a=0,o=0;Object.keys(t).forEach(function(l){a+=(t[l]||[]).length||0}),Zi.fastALL(Object.keys(t),function(l,u,c,d){var f=n._store.tableInfo[l]._pk,g=(t[l]||[]).length||0,m=0,x=function(){if(m<g){var v=t[l][m];m++,o++,v[f]?n._store.adapterWrite(l,v[f],v,function(){r(Math.round((o+1)/a*1e4)/100),m%500===0?j1.setFast(x):x()},d):(r(Math.round((o+1)/a*1e4)/100),m%500===0?j1.setFast(x):x())}else c()};x()}).then(function(){i()})})},e.prototype.willDisconnect=function(t){Zi.fastALL(this._store.adapters||[],function(r,n,i){r.disconnect?r.disconnect(i):i()}).then(t)},e.prototype.extend=function(t,r,n){var i=this;switch(r[0]){case"clone":var s=new uL.NanoSQLInstance;Object.keys(this.parent.dataModels).forEach(function(c){s.table(c).model(i.parent.dataModels[c],[],!0)}),s.config({id:this._store._id,mode:r[1]}).connect().then(function(){Zi.fastCHAIN(Object.keys(i.parent.dataModels),function(c,d,f){console.log("Importing "+c+"..."),i.parent.rawDump([c]).then(function(g){return s.rawImport(g)}).then(f)}).then(function(){t(r,[])})});break;case"flush":var a=[];r[1]?a=[r[1]]:a=this.parent.tableNames,Zi.fastCHAIN(a,function(c,d,f){i._store._drop(c,f)}).then(function(){t(r,a)});break;case"get_adapter":r[1]?t(r,[this._store.adapters[r[1]].adapter]):t(r,[this._store.adapters[0].adapter]);break;case"idx.length":case"idx":var o=r[1];Object.keys(this._store.tableInfo).indexOf(o)>-1?this._store.adapters[0].adapter.getIndex(o,r[0]!=="idx",function(c){t(r,c)}):t(r,[]);break;case"rebuild_search":var l=function(){return r[1]?[r[1]]:Object.keys(i._store.tableInfo)}(),u=r[2];Zi.fastALL(l,function(c,d,f){var g=0,m=0;Zi.fastALL(l,function(x,v,p){i._store.adapters[0].adapter.getIndex(x,!0,function(h){g+=h,p()})}).then(function(){var x=Object.keys(i._store.tableInfo[c]._searchColumns).map(function(v){return"_"+c+"_search_tokens_"+v});x=x.concat(Object.keys(i._store.tableInfo[c]._searchColumns).map(function(v){return"_"+c+"_search_"+v})),x=x.concat(Object.keys(i._store.tableInfo[c]._searchColumns).map(function(v){return"_"+c+"_search_fuzzy_"+v})),Zi.fastALL(x,function(v,p,h){i._store.adapterDrop(v,h)}).then(function(){i._store.adapters[0].adapter.rangeRead(c,function(v,p,h){i.parent.query("upsert",v).comment("_rebuild_search_index_").manualExec({table:c}).then(function(){u&&u(Math.round((m+1)/g*1e4)/100),m++,h()})},f)})})}).then(function(){t(r,[])});break;case"rebuild_idx":r[1]?this._store.rebuildIndexes(r[1],function(c){i._store._doCache&&i._store._flushIndexes(),t(r,[c])}):Zi.fastALL(Object.keys(this._store.tableInfo),function(c,d,f){i._store.rebuildIndexes(c,f)}).then(function(c){i._store._doCache&&i._store._flushIndexes(),t(r,c)});break;default:t(r,n)}},e}();U_.NanoSQLDefaultBackend=hL;var tx={},Tp=le&&le.__assign||function(){return Tp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Tp.apply(this,arguments)};Object.defineProperty(tx,"__esModule",{value:!0});var zt=si,Tl=["_hist","_hist_ptr","_id"],pL=function(){function e(t){this.historyModeArgs=t,this._tablePkKeys={},this._tablePkTypes={},this._tableKeys={}}return e.prototype.willConnect=function(t,r){var n=this;this.parent=t.parent;var i={};Object.keys(t.models).forEach(function(l){if(l.indexOf("_")!==0){var u=zt._assign(t.models[l]).map(function(c){return c.props&&zt.intersect(["pk","pk()"],c.props)&&(n._tablePkKeys[l]=c.key,n._tablePkTypes[l]=c.type,n._tableKeys[l]={}),delete c.props,delete c.default,c});u.unshift({key:"_id",type:"timeIdms",props:["pk()"]}),i["_"+l+"__hist_rows"]=u,i["_"+l+"__hist_idx"]=[{key:"id",type:n._tablePkTypes[l],props:["pk()"]},{key:"histRows",type:"timeIdms[]"},{key:"histPtr",type:"number"}]}});var s=typeof this.historyModeArgs!="string",a=[{key:"id",type:"timeIdms",props:["pk()"]},{key:"table",type:"string"},{key:"keys",type:"any[]"}],o=[{key:"id",type:"timeIdms",props:["pk()"]},{key:"ptr",type:"int"}];this.historyModeArgs==="database"||!this.historyModeArgs?(i[Tl[0]]=a,i[Tl[1]]=o):(this.historyModeArgs!=="database"||s)&&(this.historyModes={},s?this.historyModes=zt._assign(this.historyModeArgs):Object.keys(this._tablePkKeys).forEach(function(l){n.historyModes[l]=n.historyModeArgs}),Object.keys(this.historyModes).forEach(function(l){n.historyModes[l]==="table"&&(i["_"+l+"__hist"]=a,i["_"+l+"__hist_ptr"]=o)})),t.models=Tp({},t.models,i),r(t)},e.prototype._histTable=function(t){return t?this.historyModes?this.historyModes[t]==="table"?"_"+t+"__hist":null:"_hist":"__null"},e.prototype._generateHistoryPointers=function(t,r){var n=this,i=this._histTable(t);i?this.parent.query("select").manualExec({table:i+"_ptr"}).then(function(s){s.length?r():n.parent.query("upsert",{id:zt.timeid(!0),table:t,ptr:0}).manualExec({table:i+"_ptr"}).then(r)}):r()},e.prototype.didConnect=function(t,r){var n=this,i=function(){zt.fastALL(Object.keys(n._tableKeys),function(s,a,o){n.parent.extend("beforeConn","idx","_"+s+"__hist_idx").then(function(l){l.forEach(function(u){n._tableKeys[s][u]=!0}),n.historyModes?n._generateHistoryPointers(s,o):o()})}).then(r)};this.historyModes?i():this.parent.query("select").manualExec({table:"_hist_ptr"}).then(function(s){s.length?i():n.parent.query("upsert",{id:zt.timeid(!0),table:"",ptr:0}).manualExec({table:"_hist_ptr"}).then(i)})},e.prototype._purgeRowHistory=function(t,r,n,i){var s=this,a="_"+t+"__hist_rows",o="_"+t+"__hist_idx";zt.fastALL(r,function(l,u,c){s.parent.query("select").where(["id","=",l]).manualExec({table:o}).then(function(d){if(!d.length){c();return}var f=Object.isFrozen(d[0])?zt._assign(d[0]):d[0],g=[];if(i)g=g.concat(f.histRows.filter(function(m){return m!==-1})),f.histPtr=0,f.histRows=[];else{for(;f.histPtr--;)g.push(f.histRows.shift());f.histPtr=0}if(!g.length){c();return}s.parent.query("upsert",f).comment("History Purge").where(["id","=",l]).manualExec({table:o}).then(function(){s.parent.query("delete").comment("History Purge").where(["_id","IN",g]).manualExec({table:a}).then(function(){i?s.parent.query("select").where([s._tablePkKeys[t],"=",l]).manualExec({table:t}).then(function(m){s._unshiftSingleRow(t,["change"],l,m[0],!1,c)}):c()})})})}).then(n)},e.prototype._purgeTableHistory=function(t,r,n){var i=this;this.parent.query("select").manualExec({table:t+"_ptr"}).then(function(s){var a=Object.isFrozen(s[0])?zt._assign(s[0]):s[0];if(n||a.ptr>0){var o=i.parent.query("select");n||o.range(a.ptr*-1,0),o.manualExec({table:t}).then(function(l){if(!l.length){r();return}var u={};l.forEach(function(c){u[c.table]||(u[c.table]=[]),u[c.table]=u[c.table].concat(c.keys)}),zt.fastALL(Object.keys(u),function(c,d,f){i._purgeRowHistory(c,u[c],f,n)}).then(function(){i.parent.query("delete").comment("History Purge").where(["id","IN",l.map(function(c){return c.id})]).manualExec({table:t}).then(function(){a.ptr=0,i.parent.query("upsert",a).comment("History Purge").where(["id","=",a.id]).manualExec({table:t+"_ptr"}).then(r)})})})}else r()})},e.prototype._purgeParentHistory=function(t,r,n){if(!this.historyModes){this._purgeTableHistory("_hist",n);return}var i=this._histTable(t);i?this._purgeTableHistory(i,n):this._purgeRowHistory(t,r,n)},e.prototype._purgeAllHistory=function(t,r,n){if(!this.historyModes){this._purgeTableHistory("_hist",n,!0);return}var i=this._histTable(t);i?this._purgeTableHistory(i,n,!0):this._purgeRowHistory(t,[r],n,!0)},e.prototype.didExec=function(t,r){var n=this;t.table&&t.table.indexOf("_")!==0&&t.types.indexOf("change")>-1&&t.query.comments.indexOf("History Write")===-1?this._purgeParentHistory(t.table,t.affectedRowPKS,function(){zt.fastALL(t.affectedRows,function(i,s,a){var o=i[n._tablePkKeys[t.table]];n._tableKeys[t.table][o]?n._unshiftSingleRow(t.table,t.types,o,i,!1,function(l){a(o)}):(n._tableKeys[t.table][o]=!0,n._unshiftSingleRow(t.table,t.types,o,i,!0,function(l){n.parent.query("upsert",{id:o,histRows:[l,-1],histPtr:0}).manualExec({table:"_"+t.table+"__hist_idx"}).then(function(){a(o)})}))}).then(function(i){n._unshiftParent(t,i,r)})}):r(t)},e.prototype._unshiftParent=function(t,r,n){var i=this._histTable(t.table);i?this.parent.query("upsert",{id:zt.timeid(!0),table:t.table,keys:r}).manualExec({table:i}).then(function(){n(t)}):n(t)},e.prototype._unshiftSingleRow=function(t,r,n,i,s,a){var o=this,l,u="_"+t+"__hist_idx",c=zt.timeid(!0),d=function(f){o.parent.query("select").where(["id","=",n]).manualExec({table:u}).then(function(g){var m=Object.isFrozen(g[0])||Object.isFrozen(g[0].histRows)?zt._assign(g[0]):g[0];m.histRows.unshift(f),o.parent.query("upsert",m).where(["id","=",n]).manualExec({table:u}).then(function(){a(f)})})};r.indexOf("delete")>-1||r.indexOf("drop")>-1?d(-1):this.parent.query("upsert",Tp((l={},l[Tl[2]]=c,l),i)).manualExec({table:"_"+t+"__hist_rows"}).then(function(){if(s){a(c);return}d(c)})},e.prototype.extend=function(t,r,n){if(r[0]==="hist"){var i=r[1],s=r[2],a=r[3];switch(i){case"<":case">":this._shiftHistory(i,s,a,function(o){t(r,[o])});break;case"?":this._queryHistory(s,a,function(o){t(r,o)});break;case"rev":this._getRevisionHistory(s,a,function(o){t(r,o)});break;case"clear":this._purgeAllHistory(s,a,function(){t(r,n)});break}}else t(r,n)},e.prototype._getRevisionHistory=function(t,r,n){var i=this,s="_"+t+"__hist_idx";this.parent.query("select").where(["id","=",r]).manualExec({table:s}).then(function(a){var o=a[0].histRows.filter(function(l){return l!==-1});i.parent.query("select").where(["_id","IN",o]).manualExec({table:"_"+t+"__hist_rows"}).then(function(l){var u={};l.forEach(function(c){u[c[Tl[2]]]=Object.isFrozen(c)?zt._assign(c):c,delete u[c[Tl[2]]][Tl[2]]}),n([{pointer:a[0].histRows.length-a[0].histPtr-1,revisions:a[0].histRows.reverse().map(function(c){return c===-1?null:u[c]})}])})})},e.prototype._getTableHistory=function(t,r){var n=this;this.parent.extend("idx.length",t).then(function(i){n.parent.query("select").manualExec({table:t+"_ptr"}).then(function(s){if(!s.length){r([0,0]);return}r([i,i-s[0].ptr])})})},e.prototype._queryHistory=function(t,r,n){if(!this.historyModes){this._getTableHistory("_hist",function(a){n(a)});return}var i=this._histTable(t);if(i){if(!t)throw Error("nSQL: Need a table to query this history!");this._getTableHistory(i,n)}else{if(!r)throw Error("nSQL: Need a row primary key to query this history!");var s="_"+t+"__hist_idx";this.parent.query("select").where(["id","=",r]).manualExec({table:s}).then(function(a){var o=a[0];n([o.histRows.length,o.histRows.length-o.histPtr-1])})}},e.prototype._shiftTableHistory=function(t,r,n){var i=this;this.parent.query("select").manualExec({table:r+"_ptr"}).then(function(s){var a=zt._assign(s[0]);a.ptr+=t==="<"?1:-1,a.ptr<0&&(a.ptr=0),i.parent.extend("idx.length",r).then(function(o){if(a.ptr>o&&(a.ptr=o),s[0].ptr===a.ptr){n(!1);return}i.parent.query("select").range(-1,t==="<"?s[0].ptr:a.ptr).manualExec({table:r}).then(function(l){i.parent.query("upsert",a).manualExec({table:r+"_ptr"}).then(function(){zt.fastALL(l[0].keys,function(u,c,d){i._shiftRowHistory(t,l[0].table,u,d)}).then(function(u){n(u.indexOf(!0)>-1)})})})})})},e.prototype._shiftRowHistory=function(t,r,n,i){var s=this,a=function(o){s.parent.query("upsert",o).where([s._tablePkKeys[r],"=",n]).manualExec({table:"_"+r+"__hist_idx"}).then(function(){i(!0)})};this.parent.query("select").where([this._tablePkKeys[r],"=",n]).manualExec({table:"_"+r+"__hist_idx"}).then(function(o){var l=zt._assign(o[0]);if(l.histPtr+=t==="<"?1:-1,l.histPtr<0&&(l.histPtr=0),l.histPtr>l.histRows.length-1&&(l.histPtr=l.histRows.length-1),l.histPtr===o[0].histPtr){i(!1);return}var u=l.histRows[l.histPtr];u===-1?s.parent.query("delete").comment("History Write").where([s._tablePkKeys[r],"=",n]).manualExec({table:r}).then(function(){a(l)}):s.parent.query("select").where(["_id","=",u]).manualExec({table:"_"+r+"__hist_rows"}).then(function(c){s.parent.query("upsert",c[0]).comment("History Write").manualExec({table:r}).then(function(){a(l)})})})},e.prototype._shiftHistory=function(t,r,n,i){if(!this.historyModes){this._shiftTableHistory(t,"_hist",i);return}var s=this._histTable(r);if(s){if(!r)throw Error("nSQL: Need a table to change this history!");this._shiftTableHistory(t,s,i)}else{if(!n)throw Error("nSQL: Need a row primary key to change this history!");this._shiftRowHistory(t,r,n,i)}},e}();tx._NanoSQLHistoryPlugin=pL;var Fg={};Object.defineProperty(Fg,"__esModule",{value:!0});var gL=Ji,yL=function(){function e(t,r,n){this._nSQL=t,this._query=r,this._tables=n,this._order=[],this._count=0,this._config=[]}return e.prototype.debounce=function(t){return this._config[this._order.length]=t,this._order.push("dbnc"),this},e.prototype.distinct=function(t,r){return this._config[this._order.length]=[t||function(n){return n},r||function(n,i){return n===i}],this._order.push("dsct"),this},e.prototype.filter=function(t){return this._config[this._order.length]=t,this._order.push("fltr"),this},e.prototype.map=function(t){return this._config[this._order.length]=t,this._order.push("mp"),this},e.prototype.first=function(t){return this._config[this._order.length]=t||function(r,n){return!0},this._order.push("fst"),this},e.prototype.skip=function(t){return this._config[this._order.length]=t,this._order.push("skp"),this},e.prototype.take=function(t){return this._config[this._order.length]=t,this._order.push("tk"),this},e.prototype.subscribe=function(t){var r=this,n={},i={},s={},a,o={};return new pO(this._nSQL,this._query,{next:function(l,u){if(r._count++,!a){var c=0,d=function(){if(c===r._order.length)typeof t=="function"?t(l,u):t.next&&t.next(l,u),a&&t.complete&&t.complete(l,u);else{var f=function(x){if(r._count===0)return 0;for(var v=x,p=r._count,h=!1;v--&&!h;)o[v]!==void 0&&(h=!0,p=o[v]);return p};switch(r._order[c]){case"dbnc":if(!i[c])i[c]=Date.now();else{clearTimeout(s[c]);var g=r._config[c];s[c]=setTimeout(function(){Date.now()-i[c]>=g&&(i[c]=Date.now(),o[c]===void 0&&(o[c]=0),o[c]++,c++,d())},g-(Date.now()-i[c]));return}break;case"dsct":var m=r._config[c][0](l,u);if(r._config[c][1](n[c],m)===!1)n[c]=m,o[c]===void 0&&(o[c]=0),o[c]++;else return;break;case"fltr":if(r._config[c](l,f(c),u)===!1)return;o[c]===void 0&&(o[c]=0),o[c]++;break;case"fst":if(r._config[c](l,f(c),u)===!0)o[c]===void 0&&(o[c]=0),o[c]++,a=!0;else return;break;case"mp":l=r._config[c](l,f(c),u);break;case"skp":if(f(c)<=r._config[c])return;break;case"tk":f(c)>=r._config[c]&&(a=!0);break}c++,d()}};d()}},error:function(l){t.error&&t.error(l)}},this._tables)},e}();Fg.Observer=yL;var pO=function(){function e(t,r,n,i){var s=this;this._nSQL=t,this._getQuery=r,this._callback=n,this._tables=i,this._closed=!1,this.exec=this.exec.bind(this),this.unsubscribe=this.unsubscribe.bind(this);var a=this._getQuery();a&&(this._tables=this._tables.concat([a.table]),this._tables=this._tables.filter(function(o,l,u){return u.indexOf(o)===l}),this.exec()),this._tables.forEach(function(o){s._nSQL.table(o).on("change",s.exec)})}return e.prototype.exec=function(t){var r=this;this._closed||gL.setFast(function(){var n=r._getQuery(t);!n||r._nSQL.query("select").manualExec(n).then(function(i){r._callback.next(i,t)}).catch(function(i){r._callback.error(i)})})},e.prototype.unsubscribe=function(){var t=this;this._closed=!0,this._tables.forEach(function(r){t._nSQL.table(r).off("change",t.exec)})},e.prototype.closed=function(){return this._closed},e}();Fg.ObserverSubscriber=pO;(function(e){var t=le&&le.__assign||function(){return t=Object.assign||function(v){for(var p,h=1,y=arguments.length;h<y;h++){p=arguments[h];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(v[b]=p[b])}return v},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=Ji,n=H_,i=V_,s=Bg,a=si,o=U_,l=tx,u=oO,c=Fg,d=1.83,f=["_util","_ttl"],g=function(){function v(){this.version=d,this._onConnectedCallBacks=[];var p=this;p.isConnected=!1,p.focused=!0,p._actions={},p._views={},p.dataModels={},p._events=["*","change","delete","upsert","drop","select","error","peer-change"],p._hasEvents={},p.tableNames=[],p.plugins=[],p.hasPK={},p.skipPurge={},p.toRowFns={},p._tablePKs={},p._tablePKTypes={},p.toColFns={},p.toColRules={},p.rowFilters={},p.peers=[],p.peerEvents=[],p.pid=a.uuid(),p._randoms=[],p._randomPtr=0,p.hasAnyEvents=!1;for(var h=0;h<1e3;h++)p._randoms.push(a.random16Bits());p._callbacks={},p._callbacks["*"]=new s.ReallySmallEvents,p.iB=new o.NanoSQLDefaultBackend;var y={models:{},actions:{},views:{},config:{},parent:this};p.iB.willConnect&&p.iB.willConnect(y,function(){p.iB.didConnect&&p.iB.didConnect(y,function(){})}),this._checkTTL=this._checkTTL.bind(this)}return v.prototype.rowFilter=function(p){return this.rowFilters[this.sTable]=p,this},v.prototype.toColumn=function(p){return this.toColFns[this.sTable]||(this.toColFns[this.sTable]={}),this.toColFns[this.sTable]=p,this},v.prototype.toRow=function(p){return this.toRowFns[this.sTable]||(this.toRowFns[this.sTable]={}),this.toRowFns[this.sTable]=p,this},v.prototype.fastRand=function(){return this._randomPtr++,this._randomPtr>=this._randoms.length&&(this._randomPtr=0),this._randoms[this._randomPtr]},v.prototype.clearTTL=function(p){var h=this.sTable+"."+p;return this.query("delete").where(["key","=",h]).manualExec({table:"_ttl"})},v.prototype.expires=function(p){var h=this;return new Promise(function(y,b){var _=h.sTable+"."+p;h.query("select").where(["key","=",_]).manualExec({table:"_ttl"}).then(function(w){w.length?y({time:(w[0].date-Date.now())/1e3,cols:w[0].cols}):y({time:-1,cols:[]})})})},v.prototype._checkTTL=function(){var p=this;this._ttlTimer&&clearTimeout(this._ttlTimer);var h=0,y=0,b=function(){p.query("select").range(20,20*h).manualExec({table:"_ttl"}).then(function(_){if(!_.length){y&&(p._ttlTimer=setTimeout(p._checkTTL,y-Date.now()));return}a.fastCHAIN(_,function(w,D,S){if(w.date<Date.now()){var A=function(){p.query("delete").where(["key","=",w.key]).manualExec({table:"_ttl"}).then(S)},k=w.key.split("."),C=k[0],E=["float","int","number"].indexOf(p._tablePKTypes[C])===-1?k[1]:parseFloat(k[1]);if(w.cols.length){var M={};w.cols.forEach(function(I){M[I]=null}),p.query("upsert",M).where([p._tablePKs[C],"=",E]).manualExec({table:C}).then(A)}else p.query("delete").where([p._tablePKs[C],"=",E]).manualExec({table:C}).then(A)}else y=Math.max(y,w.date),S()}).then(function(){h++,b()})})};b()},v.prototype.table=function(p){return p&&(this.sTable=p),this},v.prototype.getPeers=function(){return JSON.parse(localStorage.getItem("nsql-peers-"+this.id)||"[]")},v.prototype.connect=function(){var p=this,h=this;return new Promise(function(y,b){var _={models:h.dataModels,actions:h._actions,views:h._views,config:h._config,parent:p};_.models[f[0]]=[{key:"key",type:"string",props:["pk()","ai()"]},{key:"value",type:"any"}],_.models[f[1]]=[{key:"key",type:"string",props:["pk()"]},{key:"table",type:"string"},{key:"cols",type:"string[]"},{key:"date",type:"number"}],h._config&&h._config.history&&p.use(new l._NanoSQLHistoryPlugin(h._config.historyMode)),(!h._config||h._config.mode!==!1)&&p.use(new o.NanoSQLDefaultBackend),typeof window!="undefined"&&p._config&&p._config.peer&&(p.peerMode=!0),a.fastCHAIN(h.plugins,function(w,D,S){w.willConnect?w.willConnect(_,function(A){_=A,S()}):S()}).then(function(){h.dataModels=_.models,h._actions=_.actions,h._views=_.views,h._config=_.config,Object.keys(h.dataModels).forEach(function(A){var k=!1;h.dataModels[A]=h.dataModels[A].filter(function(C){return C.key==="*"&&C.type==="*"?(k=!0,!1):!0}),h.skipPurge[A]=k}),h.plugins.forEach(function(A){A.didExec&&(h.pluginHasDidExec=!0)}),h.tableNames=Object.keys(h.dataModels);var w=function(){a.fastALL(h.plugins,function(A,k,C){A.getId&&!p.id&&(p.id=A.getId()),A.didConnect?A.didConnect(_,function(){C()}):C()}).then(function(){if(p.peerMode){var A=0;p.id||(p.id=p.pid),p.peers=p.getPeers(),p.peers.unshift(p.pid),localStorage.setItem("nsql-peers-"+p.id,JSON.stringify(p.peers)),window.addEventListener("storage",function(k){if(k.key==="nsql-peers-"+p.id&&(p.peers=p.getPeers()),k.key&&k.key.indexOf(p.pid+".")===0){localStorage.removeItem(k.key);var C=JSON.parse(k.newValue||"{}");p.peerEvents.push(C.query.queryID||""),p.triggerEvent(t({},C,{types:["peer-change"]})),r.setFast(function(){p.triggerEvent(C)})}if(A++,A>50&&p.peers[0]===p.pid){A=0;for(var E=localStorage.length,M={};E--;){var I=localStorage.key(E),P=I?I.match(/\w{8}-\w{4}-\w{4}-\w{4}-\w{8}/gmi):null;if(I&&P){var L=(P||[""])[0];M[L]||(M[L]=[]),M[L].push(I)}}Object.keys(M).forEach(function(V){M[V].length>10&&(p.peers=p.peers.filter(function(W){return W!==V}),M[V].forEach(function(W){localStorage.removeItem(W)}),localStorage.setItem("nsql-peers-"+p.id,JSON.stringify(p.peers)))})}}),window.onblur=function(){p.focused=!1},window.onfocus=function(){p.peers=p.peers.filter(function(k){return k!==p.pid}),p.peers.unshift(p.pid),localStorage.setItem("nsql-peers-"+p.id,JSON.stringify(p.peers)),p.focused=!0},e.nSQL("*").on("change",function(k){var C=p.peerEvents.indexOf(k.query.queryID||"");if(C!==-1){p.peerEvents.splice(C,1);return}p.peers.filter(function(E){return E!==p.pid}).forEach(function(E){localStorage.setItem(E+"."+k.query.queryID,JSON.stringify(k))})}),window.addEventListener("beforeunload",function(){return p.peers=p.peers.filter(function(k){return k!==p.pid}),localStorage.setItem("nsql-peers-"+p.id,JSON.stringify(p.peers)),!1})}h.isConnected=!0,h._onConnectedCallBacks.length&&(h._onConnectedCallBacks.forEach(function(k){return k()}),h._onConnectedCallBacks=[]),p._checkTTL(),y(h.tableNames)})},D=function(){typeof p.getConfig().version!="undefined"?h.query("select").where(["key","=","db-version"]).manualExec({table:"_util"}).then(function(A){if(!A.length){h.query("upsert",{key:"db-version",value:p.getConfig().version}).manualExec({table:"_util"}).then(function(){w()});return}var k=A.length?A[0].value:p.getConfig().version,C=function(){if(k===p.getConfig().version)w();else{if(!p.getConfig().onVersionUpdate){k=p.getConfig().version,C();return}p.getConfig().onVersionUpdate(k).then(function(E){k=E,r.setFast(C)}).catch(b)}};C()}):w()},S=function(A){h.query("upsert",{key:"version",value:h.version}).manualExec({table:"_util"}).then(function(){A?h.extend("beforeConn","rebuild_idx").then(function(){D()}):D()})};h.query("select").where(["key","=","version"]).manualExec({table:"_util"}).then(function(A){A.length?A[0].value<=1.21?S(!0):A[0].value<d?S(!1):D():S(!0)})})})},v.prototype.getActions=function(p){return this._actions[p].map(function(h){return{name:h.name,args:h.args}})},v.prototype.getViews=function(p){return this._views[p].map(function(h){return{name:h.name,args:h.args}})},v.prototype.getConfig=function(){return this._config||{}},v.prototype.avFilter=function(p){return this._AVMod=p,this},v.prototype.use=function(p){return this.plugins.push(p),this},v.prototype.on=function(p,h){var y=this,b=y.sTable,_=y._events.length,w=p.split(" ");if(Array.isArray(b))return this;for(y._callbacks[b]||(y._callbacks[b]=new s.ReallySmallEvents),_=w.length;_--;)y._events.indexOf(w[_])!==-1&&y._callbacks[b].on(w[_],h);return y._refreshEventChecker()},v.prototype.off=function(p,h){var y=this,b=p.split(" "),_=b.length,w=y.sTable;if(Array.isArray(w))return this;for(;_--;)y._events.indexOf(b[_])!==-1&&y._callbacks[w].off(b[_],h);return y._refreshEventChecker()},v.prototype._refreshEventChecker=function(){var p=this;return this._hasEvents={},Object.keys(this._callbacks).concat(["*"]).forEach(function(h){p._hasEvents[h]=p._events.reduce(function(y,b){return y+(p._callbacks[h]&&p._callbacks[h].eventListeners[b]?p._callbacks[h].eventListeners[b].length:0)},0)>0}),this.hasAnyEvents=!1,Object.keys(this._hasEvents).forEach(function(h){p.hasAnyEvents=p.hasAnyEvents||p._hasEvents[h]}),this},v.prototype.model=function(p,h,y){var b=this,_=this,w=_.sTable;if(Array.isArray(w))return this;_._callbacks[w]||(_._callbacks[w]=new s.ReallySmallEvents);var D=!1;if(!y){var S=["string","safestr","timeId","timeIdms","uuid","int","float","number","array","map","bool","blob","any"];if(S.indexOf(w.replace(/\W/gmi,""))!==-1||w.indexOf("_")===0||w.match(/[\(\)\]\[\.]/g)!==null)throw Error("Invalid Table Name! https://docs.nanosql.io/setup/data-models");(p||[]).forEach(function(A){if(A.key.match(/[\(\)\]\[\.]/g)!==null||A.key.indexOf("_")===0)throw Error("Invalid Data Model! https://docs.nanosql.io/setup/data-models")})}return _.toColRules[w]={},(p||[]).forEach(function(A){A.props&&A.props.forEach(function(k){if(k.indexOf("from=>")!==-1&&k.indexOf("(")!==-1){var C=k.replace("from=>","").split("(").shift(),E=k.replace("from=>","").split("(").pop().replace(")","").split(",").map(function(M){return M.trim()});_.toColRules[w][A.key]=[C].concat(E)}if(k.indexOf("toColumn.")===0){var C=k.replace(/toColumn\.(.*)\(.*\)/gmi,"$1"),E=k.replace(/toColumn\..*\((.*)\)/gmi,"$1").split(",").map(function(P){return P.trim()});_.toColRules[w][A.key]=[C].concat(E)}}),A.props&&a.intersect(["pk","pk()"],A.props)&&(b._tablePKs[w]=A.key,b._tablePKTypes[w]=A.type,D=!0)}),this.hasPK[w]=D,D||(this._tablePKs[w]="_id_",p.unshift({key:"_id_",type:"uuid",props:["pk()"]})),_.dataModels[w]=p,_._views[w]=[],_._actions[w]=[],_},v.prototype.views=function(p){return Array.isArray(this.sTable)?this:(this._views[this.sTable]=p,this)},v.prototype.getView=function(p,h){return h===void 0&&(h={}),Array.isArray(this.sTable)?new Promise(function(y,b){return b()}):this._doAV("View",this._views[this.sTable],p,h)},v.prototype.actions=function(p){return Array.isArray(this.sTable)?this:(this._actions[this.sTable]=p,this)},v.prototype.doAction=function(p,h){return Array.isArray(this.sTable)?new Promise(function(y,b){return b()}):this._doAV("Action",this._actions[this.sTable],p,h)},v.prototype.queryFilter=function(p){return this.queryMod=p,this},v.prototype._doAV=function(p,h,y,b){var _=this,w=this,D=h.reduce(function(S,A){return A.name===y?A:S},null);return D?(w._activeAV=y,w._AVMod?new Promise(function(S,A){w._AVMod(_.sTable,p,w._activeAV||"",b,function(k){D.call(D.args?a.cleanArgs(D.args,k):{},w).then(S).catch(A)},function(k){A(k)})}):D.call(D.args?a.cleanArgs(D.args,b):{},w)):new Promise(function(S,A){return A("Action/View Not Found!")})},v.prototype.query=function(p,h){var y=this,b=y._activeAV;return y._activeAV=void 0,new n._NanoSQLQuery(this,this.sTable,p,h,b)},v.prototype.onConnected=function(p){this.isConnected?p():this._onConnectedCallBacks.push(p)},v.prototype.triggerEvent=function(p){var h=this;if(h._hasEvents["*"]||h._hasEvents[p.table]){if(p.table==="*")return this;r.setFast(function(){p.types.forEach(function(y){h._callbacks["*"].trigger(y,p,h),h._callbacks["*"].trigger("*",p,h),p.table&&h._callbacks[p.table]&&h._callbacks[p.table].trigger(y,p,h)})})}return h},v.prototype.default=function(p){var h={},y=this;return Array.isArray(y.sTable)?{}:(y.dataModels[y.sTable].forEach(function(b){h[b.key]=p&&p[b.key]?p[b.key]:b.default,h[b.key]===void 0&&(h[b.key]=a.cast(b.type,null))}),h)},v.prototype.rawDump=function(p){var h=this;return new Promise(function(y,b){var _={};a.fastCHAIN(h.plugins,function(w,D,S){w.dumpTables?w.dumpTables(p).then(function(A){_=t({},_,A),S(_)}):S()}).then(function(){y(_)})})},v.prototype.rawImport=function(p,h){var y=this;return new Promise(function(b,_){a.fastCHAIN(y.plugins,function(w,D,S){w.importTables?w.importTables(p,h||function(A){}).then(S):S()}).then(function(){b()})})},v.prototype.disconnect=function(){return a.fastCHAIN(this.plugins,function(p,h,y){p.willDisconnect?p.willDisconnect(y):y()})},v.prototype.doTransaction=function(p){var h=this,y=this,b=[],_=a.random16Bits().toString(16);return new Promise(function(w,D){if(!y.plugins.length){D("nSQL: Nothing to do, no plugins!");return}var S=function(){a.fastCHAIN(y.plugins,function(A,k,C){A.transactionBegin?A.transactionBegin(_,C):C()}).then(function(){Array.isArray(y.sTable)||p(function(A){var k=A||y.sTable;return{query:function(C,E){return new i._NanoSQLTransactionQuery(C,E,k,b,_)}}},function(){var A=[];a.fastCHAIN(b,function(k,C,E){A.push(k.table),y.query(k.action,k.actionArgs).manualExec(t({},k,{table:k.table,transaction:!0,queryID:_})).then(E)}).then(function(k){a.fastCHAIN(h.plugins,function(C,E,M){C.transactionEnd?C.transactionEnd(_,M):M()}).then(function(){A.filter(function(C,E,M){return M.indexOf(C)===E}).forEach(function(C){C.indexOf("_")!==0&&y.triggerEvent({query:b[0],table:C,time:new Date().getTime(),result:k,types:["transaction"],actionOrView:"",notes:[],transactionID:_,affectedRowPKS:[],affectedRows:[]})}),w(k)})})})})};h.isConnected?S():h.onConnected(S)})},v.prototype.config=function(p){return this._config=p,this},v.prototype.observable=function(p,h){return new c.Observer(this,p,h||[])},v.prototype.extend=function(){for(var p=this,h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];var b=this;return new Promise(function(_,w){var D=function(){if(b.plugins.length){var S=h,A=[];a.fastCHAIN(b.plugins,function(k,C,E){k.extend?k.extend(function(M,I){S=M,A=I,E()},S,A):E()}).then(function(){_(A)})}else w("No plugins!")};if(h[0]==="beforeConn"){h.shift(),D();return}p.isConnected?D():p.onConnected(D)})},v.prototype.loadJS=function(p,h,y,b){var _=this,w=this;return y?w.doTransaction(function(D,S){h.forEach(function(A){D(p).query("upsert",A).exec()}),S()}):new Promise(function(D,S){a.fastCHAIN(h,function(A,k,C){b&&b(Math.round((k+1)/h.length*1e4)/100),_.query("upsert",A).manualExec({table:p}).then(C)}).then(function(A){D(A.map(function(k){return k.shift()}))})})},v.prototype.JSONtoCSV=function(p,h,y){var b=[];if(!p.length)return"";var _=[];return y?_=y:(p.forEach(function(w){_=Object.keys(w).concat(_)}),_=_.filter(function(w,D,S){return S.indexOf(w)===D})),h&&b.push(_.join(",")),p.forEach(function(w){b.push(_.map(function(D){return w[D]===null||w[D]===void 0?"":typeof w[D]=="string"?'"'+w[D].replace(/\"/g,'""')+'"':typeof w[D]=="boolean"?w[D]===!0?"true":"false":typeof w[D]=="object"?'"'+JSON.stringify(w[D]).replace(/\"/g,'""')+'"':w[D]}).join(","))}),b.join(`\r
`)},v.prototype.csvToArray=function(p){for(var h="",y=[""],b=[y],_=0,w=0,D=!0,S,A=0,k=p;A<k.length;A++)S=k[A],S==='"'?(D&&S===h&&(y[_]+=S),D=!D):S===","&&D?S=y[++_]="":S===`
`&&D?(h==="\r"&&(y[_]=y[_].slice(0,-1)),y=b[++w]=[S=""],_=0):y[_]+=S,h=S;return b[0]},v.prototype.CSVtoJSON=function(p,h){var y=this,b=[];return p.split(/\r?\n|\r|\t/gm).map(function(_,w){if(w===0){b=_.split(",");return}else{var D=y.csvToArray(_);if(!D)return;D=D.map(function(k){return k.trim()});for(var S=b.length,A={};S--;)if(D[S])if(D[S]==="true"||D[S]==="false")A[b[S]]=D[S]==="true";else if(D[S].indexOf("{")===0||D[S].indexOf("[")===0)try{A[b[S]]=JSON.parse(D[S])}catch{A[b[S]]=D[S]}else D[S].indexOf('"')===0?A[b[S]]=D[S].slice(1,D[S].length-1).replace(/\"\"/gmi,'"'):A[b[S]]=D[S];return h?h(A):A}}).filter(function(_){return _})},v.prototype.loadCSV=function(p,h,y,b,_){var w=this,D=this,S=this.CSVtoJSON(h,b);return y?D.doTransaction(function(A,k){S.forEach(function(C){A(p).query("upsert",C).exec()}),k()}):new Promise(function(A,k){a.fastCHAIN(S,function(C,E,M){_&&_(Math.round((E+1)/S.length*1e4)/100),w.query("upsert",C).manualExec({table:p}).then(M)}).then(function(C){A(C.map(function(E){return E.shift()}))})})},v.earthRadius=6371,v}();e.NanoSQLInstance=g;var m={};g.whereFunctions={levenshtein:function(v,p,h,y){var b=a.objQuery(y,v,p)||"",_=b+"::"+h;return m[_]||(m[_]=u(b,h)),m[_]},arrayObjSrch:function(v,p,h,y,b){var _=a.objQuery(h,v,p);if(!!Array.isArray(_)&&!!_.length){var w,D=y.split("=");if(_.forEach(function(S){var A=a.objQuery(D[0],S);A=isNaN(A)?A:parseFloat(A),D[1]=isNaN(D[1])?D[1]:parseFloat(D[1]),A===D[1]&&(w=S)}),w!==void 0)return a.objQuery(b,w)}},crow:function(v,p,h,y,b,_){var w=b||"lat",D=_||"lon",S=a.objQuery(w,v,p),A=a.objQuery(D,v,p);return a.crowDistance(S,A,h,y,g.earthRadius)},sum:function(v,p){for(var h=[],y=2;y<arguments.length;y++)h[y-2]=arguments[y];return h.reduce(function(b,_){var w=a.objQuery(_,v,p)||0;return Array.isArray(w)?b+w.reduce(function(D,S){return D+parseFloat(S||0)},0):b+parseFloat(w)},0)},avg:function(v,p){for(var h=[],y=2;y<arguments.length;y++)h[y-2]=arguments[y];var b=0,_=h.reduce(function(w,D){var S=a.objQuery(D,v,p)||0;return Array.isArray(S)?(b+=S.length,w+S.reduce(function(A,k){return A+parseFloat(k||0)},0)):(b++,w+parseFloat(S))},0);return _/b}},g.functions={COUNT:{type:"A",call:function(v,p,h,y){p(y&&y!=="*"?v.filter(function(b){return a.objQuery(y,b,h)}).length:v.length)}},MAX:{type:"A",call:function(v,p,h,y){if(v.length){var b=a.objQuery(y,v[0])||0,_=v[0];v.forEach(function(w){a.objQuery(y,w,h),a.objQuery(y,w)>b&&(_=w,b=a.objQuery(y,w,h))}),p(b,_)}else p(0)}},MIN:{type:"A",call:function(v,p,h,y){if(v.length){var b=a.objQuery(y,v[0],h)||0,_=v[0];v.forEach(function(w){var D=a.objQuery(y,w,h);D<b&&(b=D,_=w)}),p(b,_)}else p(0)}},AVG:{type:"A",call:function(v,p,h,y){p(v.reduce(function(b,_){return b+(a.objQuery(y,_,h)||0)},0)/v.length)}},SUM:{type:"A",call:function(v,p,h,y){p(v.reduce(function(b,_){return b+(a.objQuery(y,_,h)||0)},0))}},LOWER:{type:"S",call:function(v,p,h,y){p(v.map(function(b){return String(a.objQuery(y,b,h)).toLowerCase()}))}},UPPER:{type:"S",call:function(v,p,h,y){p(v.map(function(b){return String(a.objQuery(y,b,h)).toUpperCase()}))}},CAST:{type:"S",call:function(v,p,h,y,b){p(v.map(function(_){return a.cast(b,a.objQuery(y,_,h))}))}},ABS:{type:"S",call:function(v,p,h,y){p(v.map(function(b){return Math.abs(a.objQuery(y,b,h))}))}},CEIL:{type:"S",call:function(v,p,h,y){p(v.map(function(b){return Math.ceil(a.objQuery(y,b,h))}))}},POW:{type:"S",call:function(v,p,h,y,b){p(v.map(function(_){return Math.pow(a.objQuery(y,_,h),parseInt(b))}))}},ROUND:{type:"S",call:function(v,p,h,y){p(v.map(function(b){return Math.round(a.objQuery(y,b,h))}))}},SQRT:{type:"S",call:function(v,p,h,y){p(v.map(function(b){return Math.sqrt(a.objQuery(y,b,h))}))}}};var x=new g;e.nSQL=function(v){return x.table(v)},typeof window!="undefined"&&(window["nano-sql"]={nSQL:e.nSQL,NanoSQLInstance:g})})($t);const Ei=he(Ja),{closeLoading:vL,showloading:U7}=ut(),{alertSucess:Ny,alertError:z7}=Ce(),{isMobile:Uf,isOnline:zf}=ve();var mL={async post(e){Uf.value&&!zf.value?this.putMobile(e):this.postWeb(e)},get(e){Uf.value&&!zf.value?this.getMobile():this.getWeb(e)},async patch(e,t){Uf.value&&!zf.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return Uf.value&&!zf.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("clinicSectorType",e);Ei.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("clinicSectorType?offset="+e+"&max=100").then(t=>{Ei.save(t.data),e=e+100,t.data.length>0?this.getWeb(e):vL()}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("clinicSectorType/"+e,t);Ei.save(r.data),Ny("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("clinicSectorType/"+e);Ei.destroy(e),Ny("O Registo foi removido com sucesso")}catch(t){console.log(t)}},putMobile(e){return $t.nSQL(Ja.entity).query("upsert",e).exec().then(()=>{Ei.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return $t.nSQL(Ja.entity).query("select").exec().then(e=>{Ei.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return $t.nSQL(Ja.entity).query("delete").where(["id","=",e]).exec().then(()=>{Ei.destroy(e),Ny("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},getAllClinicSectorTypes(){return Ei.withAll().orderBy("code","asc").get()},getClinicSectorTypesById(e){return Ei.withAll().where("id",e).orderBy("code","asc").first()},getClinicSectorTypesByCode(e){return Ei.withAll().where("code",e).orderBy("code","asc").get()}};const dt=he(Ne);he(_n);const xo=re[Ne.entity],{closeLoading:Y1,showloading:J7}=ut(),{alertSucess:Ly,alertError:G7,alertWarning:Q7}=Ce(),{isMobile:Jf,isOnline:Gf}=ve(),{isProvincialInstalation:H1}=lx();var Pe={async post(e){return Jf.value&&!Gf.value?this.addMobile(e):this.postWeb(e)},get(e){Jf.value&&!Gf.value?this.getMobile():this.getWeb(e)},async patch(e,t){Jf.value&&!Gf.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return Jf.value&&!Gf.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("clinic",e);dt.save(t.data)}catch{}},getWeb(e){if(e>=0)return O().get("clinic?offset="+e+"&max=100").then(t=>{var n;const r=(n=t==null?void 0:t.data)==null?void 0:n.filter(i=>!String(i==null?void 0:i.entity).includes("clinicSector"));dt.save(r),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("clinic/"+e,t);dt.save(r.data),Y1()}catch{}},async deleteWeb(e){try{const t=await O().delete("clinic/"+e);dt.destroy(e),Ly("O Registo foi removido com sucesso")}catch{}},async apiWebGetAll(){return await this.getWeb(0)},addMobile(e){return xo.put(JSON.parse(JSON.stringify(e))).then(()=>{dt.save(e)}).catch(t=>{console.log(t)})},putMobile(e){return xo.put(JSON.parse(JSON.stringify(e))).then(()=>{dt.save(e),Y1()}).catch(t=>{})},getMobile(){return xo.toArray().then(e=>{dt.save(e)}).catch(e=>{})},deleteMobile(e){return xo.delete(e).then(()=>{dt.destroy(e),Ly("O Registo foi removido com sucesso")}).catch(t=>{})},addBulkMobile(e){return xo.bulkPut(e).then(()=>{dt.save(e)}).catch(t=>{console.log(t)})},apiFetchById(e){return O().get(`/clinic/${e}`)},apiFetchMainClinic(){return O().get("/clinic/mainClinic")},async apiGetAll(e,t){return await O().get("/clinic?offset="+e+"&max="+t)},async apiGetByUUID(e){return await O().get("/clinic/uuid/"+e)},async apiSave(e){return this.post(e)},async apiUpdate(e){return this.patch(e.id,e)},async getAllClinicsByDistrictId(e){return await O().get("/clinic/district/"+e).then(t=>{dt.save(t.data)}).catch(t=>{console.log(t)})},newInstanceEntity(){return dt.getModel().$newInstance()},getAllFromStorage(){return dt.query().withAllRecursive(1).get()},getClinicsByDistrictId(e){return dt.query().with("nationalClinic").with("province").with("district").where("district_id",e).get()},currClinic(){const e=Jn.getInstallationType(),t=localStorage.getItem("clinicUsers");if(e!==null&&(t==="undefined"&&!H1()||t===""&&!H1()||String(t).includes("NORMAL")))return dt.withAllRecursive(2).where("mainClinic",!0).where("id",e.description).first();if(t!==null&&t!==""){let r=t;return t.includes(",")&&(r=t.split(",")[0]),this.getByCode(r)}return null},savePinia(e){dt.save(e)},getAllClinics(){return dt.query().with("nationalClinic").with("province").with("facilityType").with("district").with("sectors").where("type","CLINIC").get()},getAllClinicSectors(){return dt.query().withAll().where("type","CLINIC_SECTOR").get()},getAllClinicsAndClinicSectors(){return dt.query().with("nationalClinic").with("province").with("facilityType").with("district").with("sectors").get()},getFromProvincial(e){if(e>=0)return O().get("clinic/clinicFromProvicnial/"+e).then(t=>{e=e+100,t.data.length>0?this.getFromProvincial(e):(Ly("Lista actualizada com sucesso"),this.get(0))})},getAllClinicsOrdered(e,t){let r=[],n=[];const i=new Map;return e.forEach(o=>{r=t.filter(l=>l.province.description===o.description).sort((l,u)=>l.clinicName.localeCompare(u.clinicName)),r.length>0&&o!==void 0&&i.set(o.description,r)}),[...new Map([...i.entries()].sort()).values()].forEach(o=>{n=n.concat(o)}),n},getAllPrivateFromDistrict(e){return dt.withAllRecursive(2).where("mainClinic",!1).where("active",!0).where("district_id",e).whereHas("facilityType",t=>{t.where(r=>r.code!=="US"&&r.type==="clinic")}).orderBy("code","asc").get()},getAllUSFromDistrict(e){return dt.withAllRecursive(2).where("mainClinic",!1).where("active",!0).where("district_id",e).whereHas("facilityType",t=>{t.where(r=>r.code==="US")}).orderBy("code","asc").get()},getAllActiveUSWithoutMain(){return dt.withAllRecursive(1).where("mainClinic",!1).where("active",!0).orderBy("code","asc").get()},getById(e){return dt.query().where(t=>t.id===e).withAllRecursive(2).first()},getByCode(e){return dt.query().where(t=>t.code===e).withAllRecursive(2).first()},getActivebyClinicId(e){return dt.query().with("facilityType").where(t=>t.active&&t.parentClinic_id===e).get()},deleteFromPinia(){return dt.flush()},isClinicSector(e){return e&&e.facilityType.type=="clinic_sector"},isPrivatePharmacy(e){return e&&e.facilityType.code=="FP"},async getByIdFromDexie(e){return await xo.get(e)},async getAllByIDsFromDexie(e){return await xo.where("id").anyOfIgnoreCase(e).toArray()}};const xr=he(ti),bL=he(qi),_L=he(gc),wo=re[ti.entity],{alertSucess:K1,alertError:X7}=Ce(),{isMobile:Qf,isOnline:Xf}=ve();var ms={post(e){return Qf.value&&!Xf.value?this.addMobile(e):this.postWeb(e)},get(e){Qf.value&&!Xf.value?this.getMobile():this.getWeb(e)},patch(e,t){if(bL.where("clinical_service_id",e).delete(),_L.where("clinical_service_id",e).delete(),Qf.value&&!Xf.value)this.putMobile(t);else return this.patchWeb(e,t)},delete(e){return Qf.value&&!Xf.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){return O().post("clinicalService/",e).then(t=>{xr.save(t.data)})},async getWeb(e){if(e>=0)return await O().get("clinicalService?offset="+e+"&max=100").then(t=>{xr.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("clinicalService/"+e,t).then(r=>{xr.save(r.data)})},deleteWeb(e){return O().delete("clinicalService/"+e).then(()=>{xr.destroy(e)})},getFromProvincial(e){if(e>=0)return O().get("clinicalService/clinicalServiceFromProvicnial/"+e).then(t=>{e=e+100,t.data.length>0?this.getFromProvincial(e):(this.get(0),K1("Lista actualizada com sucesso"))})},addMobile(e){return wo.put(JSON.parse(JSON.stringify(e))).then(()=>{clinicalServiceAttributeType.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return wo.put(JSON.parse(JSON.stringify(e))).then(()=>{xr.save(e)}).catch(t=>{})},getMobile(){return wo.toArray().then(e=>{xr.save(e)}).catch(e=>{})},deleteMobile(e){return wo.delete(e).then(()=>{xr.destroy(e),K1("O Registo foi removido com sucesso")}).catch(t=>{})},addBulkMobile(e){return wo.bulkPut(e).then(()=>{xr.save(e)}).catch(t=>{console.log(t)})},async localDbGetById(e){return wo.where("id").equalsIgnoreCase(e).first().then(t=>t)},getByIdentifierTypeCode(e){return xr.query().with("identifierType").where("code",e).first()},newInstanceEntity(){return xr.getModel().$newInstance()},getAllClinicalServices(){return xr.query().withAllRecursive(2).orderBy("code","desc").get()},getbyIdWithSectors(e){return xr.query().where("id",e).with("clinicSectors").first()},getAllClinicalServicesPersonalized(){return xr.query().withAllRecursive(2).get()},getClinicalServicePersonalizedById(e){return xr.query().with("clinicSectors").with("identifierType").with("therapeuticRegimens").whereId(e).first()},getClinicalServiceByCode(e){return xr.query().where("code",e).first()},async getAllByIDsFromDexie(e){return await wo.where("id").anyOfIgnoreCase(e).toArray()}};const In=he(Ta),na=re[Ta.entity],{alertSucess:qy,alertError:Z7}=Ce(),{isMobile:Zf,isOnline:eh}=ve();var hs={async post(e){return Zf.value&&!eh.value?this.addMobile(e):this.postWeb(e)},get(e){Zf.value&&!eh.value?this.getMobile():this.getWeb(e)},async patch(e,t){Zf.value&&!eh.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return Zf.value&&!eh.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("dispenseMode",e);In.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("dispenseMode?offset="+e+"&max=100").then(t=>{In.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("dispenseMode/"+e,t);In.save(r.data),qy("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("dispenseMode/"+e);In.destroy(e),qy("O Registo foi removido com sucesso")}catch(t){console.log(t)}},async apiGetAll(){return await O().get("/dispenseMode")},async apiFetchById(e){return await O().get(`/dispenseMode/${e}`)},newInstanceEntity(){return In.getModel().$newInstance()},getAllFromStorage(){return In.all()},getAllFromDispenseModeType(e){return In.where(t=>t.code.includes(e)).get()},addMobile(e){return na.put(JSON.parse(JSON.stringify(e))).then(()=>{In.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return na.put(JSON.parse(JSON.stringify(e))).then(()=>{In.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return na.toArray().then(e=>{In.save(e)}).catch(e=>{console.log(e)})},async localDbGetById(e){return na.where("id").equalsIgnoreCase(e).first().then(t=>t)},deleteMobile(e){return na.delete(e).then(()=>{In.destroy(e),qy("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return na.bulkPut(e).then(()=>{In.save(e)}).catch(t=>{console.log(t)})},async getByIdFromDexie(e){return await na.get(e)},async getAllByIDsFromDexie(e){return await na.where("id").anyOf(e).toArray()}};const{closeLoading:xL,showloading:ej}=ut(),Ct=he(ks),fu=re[ks.entity],{isMobile:wL,isOnline:SL}=ve();var al={async post(e){const t=await O().post("dispenseType",e);Ct.save(t.data)},async get(e){if(wL.value&&!SL.value)this.getMobile();else if(e>=0)return await O().get("dispenseType?offset="+e+"&max=100").then(t=>{Ct.save(t.data),e=e+100,t.data.length>0?this.get(e):xL()})},getWeb(e){if(e>=0)return O().get("dispenseType?offset="+e+"&max=100").then(t=>{Ct.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patch(e,t){const r=await O().patch("dispenseType/"+e,t);Ct.save(r.data)},async delete(e){await O().delete("dispenseType/"+e),Ct.destroy(e)},async apiGetAll(e,t){return await O().get("/dispenseType?offset="+e+"&max="+t)},async apiFetchById(e){return await O().get(`/dispenseType/${e}`)},addMobile(e){return fu.put(JSON.parse(JSON.stringify(e))).then(()=>{Ct.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return fu.toArray().then(e=>{Ct.save(e)}).catch(e=>{console.log(e)})},putMobile(e){return fu.put(JSON.parse(JSON.stringify(e))).then(()=>{Ct.save(JSON.parse(e))}).catch(t=>{console.log(t)})},addBulkMobile(e){return fu.bulkPut(e).then(()=>{Ct.save(e)}).catch(t=>{console.log(t)})},newInstanceEntity(){return Ct.getModel().$newInstance()},getAllFromStorage(){return Ct.all()},getAllFromDuration(e){let t=[];return e<4?t=Ct.where("code",r=>r==="DN").orderBy("id","asc").get():e===4?t=Ct.where("code",r=>r==="DN"||r==="DM").orderBy("id","asc").get():e===8?t=Ct.where("code",r=>r==="DN"||r==="DM"||r==="DB").orderBy("id","asc").get():e===12?t=Ct.where("code",r=>r==="DM"||r==="DT"||r==="FRM").orderBy("id","asc").get():e===16?t=Ct.where("code",r=>r==="DM"||r==="DB"||r==="FRM").orderBy("id","asc").get():e===20?t=Ct.where("code",r=>r==="DM"||r==="FRM").orderBy("id","asc").get():e===24?t=Ct.where("code",r=>r==="DM"||r==="DB"||r==="DT"||r==="DS"||r==="FRM").orderBy("id","asc").get():t=Ct.orderBy("id","asc").all(),t},getById(e){return Ct.query().where(t=>t.id===e).first()},getAllForGroupDispense(){return Ct.where("code",e=>e==="DM"||e==="DT"||e==="DS"||e==="DA").orderBy("id","asc").get()},async getAllByIDsFromDexie(e){return await fu.where("id").anyOfIgnoreCase(e).toArray()}};const Xr=he(Zn),hu=re[Zn.entity],{alertSucess:Wy,alertError:tj}=Ce(),{isMobile:th,isOnline:rh}=ve();var pd={async post(e){th.value&&!rh.value?this.putMobile(e):this.postWeb(e)},get(e){th.value&&!rh.value?this.getMobile():this.getWeb(e)},async patch(e,t){th.value&&!rh.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return th.value&&!rh.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("district",e);Xr.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("district?offset="+e+"&max=100").then(t=>{Xr.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("district/"+e,t);Xr.save(r.data),Wy("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("district/"+e);Xr.destroy(e),Wy("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return hu.put(JSON.parse(JSON.stringify(e))).then(()=>{Xr.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return hu.put(JSON.parse(JSON.stringify(e))).then(()=>{Xr.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return hu.toArray().then(e=>{Xr.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return hu.delete(JSON.parse(e)).then(()=>{Xr.destroy(e),Wy("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return hu.bulkPut(e).then(()=>{Xr.save(e)}).catch(t=>{console.log(t)})},async apiGetAll(e,t){return await O().get("/district?offset="+e+"&max="+t)},getAllDistrictByProvinceId(e){return Xr.query().with("province").where("province_id",e).get()},getAllDistrictByDescription(e){return Xr.query().with("province").where("description",e).first()},getDistrictById(e){return Xr.query().with("province").where("id",e).first()},getAllFromStorage(){return Xr.all()}};const Bn=he(Pa),Pl=re[Pa.entity],{alertSucess:DL,alertError:rj}=Ce(),{isMobile:nh,isOnline:ih}=ve();var gd={post(e){return nh.value&&!ih.value?this.addMobile(e):this.postWeb(e)},get(e){nh.value&&!ih.value?this.getMobile():this.getWeb(e)},patch(e,t){if(nh.value&&!ih.value)this.putMobile(t);else return this.patchWeb(e,t)},async delete(e){return nh.value&&!ih.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("doctor",e).then(t=>{Bn.save(t.data)})},async getWeb(e){if(e>=0)return await O().get("doctor?offset="+e+"&max=100").then(t=>{Bn.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("doctor/"+e,t).then(r=>{Bn.save(r.data)})},deleteWeb(e){return O().delete("doctor/"+e).then(()=>{Bn.destroy(e)})},addMobile(e){return Pl.put(JSON.parse(JSON.stringify(e))).then(()=>{Bn.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return Pl.put(JSON.parse(JSON.stringify(e))).then(()=>{Bn.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return Pl.toArray().then(e=>{Bn.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Pl.put(e).then(()=>{Bn.destroy(e),DL("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Pl.bulkPut(e).then(()=>{Bn.save(e)}).catch(t=>{console.log(t)})},newInstanceEntity(){return Bn.getModel().$newInstance()},getAlldoctors(){return Bn.with("clinic",e=>{e.with("province"),e.with("district"),e.with("facilityType")}).where("active",!0).orderBy("firstnames").get()},getAllActiveAndNonActivedoctors(){return Bn.with("clinic",e=>{e.with("province"),e.with("district"),e.with("facilityType")}).orderBy("firstnames").get()},async getAllByIDsFromDexie(e){return await Pl.where("id").anyOfIgnoreCase(e).toArray()}};const{closeLoading:V1,showloading:nj}=ut(),ia=re[Wa.entity],ft=he(Wa),{isMobile:ij,isOnline:So}=ve();var Pp={async post(e){return So.value?this.postWeb(e):this.addMobile(e)},async get(e){return So.value?this.getWeb(e):this.getMobile()},async patch(e,t){return So.value?this.apiUpdateWeb(e,t):this.putMobile(t)},async delete(e){return So.value?this.deleteWeb(e):this.deleteMobile(e)},async apiFetchById(e){return So.value?this.apiFetchByIdWeb(e):this.apiFetchByIdMobile(e)},async getAllByClinic(e,t){So.value?this.apiGetAllByClinicIdWeb(e,t):this.apiGetAllByClinicIdMobile(e)},async apiClose(e,t){return await O().patch(`/inventory/close/${e}/${t}`)},async apiRemove(e){return await O().delete(`/inventory/${e}`)},async apiGetAllByClinicId(e,t,r){return await O().get("/inventory/clinic/"+e+"?offset="+t+"&max="+r)},async apiGetAll(e,t){return await O().get("/inventory?offset="+e+"&max="+t)},async isInventoryPeriod(e){return So.value?O().get("inventory/isInventoryPeriod/"+e).then(t=>t.data):!1},getInventoryInPreviousMonth(e,t){return ft.query().where("generic",!0).where("endDate",r=>{const n=G(r,"YYYY-MM-DD");return n.isSameOrAfter(e)&&n.isSameOrBefore(t)}).first()},isInventoryStartDateBetweenDates(e,t){return ft.query().where("startDate",n=>{const i=G(n,"YYYY-MM-DD");return i.isSameOrAfter(e)&&i.isSameOrBefore(t)}).get().length>0},hasInventoryBeforeDate(e){return ft.query().where("endDate",r=>G(r,"YYYY-MM-DD").isSameOrBefore(e)).get().length>0},lastInventoryBeforeDate(e){return ft.query().where("endDate",r=>G(r,"YYYY-MM-DD").isSameOrBefore(e)).orderBy("endDate","desc").first()},isDateBetween21And25(e){const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),21),n=new Date(t.getFullYear(),t.getMonth(),25),i=G(e,"YYYY-MM-DD");return i.isSameOrAfter(G(r))&&i.isSameOrBefore(G(n))},newInstanceEntity(){return ft.getModel().$newInstance()},getInventories(){return ft.withAllRecursive(2).orderBy("open","desc").orderBy("startDate","desc").get()},closeInventoryPinia(e,t){e.open=!1,e.endDate=t,ft.save(e)},getOpenInventory(){return ft.query().where("open",!0).first()},getLastInventory(){return ft.query().orderBy("endDate","desc").first()},getInvnetoryById(e){return ft.query().withAllRecursive(4).where("id",e).first()},getInvnetoryWithValidStockById(e){return ft.query().withAllRecursive(4).where("id",e).first()},getGeneralInventoryByDate(e){return ft.query().where("startDate",t=>G(t,"YYYY-MM-DD").diff(G(e))===0).where("generic",!0).first()},postWeb(e){return O().post("inventory",e).then(t=>{ft.save(t.data)})},getWeb(e){if(e>=0)return O().get("inventory?offset="+e+"&max=100").then(t=>{ft.save(t.data),e=e+100,t.data.length>0?this.getWeb(e):V1()})},async apiGetAllByClinicIdWeb(e,t){if(t>=0)return O().get("inventory/clinic/"+e+"?offset="+t+"&max=100").then(r=>{r.data.length>0?(ft.save(r.data),t=t+100,this.apiGetAllByClinicIdWeb(e,t)):V1()})},apiUpdateWeb(e,t){return O().patch("inventory/"+e,t).then(r=>{ft.save(r.data)})},async deleteWeb(e){return O().delete("inventory/"+e).then(()=>{ft.destroy(e)})},async apiFetchByIdWeb(e){return O().get("/inventory/"+e).then(t=>(ft.save(t.data),t.data))},deleteAllFromStorage(){ft.flush()},addMobile(e){return ia.put(JSON.parse(JSON.stringify(e))).then(()=>{ft.save(JSON.parse(JSON.stringify(e)))})},async getMobile(){try{const e=await ia.toArray();ft.save(e)}catch(e){console.log(e)}},async putMobile(e){return await ia.put(JSON.parse(JSON.stringify(e))).then(()=>{ft.save(JSON.parse(JSON.stringify(e)))})},async deleteMobile(e){try{await ia.delete(e),ft.destroy(e)}catch(t){console.log(t)}},apiFetchByIdMobile(e){return ia.where("id").equalsIgnoreCase(e).toArray().then(t=>(ft.save(t),t))},apiGetAllByClinicIdMobile(e){return ia.where("clinic_id").equalsIgnoreCase(e).toArray().then(t=>(ft.save(t),t))},async getAllByIDsFromDexie(e){return await ia.where("id").anyOfIgnoreCase(e).toArray()},deleteAllFromDexie(){ia.clear()}};const{closeLoading:U1,showloading:sj}=ut(),{isMobile:aj,isOnline:Do}=ve(),wr=he(Ni),Fn=re[Ni.entity];var Rp={async post(e){return Do.value?this.postWeb(e):this.putMobile(e)},get(e){Do.value?this.getWeb(e):this.getMobile()},async patch(e,t){return Do.value?this.apiUpdateWeb(e,t):this.putMobile(t)},async delete(e){return Do.value?this.deleteWeb(e):this.deleteMobile(e)},async apiFetchById(e){return Do.value?this.apiFetchByIdWeb(e):this.apiFetchByIdMobile(e)},async apiGetAll(e,t){return Do.value?this.apiGetAllWeb(e,t):this.apiGetAllMobile()},async apiSave(e){return await O().post("/inventoryStockAdjustment",e)},async apiRemove(e){return await O().delete(`/inventoryStockAdjustment/${e}`)},async apiUpdate(e){return await O().patch("/inventoryStockAdjustment/"+e.id,e)},async postWeb(e){return O().post("inventoryStockAdjustment",e).then(t=>{wr.save(t.data)})},getWeb(e){if(e>=0)return O().get("/inventoryStockAdjustment?offset="+e+"&max=100").then(t=>{wr.save(t.data),e=e+100,t.data.length>0?this.getWeb(e):U1()})},getAllByClinic(e,t){Do.value?this.getAllByClinicWeb(e,t):this.getAllByClinicMobile(e)},getAllByClinicWeb(e,t){if(t>=0)return O().get("inventoryStockAdjustment/clinic/"+e+"?offset="+t+"&max=100").then(r=>{wr.save(r.data),t=t+100,r.data.length>0?this.get(t):U1()})},apiUpdateWeb(e,t){return O().patch("/inventoryStockAdjustment/"+e,t).then(r=>{wr.save(r.data)})},deleteWeb(e){return O().delete("/inventoryStockAdjustment/"+e).then(()=>{wr.destroy(e)})},async apiFetchByIdWeb(e){return await O().get(`/inventoryStockAdjustment/${e}`)},async apiGetAllWeb(e,t){return await O().get("/inventoryStockAdjustment?offset="+e+"&max="+t)},async putMobile(e){return Fn.put(JSON.parse(JSON.stringify(e))).then(()=>{wr.save(JSON.parse(JSON.stringify(e)))})},async getMobile(){try{const e=await Fn.toArray();wr.save(e)}catch(e){console.log(e)}},async getAllFinalizedInventoryStockAdjustmentMobile(){return(await Fn.toArray()).filter(r=>r.inventory&&r.finalised===!0)},async deleteMobile(e){try{await Fn.delete(e),wr.destroy(e)}catch(t){console.log(t)}},async apiFetchByIdMobile(e){return Fn.where("id").equalsIgnoreCase(e).then(t=>(wr.save(t),t))},async apiGetAdjustmentsByInventoryIdMobile(e){return(await Fn.toArray()).filter(n=>n.inventory&&n.inventory.id===e)},async apiGetAllMobile(){try{const e=await Fn.toArray(),t=e.map(n=>n.inventory_id!==null&&n.inventory_id!==void 0?n.inventory_id:""),[r]=await Promise.all([Pp.getAllByIDsFromDexie(t)]);return e.map(n=>{n.inventory=r.find(i=>n.inventory_id===i.id)}),wr.save(e),e}catch(e){console.log(e)}},async localDbGetAll(){try{const e=await Fn.toArray();return wr.save(e),e}catch(e){console.log(e)}},getAllByClinicMobile(e){return Fn.where("clinic_id").equalsIgnoreCase(e).toArray().then(t=>(wr.save(t),t))},async getAllByStockIDsFromDexie(e){const t=await Fn.where("adjusted_stock_id").anyOfIgnoreCase(e).toArray(),r=t.map(i=>i.inventory_id),[n]=await Promise.all([Pp.getAllByIDsFromDexie(r)]);return t.map(i=>{i.inventory=n.find(s=>s.id===i.inventory_id)}),t},async getFromBackEnd(e){if(e>=0)return await O().get("inventoryStockAdjustment?offset="+e+"&max=100").then(t=>{wr.addBulkMobile(t.data),console.log("Data synced from backend: inventoryStockAdjustment"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},addBulkMobile(e){return Fn.bulkAdd(e).then(()=>{wr.save(JSON.parse(e))}).catch(t=>{console.log(t)})},deleteAllFromStorage(){wr.flush()},deleteAllFromDexie(){Fn.clear()}};const{closeLoading:z1,showloading:oj}=ut(),{isMobile:lj,isOnline:Rl}=ve(),{alertSucess:AL,alertError:cj}=Ce(),qt=he(ja),ai=re[ja.entity];var rx={async post(e){return Rl.value?this.postWeb(e):this.putMobile(e)},get(e){Rl.value?this.getWeb(e):this.getMobile()},async apiUpdate(e,t){return Rl.value?this.apiUpdateWeb(e,t):this.putMobile(t)},async delete(e){return Rl.value?this.deleteWeb(e):this.deleteMobile(e)},apiFetchById(e){return Rl.value?this.apiFetchByIdWeb(e):this.apiFetchByIdMobile(e)},async apiGetAllByClinicId(e,t,r){Rl.value?this.apiGetAllByClinicIdWeb(e,t,r):this.apiGetAllByClinicIdMobile(e)},async getFromBackEnd(e,t){if(e>=0)return await O().get("/stockEntrance/clinic/"+t+"?offset="+e+"&max="+100).then(r=>{qt.save(r.data),this.addBulkMobile(r.data),console.log("Data synced from backend: stockEntrance"),e=e+100,r.data.length>0&&this.getFromBackEnd(e,t)}).catch(r=>{console.error("Error syncing data from backend:",r),console.log(r)})},async getStockEntrancesByIds(e){return ai.where("id").anyOf(e).toArray()},addBulkMobile(e){const t=this.getAllFromStorage();return ai.bulkPut(t).then(()=>{}).catch(r=>{console.log(r)})},postWeb(e){return O().post("stockEntrance",e).then(t=>(qt.save(t.data),t.data))},getWeb(e){if(e>=0)return O().get("stockEntrance?offset="+e+"&max=100").then(t=>{qt.save(t.data),e=e+100,t.data.length>0?this.getWeb(e):z1()})},apiUpdateWeb(e,t){return O().patch("stockEntrance/"+e,t).then(r=>{qt.save(r.data)})},deleteWeb(e){return O().delete("stockEntrance/"+e).then(()=>{qt.destroy(e)})},apiFetchByIdWeb(e){return O().get("/stockEntrance/"+e).then(t=>{qt.save(t.data),t.data.length>0&&setTimeout(this.get,2)})},async apiGetAllByClinicIdWeb(e,t,r){if(t>=0)return O().get("/stockEntrance/clinic/"+e+"?offset="+t+"&max="+r).then(n=>{n.data.length>0?(qt.save(n.data),t=t+100,this.apiGetAllByClinicIdWeb(e,t,r)):z1()})},addMobile(e){return ai.put(JSON.parse(JSON.stringify(e))).then(()=>{qt.save(JSON.parse(JSON.stringify(e)))})},async putMobile(e){return ai.put(JSON.parse(JSON.stringify(e))).then(()=>{qt.save(JSON.parse(JSON.stringify(e)))})},async getMobile(){try{const e=await ai.toArray();qt.save(e)}catch(e){console.log(e)}},getByStockEntranceMobile(e){return ai.where("id").equalsIgnoreCase(e.id).toArray().then(t=>(e.save(t),t))},async getAllByIDsFromDexie(e){return await ai.where("id").anyOfIgnoreCase(e).toArray()},async getCountStockEntranceFromDexie(){return await ai.count()},async deleteMobile(e){try{await ai.delete(e),qt.destroy(e),AL("O Registo foi removido com sucesso")}catch(t){console.log(t)}},apiFetchByIdMobile(e){return ai.where("id").equalsIgnoreCase(e).first().then(t=>(qt.save(t),t))},apiGetAllByClinicIdMobile(e){return ai.where("clinic_id").equalsIgnoreCase(e).toArray().then(t=>(qt.save(t),t))},newInstanceEntity(){return qt.getModel().$newInstance()},getStockEntranceById(e){return qt.query().with("stocks").with("clinic").where("id",e).first()},getStockEntranceByNumber(e){return qt.query().where("orderNumber",e).first()},getStockEntrances(){return qt.query().with("clinic").with("stocks").orderBy("dateReceived","desc").get()},getAllFromStorage(){return qt.all()},deleteAllFromStorage(){qt.flush()}},ol={chunkArrayWithOffset(e,t,r){const n=[];let i=r;for(;i<e.length;){const s=e.slice(i,i+t);n.push(s),i+=t}return n}};const J1=["B","KB","MB","GB","TB","PB"];function uj(e,t=1){let r=0;for(;parseInt(e,10)>=1024&&r<J1.length-1;)e/=1024,++r;return`${e.toFixed(t)}${J1[r]}`}function kL(e){return e.charAt(0).toUpperCase()+e.slice(1)}function dj(e,t,r){return r<=t?t:Math.min(r,Math.max(t,e))}function fj(e,t,r){if(r<=t)return t;const n=r-t+1;let i=t+(e-t)%n;return i<t&&(i=n+i),i===0?0:i}function Rt(e,t=2,r="0"){if(e==null)return e;const n=""+e;return n.length>=t?n:new Array(t-n.length+1).join(r)+n}const Aa=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function hj(e,t,r){return Object.prototype.toString.call(e)==="[object Date]"&&(r=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),IL(nx(e,t,r))}function pj(e,t,r){return yO(ML(e,t,r))}function EL(e){return OL(e)===0}function CL(e,t){return t<=6?31:t<=11||EL(e)?30:29}function OL(e){const t=Aa.length;let r=Aa[0],n,i,s,a,o;if(e<r||e>=Aa[t-1])throw new Error("Invalid Jalaali year "+e);for(o=1;o<t&&(n=Aa[o],i=n-r,!(e<n));o+=1)r=n;return a=e-r,i-a<6&&(a=a-i+gt(i+4,33)*33),s=fn(fn(a+1,33)-1,4),s===-1&&(s=4),s}function gO(e,t){const r=Aa.length,n=e+621;let i=-14,s=Aa[0],a,o,l,u,c;if(e<s||e>=Aa[r-1])throw new Error("Invalid Jalaali year "+e);for(c=1;c<r&&(a=Aa[c],o=a-s,!(e<a));c+=1)i=i+gt(o,33)*8+gt(fn(o,33),4),s=a;u=e-s,i=i+gt(u,33)*8+gt(fn(u,33)+3,4),fn(o,33)===4&&o-u===4&&(i+=1);const d=gt(n,4)-gt((gt(n,100)+1)*3,4)-150,f=20+i-d;return t||(o-u<6&&(u=u-o+gt(o+4,33)*33),l=fn(fn(u+1,33)-1,4),l===-1&&(l=4)),{leap:l,gy:n,march:f}}function ML(e,t,r){const n=gO(e,!0);return nx(n.gy,3,n.march)+(t-1)*31-gt(t,7)*(t-7)+r-1}function IL(e){const t=yO(e).gy;let r=t-621,n,i,s;const a=gO(r,!1),o=nx(t,3,a.march);if(s=e-o,s>=0){if(s<=185)return i=1+gt(s,31),n=fn(s,31)+1,{jy:r,jm:i,jd:n};s-=186}else r-=1,s+=179,a.leap===1&&(s+=1);return i=7+gt(s,30),n=fn(s,30)+1,{jy:r,jm:i,jd:n}}function nx(e,t,r){let n=gt((e+gt(t-8,6)+100100)*1461,4)+gt(153*fn(t+9,12)+2,5)+r-34840408;return n=n-gt(gt(e+100100+gt(t-8,6),100)*3,4)+752,n}function yO(e){let t=4*e+139361631;t=t+gt(gt(4*e+183187720,146097)*3,4)*4-3908;const r=gt(fn(t,1461),4)*5+308,n=gt(fn(r,153),5)+1,i=fn(gt(r,153),12)+1;return{gy:gt(t,1461)-100100+gt(8-i,6),gm:i,gd:n}}function gt(e,t){return~~(e/t)}function fn(e,t){return e-~~(e/t)*t}const vO=864e5,BL=36e5,sb=6e4,mO="YYYY-MM-DDTHH:mm:ss.SSSZ",FL=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,TL=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,jy={};function PL(e,t){const r="("+t.days.join("|")+")",n=e+r;if(jy[n]!==void 0)return jy[n];const i="("+t.daysShort.join("|")+")",s="("+t.months.join("|")+")",a="("+t.monthsShort.join("|")+")",o={};let l=0;const u=e.replace(TL,d=>{switch(l++,d){case"YY":return o.YY=l,"(-?\\d{1,2})";case"YYYY":return o.YYYY=l,"(-?\\d{1,4})";case"M":return o.M=l,"(\\d{1,2})";case"MM":return o.M=l,"(\\d{2})";case"MMM":return o.MMM=l,a;case"MMMM":return o.MMMM=l,s;case"D":return o.D=l,"(\\d{1,2})";case"Do":return o.D=l++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return o.D=l,"(\\d{2})";case"H":return o.H=l,"(\\d{1,2})";case"HH":return o.H=l,"(\\d{2})";case"h":return o.h=l,"(\\d{1,2})";case"hh":return o.h=l,"(\\d{2})";case"m":return o.m=l,"(\\d{1,2})";case"mm":return o.m=l,"(\\d{2})";case"s":return o.s=l,"(\\d{1,2})";case"ss":return o.s=l,"(\\d{2})";case"S":return o.S=l,"(\\d{1})";case"SS":return o.S=l,"(\\d{2})";case"SSS":return o.S=l,"(\\d{3})";case"A":return o.A=l,"(AM|PM)";case"a":return o.a=l,"(am|pm)";case"aa":return o.aa=l,"(a\\.m\\.|p\\.m\\.)";case"ddd":return i;case"dddd":return r;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return o.Z=l,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return o.ZZ=l,"(Z|[+-]\\d{2}\\d{2})";case"X":return o.X=l,"(-?\\d+)";case"x":return o.x=l,"(-?\\d{4,})";default:return l--,d[0]==="["&&(d=d.substring(1,d.length-1)),d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),c={map:o,regex:new RegExp("^"+u)};return jy[n]=c,c}function bO(e,t){return e!==void 0?e:t!==void 0?t.date:am.date}function G1(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),s=n%60;return r+Rt(i)+t+Rt(s)}function RL(e,t,r){let n=e.getFullYear(),i=e.getMonth();const s=e.getDate();return t.year!==void 0&&(n+=r*t.year,delete t.year),t.month!==void 0&&(i+=r*t.month,delete t.month),e.setDate(1),e.setMonth(2),e.setFullYear(n),e.setMonth(i),e.setDate(Math.min(s,sx(e))),t.date!==void 0&&(e.setDate(e.getDate()+r*t.date),delete t.date),e}function $L(e,t,r){const n=t.year!==void 0?t.year:e[`get${r}FullYear`](),i=t.month!==void 0?t.month-1:e[`get${r}Month`](),s=new Date(n,i+1,0).getDate(),a=Math.min(s,t.date!==void 0?t.date:e[`get${r}Date`]());return e[`set${r}Date`](1),e[`set${r}Month`](2),e[`set${r}FullYear`](n),e[`set${r}Month`](i),e[`set${r}Date`](a),delete t.year,delete t.month,delete t.date,e}function ix(e,t,r){const n=_O(t),i=new Date(e),s=n.year!==void 0||n.month!==void 0||n.date!==void 0?RL(i,n,r):i;for(const a in n){const o=kL(a);s[`set${o}`](s[`get${o}`]()+r*n[a])}return s}function _O(e){const t={...e};return e.years!==void 0&&(t.year=e.years,delete t.years),e.months!==void 0&&(t.month=e.months,delete t.months),e.days!==void 0&&(t.date=e.days,delete t.days),e.day!==void 0&&(t.date=e.day,delete t.day),e.hour!==void 0&&(t.hours=e.hour,delete t.hour),e.minute!==void 0&&(t.minutes=e.minute,delete t.minute),e.second!==void 0&&(t.seconds=e.second,delete t.second),e.millisecond!==void 0&&(t.milliseconds=e.millisecond,delete t.millisecond),t}function xO(e,t,r){const n=_O(t),i=r===!0?"UTC":"",s=new Date(e),a=n.year!==void 0||n.month!==void 0||n.date!==void 0?$L(s,n,i):s;for(const o in n){const l=o.charAt(0).toUpperCase()+o.slice(1);a[`set${i}${l}`](n[o])}return a}function NL(e,t,r){const n=LL(e,t,r),i=new Date(n.year,n.month===null?null:n.month-1,n.day===null?1:n.day,n.hour,n.minute,n.second,n.millisecond),s=i.getTimezoneOffset();return n.timezoneOffset===null||n.timezoneOffset===s?i:ix(i,{minutes:n.timezoneOffset-s},1)}function LL(e,t,r,n,i){const s={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(i!==void 0&&Object.assign(s,i),e==null||e===""||typeof e!="string")return s;t===void 0&&(t=mO);const a=bO(r,Fi.props),o=a.months,l=a.monthsShort,{regex:u,map:c}=PL(t,a),d=e.match(u);if(d===null)return s;let f="";if(c.X!==void 0||c.x!==void 0){const g=parseInt(d[c.X!==void 0?c.X:c.x],10);if(isNaN(g)===!0||g<0)return s;const m=new Date(g*(c.X!==void 0?1e3:1));s.year=m.getFullYear(),s.month=m.getMonth()+1,s.day=m.getDate(),s.hour=m.getHours(),s.minute=m.getMinutes(),s.second=m.getSeconds(),s.millisecond=m.getMilliseconds()}else{if(c.YYYY!==void 0)s.year=parseInt(d[c.YYYY],10);else if(c.YY!==void 0){const g=parseInt(d[c.YY],10);s.year=g<0?g:2e3+g}if(c.M!==void 0){if(s.month=parseInt(d[c.M],10),s.month<1||s.month>12)return s}else c.MMM!==void 0?s.month=l.indexOf(d[c.MMM])+1:c.MMMM!==void 0&&(s.month=o.indexOf(d[c.MMMM])+1);if(c.D!==void 0){if(s.day=parseInt(d[c.D],10),s.year===null||s.month===null||s.day<1)return s;const g=n!=="persian"?new Date(s.year,s.month,0).getDate():CL(s.year,s.month);if(s.day>g)return s}c.H!==void 0?s.hour=parseInt(d[c.H],10)%24:c.h!==void 0&&(s.hour=parseInt(d[c.h],10)%12,(c.A&&d[c.A]==="PM"||c.a&&d[c.a]==="pm"||c.aa&&d[c.aa]==="p.m.")&&(s.hour+=12),s.hour=s.hour%24),c.m!==void 0&&(s.minute=parseInt(d[c.m],10)%60),c.s!==void 0&&(s.second=parseInt(d[c.s],10)%60),c.S!==void 0&&(s.millisecond=parseInt(d[c.S],10)*10**(3-d[c.S].length)),(c.Z!==void 0||c.ZZ!==void 0)&&(f=c.Z!==void 0?d[c.Z].replace(":",""):d[c.ZZ],s.timezoneOffset=(f[0]==="+"?-1:1)*(60*f.slice(1,3)+1*f.slice(3,5)))}return s.dateHash=Rt(s.year,6)+"/"+Rt(s.month)+"/"+Rt(s.day),s.timeHash=Rt(s.hour)+":"+Rt(s.minute)+":"+Rt(s.second)+f,s}function qL(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function WL(e,t){return xO(new Date,e,t)}function jL(e){const t=new Date(e).getDay();return t===0?7:t}function ab(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const r=new Date(t.getFullYear(),0,4);r.setDate(r.getDate()-(r.getDay()+6)%7+3);const n=t.getTimezoneOffset()-r.getTimezoneOffset();t.setHours(t.getHours()-n);const i=(t-r)/(vO*7);return 1+Math.floor(i)}function YL(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function Yy(e,t){const r=new Date(e);return t===!0?YL(r):r.getTime()}function HL(e,t,r,n={}){const i=Yy(t,n.onlyDate),s=Yy(r,n.onlyDate),a=Yy(e,n.onlyDate);return(a>i||n.inclusiveFrom===!0&&a===i)&&(a<s||n.inclusiveTo===!0&&a===s)}function KL(e,t){return ix(e,t,1)}function VL(e,t){return ix(e,t,-1)}function Mi(e,t,r){const n=new Date(e),i=`set${r===!0?"UTC":""}`;switch(t){case"year":case"years":n[`${i}Month`](0);case"month":case"months":n[`${i}Date`](1);case"day":case"days":case"date":n[`${i}Hours`](0);case"hour":case"hours":n[`${i}Minutes`](0);case"minute":case"minutes":n[`${i}Seconds`](0);case"second":case"seconds":n[`${i}Milliseconds`](0)}return n}function UL(e,t,r){const n=new Date(e),i=`set${r===!0?"UTC":""}`;switch(t){case"year":case"years":n[`${i}Month`](11);case"month":case"months":n[`${i}Date`](sx(n));case"day":case"days":case"date":n[`${i}Hours`](23);case"hour":case"hours":n[`${i}Minutes`](59);case"minute":case"minutes":n[`${i}Seconds`](59);case"second":case"seconds":n[`${i}Milliseconds`](999)}return n}function zL(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(r=>{t=Math.max(t,new Date(r))}),t}function JL(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(r=>{t=Math.min(t,new Date(r))}),t}function sh(e,t,r){return(e.getTime()-e.getTimezoneOffset()*sb-(t.getTime()-t.getTimezoneOffset()*sb))/r}function wO(e,t,r="days"){const n=new Date(e),i=new Date(t);switch(r){case"years":case"year":return n.getFullYear()-i.getFullYear();case"months":case"month":return(n.getFullYear()-i.getFullYear())*12+n.getMonth()-i.getMonth();case"days":case"day":case"date":return sh(Mi(n,"day"),Mi(i,"day"),vO);case"hours":case"hour":return sh(Mi(n,"hour"),Mi(i,"hour"),BL);case"minutes":case"minute":return sh(Mi(n,"minute"),Mi(i,"minute"),sb);case"seconds":case"second":return sh(Mi(n,"second"),Mi(i,"second"),1e3)}}function ob(e){return wO(e,Mi(e,"year"),"days")+1}function GL(e){return Lb(e)===!0?"date":typeof e=="number"?"number":"string"}function QL(e,t,r){const n=new Date(e);if(t){const i=new Date(t);if(n<i)return i}if(r){const i=new Date(r);if(n>i)return i}return n}function XL(e,t,r){const n=new Date(e),i=new Date(t);if(r===void 0)return n.getTime()===i.getTime();switch(r){case"second":case"seconds":if(n.getSeconds()!==i.getSeconds())return!1;case"minute":case"minutes":if(n.getMinutes()!==i.getMinutes())return!1;case"hour":case"hours":if(n.getHours()!==i.getHours())return!1;case"day":case"days":case"date":if(n.getDate()!==i.getDate())return!1;case"month":case"months":if(n.getMonth()!==i.getMonth())return!1;case"year":case"years":if(n.getFullYear()!==i.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${r}`)}return!0}function sx(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function Q1(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const X1={YY(e,t,r){const n=this.YYYY(e,t,r)%100;return n>=0?Rt(n):"-"+Rt(Math.abs(n))},YYYY(e,t,r){return r!=null?r:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return Rt(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Q1(this.Q(e))},D(e){return e.getDate()},Do(e){return Q1(e.getDate())},DD(e){return Rt(e.getDate())},DDD(e){return ob(e)},DDDD(e){return Rt(ob(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return ab(e)},ww(e){return Rt(ab(e))},H(e){return e.getHours()},HH(e){return Rt(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return Rt(this.h(e))},m(e){return e.getMinutes()},mm(e){return Rt(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return Rt(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return Rt(Math.floor(e.getMilliseconds()/10))},SSS(e){return Rt(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,r,n){const i=n==null?e.getTimezoneOffset():n;return G1(i,":")},ZZ(e,t,r,n){const i=n==null?e.getTimezoneOffset():n;return G1(i)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function ZL(e,t,r,n,i){if(e!==0&&!e||e===1/0||e===-1/0)return;const s=new Date(e);if(isNaN(s))return;t===void 0&&(t=mO);const a=bO(r,Fi.props);return t.replace(FL,(o,l)=>o in X1?X1[o](s,a,n,i):l===void 0?o:l.split("\\]").join("]"))}function eq(e){return Lb(e)===!0?new Date(e.getTime()):e}var $l={isValid:qL,extractDate:NL,buildDate:WL,getDayOfWeek:jL,getWeekOfYear:ab,isBetweenDates:HL,addToDate:KL,subtractFromDate:VL,adjustDate:xO,startOfDate:Mi,endOfDate:UL,getMaxDate:zL,getMinDate:JL,getDateDiff:wO,getDayOfYear:ob,inferDateFormat:GL,getDateBetween:QL,isSameDate:XL,daysInMonth:sx,formatDate:ZL,clone:eq};function tq(){function e(E){return $l.isValid(E)}function t(E){return $l.formatDate(E,"DD-MM-YYYY")}const r=E=>E<=G().format("YYYY/MM/DD");function n(E){const M=E.split("-");return new Date(+M[2],+M[1]-1,+M[0])}function i(E){return G(E).local().format("DD-MM-YYYY")}function s(E){return G(E).local().format("YYYY-MM-DD")}function a(E){return G(E).local().format("DD/MM/YYYY")}function o(E){return G(E).local().format("YYYY/MM/DD")}function l(E){return $l.extractDate(E,"DD/MM/YYYY")}function u(E){return $l.extractDate(E,"DD-MM-YYYY")}function c(E){return $l.extractDate(E,"YYYY/MM/DD")}function d(E){return $l.extractDate(E,"YYYY-MM-DD")}function f(E){return G(E,"DD-MM-YYYY").format("YYYY-MM-DD")}function g(E){return s(u(E))}function m(E){return G(E,"DD-MM-YYYY").format("DD-MM-YYYY")}function x(E){return G(E,"MM-DD-YYYY").format("MM-DD-YYYY")}function v(E){return G(E,"MM-DD-YYYY").format("MM-DD-YYYY")}function p(E){return G(E,"YYYY-MM-DD").format("DD-MM-YYYY")}function h(E){return G(E,"DD-MM-YYYY").format("DD/MM/YYYY")}function y(E){const M=G(E,"DD-MM-YYYY"),I=G();return M.set({hour:I.hour(),minute:I.minute(),second:I.second()}),G(M,"DD-MM-YYYY HH:mm:ss").toDate()}function b(E){return E!=null?G().diff(G(E,"DD-MM-YYYY"),"years"):null}function _(E){return E!=null?G().diff(G(E,"YYYY-MM-DD"),"years"):null}function w(E,M){const I=new Date(E);return I.setDate(I.getDate()+M),G(I).format("YYYY-MM-DD")}function D(E){const M=new Date(E.getFullYear(),0,1),I=[{start:new Date(M.getTime()+21*24*60*60*1e3),end:new Date(M.getTime()+(1*30+20)*24*60*60*1e3),value:2},{start:new Date(M.getTime()+(1*30+21)*24*60*60*1e3),end:new Date(M.getTime()+(2*30+20)*24*60*60*1e3),value:3},{start:new Date(M.getTime()+(2*30+21)*24*60*60*1e3),end:new Date(M.getTime()+(3*30+20)*24*60*60*1e3),value:4},{start:new Date(M.getTime()+(3*30+21)*24*60*60*1e3),end:new Date(M.getTime()+(4*30+20)*24*60*60*1e3),value:5},{start:new Date(M.getTime()+(4*30+21)*24*60*60*1e3),end:new Date(M.getTime()+(5*30+20)*24*60*60*1e3),value:6},{start:new Date(M.getTime()+(5*30+21)*24*60*60*1e3),end:new Date(M.getTime()+(6*30+20)*24*60*60*1e3),value:7},{start:new Date(M.getTime()+(6*30+21)*24*60*60*1e3),end:new Date(M.getTime()+(7*30+20)*24*60*60*1e3),value:8},{start:new Date(M.getTime()+(7*30+21)*24*60*60*1e3),end:new Date(M.getTime()+(8*30+20)*24*60*60*1e3),value:9},{start:new Date(M.getTime()+(8*30+21)*24*60*60*1e3),end:new Date(M.getTime()+(9*30+20)*24*60*60*1e3),value:10},{start:new Date(M.getTime()+(9*30+21)*24*60*60*1e3),end:new Date(M.getTime()+(10*30+20)*24*60*60*1e3),value:11},{start:new Date(M.getTime()+(10*30+21)*24*60*60*1e3),end:new Date(M.getTime()+(11*30+20)*24*60*60*1e3),value:12}];for(const P of I)if(E>=P.start&&E<=P.end)return P.value;return 1}function S(E){const M=["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];if(E<1||E>12)throw new Error("Invalid month number");return M[E-1]}function A(E){const M=[];for(let I=1;I<=12;++I){const P={month:0,startDate:"",endDate:""};P.month=I,P.startDate=G(new Date(E,I-1,21)).format("YYYY-MM-DD"),P.endDate=G(new Date(E,I,20)).format("YYYY-MM-DD"),M.push(P)}return M}function k(E){for(let M=1;M<=12;++M){const I=new Date(E.getFullYear(),M-1,21),P=new Date(E.getFullYear(),M,20);if(E>=I&&E<=P)return M}return 0}function C(E){const M=k(E);return M>1?A(E.getFullYear()).filter(I=>I.month===M-1):A(E.getFullYear()-1).filter(I=>I.month===12)}return{isValidDate:e,formatDate:t,optionsNonFutureDate:r,getJSDateFromDDMMYYY:n,getDDMMYYYFromJSDate:i,getYYYYMMDDFromJSDate:s,getHyphenDDMMYYYYFromJSDate:a,getHyphenYYYYMMDDFromJSDate:o,getDateFromSlashDDMMYYYY:l,getDateFromHyphenDDMMYYYY:u,getDateFromSlashYYYYMMDD:c,getDateFromHyphenYYYYMMDD:d,getDateFormatYYYYMMDDFromDDMMYYYY:f,extractHyphenDateFromDMYConvertYMD:g,getDateFormatDDMMYYYY:m,getDateFormatMMDDYYYY:x,getDateFormatYYYYMMDD:v,getDateFormatDDMMYYYYFromYYYYMMDD:p,getDateFormatDDMMYYYYDash:h,idadeCalculator:b,idadeReportCalculator:_,getDateFromHyphenDDMMYYYYWithTime:y,returnEstatisticMonth:D,getStatisticMonthFromDate:k,getMonthName:S,getMonthsDateOfTheYear:A,addDays:w,getPreviousStatisticMonthsDateFromDate:C}}const Zr=he(Cs),Nl=re[Cs.entity],{alertSucess:Z1,alertError:gj}=Ce(),{isMobile:ah,isOnline:oh}=ve();var yd={async post(e){ah.value&&!oh.value?this.putMobile(e):this.postWeb(e)},get(e){ah.value&&!oh.value?this.getMobile():this.getWeb(e)},async patch(e,t){ah.value&&!oh.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return ah.value&&!oh.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("duration",e);Zr.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("duration?offset="+e+"&max=100").then(t=>{Zr.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("duration/"+e,t);Zr.save(r.data),Z1("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("duration/"+e);Zr.destroy(e),Z1("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return Nl.put(JSON.parse(JSON.stringify(e))).then(()=>{Zr.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return Nl.put(JSON.parse(JSON.stringify(e))).then(()=>{Zr.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return Nl.toArray().then(e=>{Zr.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Nl.delete(e).then(()=>{Zr.destroy(e)}).catch(t=>{console.log(t)})},addBulkMobile(e){return Nl.bulkPut(e).then(()=>{Zr.save(e)}).catch(t=>{console.log(t)})},async apiGetAll(e,t){return this.get(e)},async apiFetchById(e){return await O().get(`/duration/${e}`)},newInstanceEntity(){return Zr.getModel().$newInstance()},getAllFromStorage(){return Zr.all()},getDurationByWeeks(e){return Zr.where("weeks",e).first()},getDurationById(e){return Zr.where("id",e).first()},async getAllByIDsFromDexie(e){return await Nl.where("id").anyOfIgnoreCase(e).toArray()}};const oi=he(Na),Ll=re[Na.entity],{alertSucess:Hy,alertError:yj}=Ce(),{isMobile:lh,isOnline:ch}=ve();var vd={async post(e){return lh.value&&!ch.value?this.addMobile(e):this.postWeb(e)},get(e){lh.value&&!ch.value?this.getMobile():this.getWeb(e)},async patch(e,t){lh.value&&!ch.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return lh.value&&!ch.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("therapeuticLine",e);oi.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("therapeuticLine?offset="+e+"&max=100").then(t=>{oi.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("therapeuticLine/"+e,t);oi.save(r.data),Hy("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("therapeuticLine/"+e);oi.destroy(e),Hy("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return Ll.put(JSON.parse(JSON.stringify(e))).then(()=>{oi.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return Ll.put(JSON.parse(JSON.stringify(e))).then(()=>{oi.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return Ll.toArray().then(e=>{oi.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Ll.delete(e).then(()=>{oi.destroy(e),Hy("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Ll.bulkPut(e).then(()=>{oi.save(e)}).catch(t=>{console.log(t)})},getById(e){return oi.query().where(t=>t.id===e).first()},getAllFromStorage(){return oi.all()},async getAllByIDsFromDexie(e){return await Ll.where("id").anyOfIgnoreCase(e).toArray()}};const Jt=he(ji),Ao=re[ji.entity],{alertSucess:uh,alertError:vj}=Ce(),{isMobile:dh,isOnline:fh}=ve();var md={async post(e){return dh.value&&!fh.value?this.addMobile(e):this.postWeb(e)},async get(e){return dh.value&&!fh.value?await this.getMobile():await this.getWeb(e)},async patch(e,t){dh.value&&!fh.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return dh.value&&!fh.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("therapeuticRegimen",e);Jt.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("therapeuticRegimen?offset="+e+"&max=100").then(t=>{Jt.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},getFromProvincial(e){if(e>=0)return O().get("therapeuticRegimen/therapeuticRegimenFromProvicnial/"+e).then(t=>{e=e+100,t.data.length>0?this.getFromProvincial(e):(this.get(0),uh("Lista actualizada com sucesso"))})},async patchWeb(e,t){try{const r=await O().patch("therapeuticRegimen/"+e,t);Jt.save(r.data),uh("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("therapeuticRegimen/"+e);Jt.destroy(e),uh("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return Ao.put(JSON.parse(JSON.stringify(e))).then(()=>{Jt.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return Ao.put(JSON.parse(JSON.stringify(e))).then(()=>{Jt.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return Ao.toArray().then(e=>{Jt.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Ao.delete(e).then(()=>{Jt.destroy(e),uh("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Ao.bulkPut(e).then(()=>{Jt.save(e)}).catch(t=>{console.log(t)})},async getInMobileById(e){return await Ao.where("id").equalsIgnoreCase(e).first()},newInstanceEntity(){return Jt.getModel().$newInstance()},getAllTherapeuticalRegimens(){return Jt.query().with("drugs",e=>{e.with("form"),e.with("clinicalService",t=>{t.with("identifierType")})}).with("clinicalService").with("prescriptionDetails").get()},getAllActiveTherapeuticalRegimens(){return Jt.query().with("drugs",e=>{e.with("form"),e.with("clinicalService",t=>{t.with("identifierType")})}).where("active",!0).get()},getActiveTherapeuticalRegimens(){return Jt.query().where("active",!0).get()},getAllActiveTherapeuticalRegimensByclinicalService(e){return Jt.query().with("drugs",t=>{t.with("form"),t.with("clinicalService",r=>{r.with("identifierType")})}).where(t=>(t.clinical_service_id===e||t.clinicalServiceId==="")&&t.active===!0).get()},getAllTherapeuticalRegimensByclinicalService(e){return Jt.query().with("drugs",t=>{t.with("form"),t.with("clinicalService",r=>{r.with("identifierType")})}).where("clinical_service_id",e).get()},getAllTherapeuticalByclinicalService(e){return Jt.query().with("drugs",t=>{t.with("form"),t.with("clinicalService",r=>{r.with("identifierType"),r.where("clinical_service_id",e)})}).where("active",!0).get()},getAllActiveTherapeuticalHasNoClinicalService(){return Jt.query().with("drugs",e=>{e.with("form")}).where(e=>e.active&&(e.clinical_service_id===null||e.clinical_service_id==="")).get()},getById(e){return Jt.query().where(t=>t.id===e).first()},async getAllByIDsFromDexie(e){return await Ao.where("id").anyOfIgnoreCase(e).toArray()}};const li=he(La),ql=re[La.entity],{alertSucess:rq,alertError:mj}=Ce(),{isMobile:hh,isOnline:ph}=ve();var bd={post(e){return hh.value&&!ph.value?this.addMobile(e):this.postWeb(e)},get(e){if(hh.value&&!ph.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return hh.value&&!ph.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return hh.value&&!ph.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("spetialPrescriptionMotive",e).then(t=>{li.save(t.data)})},async getWeb(e){if(e>=0)return await O().get("spetialPrescriptionMotive?offset="+e+"&max=100").then(t=>{li.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("spetialPrescriptionMotive/"+e,t).then(r=>{li.save(r.data)})},deleteWeb(e){return O().delete("spetialPrescriptionMotive/"+e).then(()=>{li.destroy(e)})},addMobile(e){return ql.put(JSON.parse(JSON.stringify(e))).then(()=>{li.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return ql.put(JSON.parse(JSON.stringify(e))).then(()=>{li.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return ql.toArray().then(e=>{li.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return ql.delete(e).then(()=>{li.destroy(e),rq("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return ql.bulkPut(e).then(()=>{li.save(e)}).catch(t=>{console.log(t)})},async apiGetAll(e,t){return this.get(e)},async apiFetchById(e){return await O().get(`/spetialPrescriptionMotive/${e}`)},newInstanceEntity(){return li.getModel().$newInstance()},getAllFromStorage(){return li.all()},async getAllByIDsFromDexie(e){return await ql.where("id").anyOfIgnoreCase(e).toArray()}};const nr=he(Es),es=re[Es.entity],{alertSucess:nq,alertError:bj}=Ce(),{isMobile:gh,isOnline:yh}=ve();var qs={post(e){return gh.value&&!yh.value?this.addMobile(e):this.postWeb(e)},get(e){if(gh.value&&!yh.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return gh.value&&!yh.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return gh.value&&!yh.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("prescriptionDetails",e).then(t=>{nr.save(t.data)})},getWeb(e){if(e>=0)return O().get("prescriptionDetails?offset="+e+"&max=100").then(t=>{nr.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("prescriptionDetails/"+e,t).then(r=>{nr.save(r.data)})},deleteWeb(e){return O().delete("prescriptionDetails/"+e).then(()=>{nr.destroy(e)})},addMobile(e){return es.put(JSON.parse(JSON.stringify(e))).then(()=>{nr.save(JSON.parse(JSON.stringify(e)))})},putMobile(e){return es.put(JSON.parse(JSON.stringify(e))).then(()=>{nr.save(JSON.parse(JSON.stringify(e)))})},getMobile(){return es.toArray().then(e=>{nr.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return es.delete(e).then(()=>{nr.destroy(e),nq("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(){const e=this.getAllFromStorageForDexie();return es.bulkAdd(e).catch(t=>{console.log(t)})},async apiGetAllByPrescriptionId(e){return await O().get("/prescriptionDetail/prescription/"+e).then(t=>{nr.save(t.data)})},async apiGetAll(){return this.get(0)},async apiFetchById(e){return await O().get(`/prescriptionDetail/${e}`)},newInstanceEntity(){return nr.getModel().$newInstance()},getAllFromStorage(){return nr.all()},getAllFromStorageForDexie(){return nr.makeHidden(["prescription","therapeuticLine","therapeuticRegimen","dispenseType","spetialPrescriptionMotive"]).all()},deleteAllFromStorage(){nr.flush()},getPrescriptionDetailByPrescriptionID(e){return nr.withAll().where(t=>t.prescription_id===e)},getPrescriptionDetailByID(e){return nr.withAll().with("therapeuticRegimen",t=>{t.withAllRecursive(2)}).where(t=>t.id===e).first()},getLastByPrescriprionId(e){return nr.withAllRecursive(1).where("prescription_id",e).first()},async getLastByPrescriprionIdFromDexie(e){const t=await es.where("prescription_id").equals(e).toArray();return nr.save(t),t},async getLastByPrescriprionIdListFromDexie(e){const t=await es.where("prescription_id").anyOf(e).toArray(),r=t.map(c=>c.therapeutic_line_id),n=t.map(c=>c.therapeutic_regimen_id),i=t.map(c=>c.dispense_type_id),s=t.map(c=>c.spetialPrescriptionMotive_id),[a,o,l,u]=await Promise.all([vd.getAllByIDsFromDexie(r),md.getAllByIDsFromDexie(n),al.getAllByIDsFromDexie(i),bd.getAllByIDsFromDexie(s)]);return t.map(c=>{c.therapeuticLine=a.find(d=>d.id===c.therapeutic_line_id),c.therapeuticRegimen=o.find(d=>d.id===c.therapeutic_regimen_id),c.dispenseType=l.find(d=>d.id===c.dispense_type_id),c.spetialPrescriptionMotive=u.find(d=>d.id===c.spetialPrescriptionMotive_id)}),t},async getAllByIDsFromDexie(e){return await es.where("id").anyOfIgnoreCase(e).toArray()},deleteAllFromDexie(){es.clear()}};const Sr=he(Qo),sa=re[Qo.entity],{alertSucess:iq,alertError:_j}=Ce(),{isMobile:vh,isOnline:mh}=ve();var Ws={post(e){return vh.value&&!mh.value?this.addMobile(e):this.postWeb(e)},get(e){if(vh.value&&!mh.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return vh.value&&!mh.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return vh.value&&!mh.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("prescribedDrug",e).then(t=>{Sr.save(t.data)})},getWeb(e){if(e>=0)return O().get("prescribedDrug?offset="+e+"&max=100").then(t=>{Sr.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("prescribedDrug/"+e,t).then(r=>{Sr.save(r.data)})},deleteWeb(e){return O().delete("prescribedDrug/"+e).then(()=>{Sr.destroy(e)})},addMobile(e){return sa.put(JSON.parse(JSON.stringify(e))).then(()=>{Sr.save(JSON.parse(JSON.stringify(e)))})},putMobile(e){return sa.put(JSON.parse(JSON.stringify(e))).then(()=>{Sr.save(JSON.parse(JSON.stringify(e)))})},getMobile(){return sa.toArray().then(e=>{Sr.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return sa.delete(e).then(()=>{Sr.destroy(e),iq("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(){const e=this.getAllFromStorageForDexie();return sa.bulkAdd(e).catch(t=>{console.log(t)})},async getLastByPrescriprionIdFromDexie(e){const t=await sa.where("prescription_id").equals(e).toArray();return Sr.save(t),t},async apiGetAllByPrescriptionId(e){return await O().get("/prescribedDrug/prescription/"+e).then(t=>{Sr.save(t.data)})},async apiGetAll(){return this.get(0)},newInstanceEntity(){return Sr.getModel().$newInstance()},getAllFromStorage(){return Sr.all()},getAllFromStorageForDexie(){return Sr.makeHidden(["prescription","drug"]).all()},deleteAllFromStorage(){Sr.flush()},getLastByPrescriprionId(e){return Sr.where("prescription_id",e).first()},async getAllByPrescriprionIdListFromDexie(e){const t=await sa.where("prescription_id").anyOf(e).toArray(),r=t.map(i=>i.drug_id),[n]=await Promise.all([ll.getAllByIDsFromDexie(r)]);return t.map(i=>{i.drug=n.find(s=>s.id===i.drug_id)}),t},deleteAllFromDexie(){sa.clear()}};const Wt=he(ei),Ci=re[ei.entity],{alertSucess:sq,alertError:xj}=Ce(),{isMobile:pu,isOnline:gu}=ve();var Vr={post(e){return pu.value&&!gu.value?this.putMobile(e):this.postWeb(e)},get(e){if(pu.value&&!gu.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return pu.value&&!gu.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return pu.value&&!gu.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("prescription",e).then(t=>{Wt.save(t.data)})},getWeb(e){if(e>=0)return O().get("prescription?offset="+e+"&max=100").then(t=>{Wt.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("prescription/"+e,t).then(r=>{Wt.save(r.data)})},deleteWeb(e){return O().delete("prescription/"+e).then(()=>{Wt.destroy(e)})},addMobile(e){return Ci.put(JSON.parse(JSON.stringify(e))).then(()=>{Wt.save(JSON.parse(JSON.stringify(e)))})},putMobile(e){return Ci.put(JSON.parse(JSON.stringify(e))).then(()=>{Wt.save(JSON.parse(JSON.stringify(e)))})},async getMobile(){try{const e=await Ci.toArray();Wt.save(e)}catch(e){console.log(e)}},async deleteMobile(e){try{await Ci.delete(e),Wt.destroy(e),sq("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addBulkMobile(){const e=this.getAllFromStorageForDexie();return Ci.bulkPut(e).catch(t=>{console.log(t)})},async apiSave(e){return await this.post(e)},async apiGetAllByClinicId(e,t,r){return await O().get("/prescription/clinic/"+e+"?offset="+t+"&max="+r)},async apiGetAllLastOfClinic(e,t,r){return await O().get("/prescription/AllLastOfClinic/"+e+"?offset="+t+"&max="+r).then(n=>{this.addBulkMobile(n.data)})},async apiFetchById(e){return await O().get(`/prescription/${e}`).then(t=>(Wt.save(t.data),t))},async getPrescriptionMobileById(e){return await Ci.where("id").equalsIgnoreCase(e).first()},async apiFetchLastByIdentifierId(e){return await O().get(`/prescription/identifier/${e}`)},async apiGetByPatientId(e){if(pu.value&&!gu.value)this.get(0);else return await O().get("prescription/patient/"+e).then(t=>{Wt.save(t.data)})},async apiFetchByPatientVisitDetailsId(e,t,r){return await O().get("/prescription/visits/"+e+"?offset="+t+"&max="+r)},async apiGetByClinicId(e){return await O().get("/prescription/clinic/"+e)},newInstanceEntity(){return Wt.getModel().$newInstance()},getAllFromStorage(){return Wt.all()},getAllFromStorageForDexie(){return Wt.makeHidden(["clinic","doctor","patientVisitDetails","prescriptionDetails","duration","prescribedDrugs","groupMemberPrescription"]).all()},deleteAllFromStorage(){Wt.flush()},getPrescriptionByID(e){return Wt.query().with("doctor").with("duration").with("prescriptionDetails").whereId(e).first()},getLastPrescriptionFromPatientVisit(e){return Wt.withAllRecursive(2).where("id",e).orderBy("prescriptionDate","desc").first()},getLastPrescriptionFromPatientVisitDetails(e){return Wt.withAllRecursive(2).where("id",e).orderBy("prescriptionDate","desc").first()},removeFromStorage(e){return Wt.destroy(e)},async getAllMobileByIds(e){const t=await Ci.where("id").anyOf(e).toArray();return Wt.save(t),t},async getPrescriptionsByIds(e){const n=ol.chunkArrayWithOffset(e,100,0),i=[];for(const s of n){const a=await O().post("/prescription/getAllByPrescriptionIds/",s);i.push(...a.data)}this.addBulkMobile(i)},async getByIdFromDexie(e){return Ci.get(e)},async getAllByIDsFromDexie(e){const t=await Ci.where("id").anyOf(e).reverse().sortBy("prescriptionDate"),r=t.map(d=>d.id),n=t.map(d=>d.duration_id),i=t.map(d=>d.doctor_id),s=t.map(d=>d.clinic_id),[a,o,l,u,c]=await Promise.all([Pe.getAllByIDsFromDexie(s),yd.getAllByIDsFromDexie(n),gd.getAllByIDsFromDexie(i),qs.getLastByPrescriprionIdListFromDexie(r),Ws.getAllByPrescriprionIdListFromDexie(r)]);return t.map(d=>{d.clinic=a.find(f=>f.id===d.clinic_id),d.duration=o.find(f=>f.id===d.duration_id),d.doctor=l.find(f=>f.id===d.doctor_id),d.prescriptionDetails=u.filter(f=>f.prescription_id===d.id),d.prescribedDrugs=c.filter(f=>f.prescription_id===d.id)}),t},deleteAllFromDexie(){Ci.clear()}};function ax(){return{notifySuccess:n=>{Xn.create({icon:"announcement",message:n,type:"positive",progress:!0,timeout:5e3,position:"top",color:"positive",textColor:"white",classes:"glossy"})},notifyError:n=>{Xn.create({icon:"announcement",message:n,type:"negative",progress:!0,timeout:5e3,position:"top",color:"negative",textColor:"white",classes:"glossy"})},notifyInfo:n=>{Xn.create({icon:"info",message:n,type:"info",progress:!0,timeout:5e3,position:"top",color:"info",textColor:"white",classes:"glossy"})}}}const en=he(Go),ts=re[Go.entity],{alertSucess:aq,alertError:wj}=Ce(),{isMobile:bh,isOnline:_h}=ve();var Wr={post(e){return bh.value&&!_h.value?this.addMobile(e):this.postWeb(e)},get(e){if(bh.value&&!_h.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return bh.value&&!_h.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return bh.value&&!_h.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("vitalSignsScreening",e).then(t=>{en.save(t.data)})},getWeb(e){if(e>=0)return O().get("vitalSignsScreening?offset="+e+"&max=100").then(t=>{en.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("vitalSignsScreening/"+e,t).then(r=>{en.save(r.data)})},deleteWeb(e){return O().delete("vitalSignsScreening/"+e).then(()=>{en.destroy(e)})},addMobile(e){return ts.put(JSON.parse(JSON.stringify(e))).then(()=>{en.save(JSON.parse(JSON.stringify(e)))}).catch(t=>{console.log(t)})},putMobile(e){return ts.put(JSON.parse(JSON.stringify(e))).then(()=>{en.save(JSON.parse(JSON.stringify(e)))})},getMobile(){return ts.toArray().then(e=>{en.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return ts.delete(e).then(()=>{en.destroy(e),aq("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(){const e=this.getAllFromStorageForDexie();return ts.bulkAdd(e).catch(t=>{console.log(t)})},async getVitalSignsScreeningByVisitIdMobile(e){const t=await ts.where("patient_visit_id").equalsIgnoreCase(e).toArray();return en.save(t),t},async apiGetAll(e,t){return await O().get("/vitalSignsScreening?offset="+e+"&max="+t)},newInstanceEntity(){return en.getModel().$newInstance()},getAllFromStorage(){return en.all()},getAllFromStorageForDexie(){return en.makeHidden(["visit"]).all()},deleteAllFromStorage(){en.flush()},async getAllByIDsFromDexie(e){return await ts.where("id").anyOfIgnoreCase(e).toArray()},async getAllByPatientVisitIDsFromDexie(e){return await ts.where("patient_visit_id").anyOfIgnoreCase(e).toArray()},deleteAllFromDexie(){ts.clear()}};const tn=he(Vo),rs=re[Vo.entity],{alertSucess:oq,alertError:Sj}=Ce(),{isMobile:xh,isOnline:wh}=ve();var jr={post(e){return xh.value&&!wh.value?this.addMobile(e):this.postWeb(e)},get(e){if(xh.value&&!wh.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return xh.value&&!wh.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return xh.value&&!wh.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("pregnancyScreening",e).then(t=>{tn.save(t.data)})},getWeb(e){if(e>=0)return O().get("pregnancyScreening?offset="+e+"&max=100").then(t=>{tn.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("pregnancyScreening/"+e,t).then(r=>{tn.save(r.data)})},deleteWeb(e){return O().delete("pregnancyScreening/"+e).then(()=>{tn.destroy(e)})},addMobile(e){return rs.put(JSON.parse(JSON.stringify(e))).then(()=>{tn.save(JSON.parse(JSON.stringify(e)))})},putMobile(e){return rs.put(JSON.parse(JSON.stringify(e))).then(()=>{tn.save(JSON.parse(JSON.stringify(e)))})},getMobile(){return rs.toArray().then(e=>{tn.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return rs.delete(e).then(()=>{tn.destroy(e),oq("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(){const e=this.getAllFromStorageForDexie();return rs.bulkPut(e).catch(t=>{console.log(t)})},async getPregnancyScreeningsByVisitIdMobile(e){const t=await rs.where("patient_visit_id").equalsIgnoreCase(e).toArray();return tn.save(t),t},async apiGetAll(e,t){return await O().get("/pregnancyScreening?offset="+e+"&max="+t)},async apiGetAllByPatientVisitId(e,t,r){return await O().get("/pregnancyScreening/patientVisit/"+e+"?offset="+t+"&max="+r)},newInstanceEntity(){return tn.getModel().$newInstance()},getAllFromStorage(){return tn.all()},getAllFromStorageForDexie(){return tn.makeHidden(["visit"]).all()},deleteAllFromStorage(){tn.flush()},async getAllByIDsFromDexie(e){return await rs.where("id").anyOfIgnoreCase(e).toArray()},async getAllByPatientVisitIDsFromDexie(e){return await rs.where("patient_visit_id").anyOfIgnoreCase(e).toArray()},deleteAllFromDexie(){rs.clear()}};const rn=he(Uo),ns=re[Uo.entity],{alertSucess:lq,alertError:Dj}=Ce(),{isMobile:Sh,isOnline:Dh}=ve();var Yr={post(e){return Sh.value&&!Dh.value?this.putMobile(e):this.postWeb(e)},get(e){if(Sh.value&&!Dh.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return Sh.value&&!Dh.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return Sh.value&&!Dh.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("rAMScreening",e).then(t=>{rn.save(t.data)})},getWeb(e){if(e>=0)return O().get("rAMScreening?offset="+e+"&max=100").then(t=>{rn.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("rAMScreening/"+e,t).then(r=>{rn.save(r.data)})},deleteWeb(e){return O().delete("rAMScreening/"+e).then(()=>{rn.destroy(e)})},addMobile(e){return ns.put(JSON.parse(JSON.stringify(e))).then(()=>{rn.save(JSON.parse(JSON.stringify(e)))})},putMobile(e){return ns.put(JSON.parse(JSON.stringify(e))).then(()=>{rn.save(JSON.parse(JSON.stringify(e)))})},getMobile(){return ns.toArray().then(e=>{rn.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return ns.delete(e).then(()=>{rn.destroy(e),lq("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(){const e=this.getAllFromStorageForDexie();return ns.bulkAdd(e).catch(t=>{console.log(t)})},async getRAMScreeningByVisitIdMobile(e){const t=await ns.where("patient_visit_id").equalsIgnoreCase(e).toArray();return rn.save(t),t},async apiGetAll(e,t){return await O().get("/RAMScreening?offset="+e+"&max="+t)},newInstanceEntity(){return rn.getModel().$newInstance()},getAllFromStorage(){return rn.all()},getAllFromStorageForDexie(){return rn.makeHidden(["visit"]).all()},deleteAllFromStorage(){rn.flush()},async getAllByIDsFromDexie(e){return await ns.where("id").anyOfIgnoreCase(e).toArray()},async getAllByPatientVisitIDsFromDexie(e){return await ns.where("patient_visit_id").anyOfIgnoreCase(e).toArray()},deleteAllFromDexie(){ns.clear()}};const nn=he(zo),is=re[zo.entity],{alertSucess:cq,alertError:Aj}=Ce(),{isMobile:Ah,isOnline:kh}=ve();var Hr={post(e){return Ah.value&&!kh.value?this.addMobile(e):this.postWeb(e)},get(e){if(Ah.value&&!kh.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return Ah.value&&!kh.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return Ah.value&&!kh.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("tBScreening",e).then(t=>{nn.save(t.data)})},getWeb(e){if(e>=0)return O().get("tBScreening?offset="+e+"&max=100").then(t=>{nn.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("tBScreening/"+e,t).then(r=>{nn.save(r.data)})},deleteWeb(e){return O().delete("tBScreening/"+e).then(()=>{nn.destroy(e)})},addMobile(e){return is.put(JSON.parse(JSON.stringify(e))).then(()=>{nn.save(JSON.parse(JSON.stringify(e)))}).catch(t=>{console.log(t)})},putMobile(e){return is.put(JSON.parse(JSON.stringify(e))).then(()=>{nn.save(JSON.parse(JSON.stringify(e)))})},getMobile(){return is.toArray().then(e=>{nn.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return is.delete(e).then(()=>{nn.destroy(e),cq("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(){const e=this.getAllFromStorageForDexie();return is.bulkAdd(e).catch(t=>{console.log(t)})},async getTBScreeningsByVisitIdMobile(e){const t=await is.where("patient_visit_id").equalsIgnoreCase(e).toArray();return nn.save(t),t},async apiGetAll(e,t){return this.get(e)},newInstanceEntity(){return nn.getModel().$newInstance()},getAllFromStorage(){return nn.all()},getAllFromStorageForDexie(){return nn.makeHidden(["visit"]).all()},deleteAllFromStorage(){nn.flush()},async getAllByIDsFromDexie(e){return await is.where("id").anyOfIgnoreCase(e).toArray()},async getAllByPatientVisitIDsFromDexie(e){return await is.where("patient_visit_id").anyOfIgnoreCase(e).toArray()},deleteAllFromDexie(){is.clear()}};const sn=he(Jo),ss=re[Jo.entity],{alertSucess:uq,alertError:kj}=Ce(),{isMobile:Eh,isOnline:Ch}=ve(),{closeLoading:Ky,showloading:Vy}=ut();var Kr={post(e){return Eh.value&&!Ch.value?this.addMobile(e):this.postWeb(e)},get(e){if(Eh.value&&!Ch.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return Eh.value&&!Ch.value?this.patchMobile(t):this.patchWeb(e,t)},delete(e){return Eh.value&&!Ch.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("adherenceScreening",e).then(t=>{sn.save(t.data)})},getWeb(e){if(e>=0)return O().get("adherenceScreening?offset="+e+"&max=100").then(t=>{sn.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("adherenceScreening/"+e,t).then(r=>{sn.save(r.data)})},deleteWeb(e){return O().delete("adherenceScreening/"+e).then(()=>{sn.destroy(e)})},addMobile(e){return Vy(),ss.put(JSON.parse(JSON.stringify(e))).then(()=>{sn.save(JSON.parse(JSON.stringify(e))),Ky()}).catch(t=>{console.log(t)})},patchMobile(e){return Vy(),ss.put(JSON.parse(JSON.stringify(e))).then(()=>{sn.save(JSON.parse(JSON.stringify(e))),Ky()}).catch(t=>{console.log(t)})},getMobile(){return Vy(),ss.toArray().then(e=>{sn.save(e),Ky()}).catch(e=>{console.log(e)})},deleteMobile(e){return ss.delete(e).then(()=>{sn.destroy(e),uq("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(){const e=this.getAllFromStorageForDexie();return ss.bulkPut(e).catch(t=>{console.log(t)})},async getAdherenceScreeningByVisitIdMobile(e){const t=await ss.where("patient_visit_id").equalsIgnoreCase(e).toArray();return sn.save(t),t},newInstanceEntity(){return sn.getModel().$newInstance()},getAllFromStorage(){return sn.all()},getAllFromStorageForDexie(){return sn.makeHidden(["visit"]).all()},deleteAllFromStorage(){sn.flush()},async getAllByIDsFromDexie(e){return await ss.where("id").anyOfIgnoreCase(e).toArray()},async getAllByPatientVisitIDsFromDexie(e){return await ss.where("patient_visit_id").anyOfIgnoreCase(e).toArray()},deleteAllFromDexie(){ss.clear()}};const _t=he(vn),Je=re[vn.entity],{showloading:eS,closeLoading:Oh}=ut(),{alertSucess:dq,alertError:Ej}=Ce(),{isMobile:Wl,isOnline:jl}=ve(),{notifySuccess:tS,notifyInfo:rS,notifyError:nS}=ax();var Ur={post(e){return Wl.value&&!jl.value?this.addMobile(e):this.postWeb(e)},get(e){if(Wl.value&&!jl.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return Wl.value&&!jl.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return Wl.value&&!jl.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("patientVisit",e).then(t=>{_t.save(t.data)})},getWeb(e){if(e>=0)return O().get("patientVisit?offset="+e+"&max=100").then(t=>{_t.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("patientVisit/"+e,t).then(r=>{_t.save(r.data)})},deleteWeb(e){return O().delete("patientVisit/"+e).then(()=>{_t.destroy(e)})},addMobile(e){return e.syncStatus="R",Je.put(JSON.parse(JSON.stringify(e))).then(()=>{e.patientVisitDetails.forEach(t=>{t.pack.packagedDrugs.forEach(r=>{r.packagedDrugStocks.forEach(n=>{const i=Ks.getStockById(n.stock.id);i.stockMoviment-=r.quantitySupplied,Ks.patch(i.id,i),n.stock_id=n.stock.id,n.drug_id=n.drug.id,n.packagedDrug_id=r.id,SO.addMobile(n)}),t.pack.dispenseMode_id=t.pack.dispenseMode.id,wn.addMobile(t.pack),r.pack_id=t.pack.id,r.drug_id=r.drug.id,Yi.addMobile(r)}),t.prescription.prescribedDrugs.forEach(r=>{r.prescription_id=t.prescription.id,r.drug_id=r.drug.id,Ws.addMobile(r)}),t.prescription.prescriptionDetails.forEach(r=>{r.prescription_id=t.prescription.id,qs.addMobile(r)}),Vr.addMobile(t.prescription),yt.addMobile(t)}),e.vitalSignsScreenings.forEach(t=>{t.patient_visit_id=e.id,Wr.addMobile(t)}),e.tbScreenings.forEach(t=>{t.patient_visit_id=e.id,Hr.addMobile(t)}),e.pregnancyScreenings.forEach(t=>{t.patient_visit_id=e.id,jr.addMobile(t)}),e.adherenceScreenings.forEach(t=>{t.patient_visit_id=e.id,Kr.addMobile(t)}),e.ramScreenings.forEach(t=>{t.patient_visit_id=e.id,Yr.addMobile(t)}),_t.save(e)})},putMobile(e){return Je.put(JSON.parse(JSON.stringify(e))).then(()=>{e.vitalSignsScreenings.forEach(t=>{Wr.addMobile(t)}),e.tbScreenings.forEach(t=>{Hr.addMobile(t)}),e.pregnancyScreenings.forEach(t=>{jr.addMobile(t)}),e.adherenceScreenings.forEach(t=>{Kr.addMobile(t)}),e.ramScreenings.forEach(t=>{Yr.addMobile(t)}),_t.save(JSON.parse(JSON.stringify(e)))})},async getMobile(){const e=await Je.toArray();return _t.save(e),e},async getPatientVisitMobile(){return(await Je.toArray()).filter(r=>r.syncStatus!==void 0&&r.syncStatus!==null&&r.syncStatus!=="")},async deleteMobile(e){try{await Je.delete(e),_t.destroy(e),dq("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addBulkMobile(){const e=this.getAllFromStorage();return Je.bulkPut(e).catch(t=>{console.log(t)})},async apiFetchById(e){return await O().get(`/patientVisit/${e}`)},async apiSave(e){return await this.post(e)},async apiUpdate(e){return await this.patch(e.id,e)},async apiRemove(e){return await this.delete(e)},async apiGetAllByPatientId(e){if(Wl.value&&!jl.value){const t=await Je.where("patientId").equalsIgnoreCase(e).or("patient_id").equalsIgnoreCase(e).toArray();return _t.save(t),t}else{const t=await O().get("/patientVisit/patient/"+e);return _t.save(t.data),t.data}},async apiGetAllPacksByPatientId(e,t){if(Wl.value&&!jl.value){const r=await Je.where("patientId").equalsIgnoreCase(e).or("patient_id").equalsIgnoreCase(e).toArray();_t.save(r);const n=[],i=r.map(a=>a.id),[s]=await Promise.all([yt.getAllByPatientVisitIdsFromDexie(i)]);return s.map(a=>{a.episode.patientServiceIdentifier.service.code===t&&n.push(a.pack)}),n}},async apiGetAllByClinicId(e,t,r){return await O().get("/patientVisit/clinic/"+e+"?offset="+t+"&max="+r)},async apiGetAllLastWithScreeningOfClinic(e,t,r){return await O().get("/patientVisit/AllLastWithScreeningOfClinic/"+e+"?offset="+t+"&max="+r)},async apiGetLastVisitOfPatient(e){return await O().get("/patientVisit/getLastVisitOfPatient/"+e)},async getLocalDbPatientVisitsToSync(){const e=await Je.where("syncStatus").equalsIgnoreCase("R").or("syncStatus").equalsIgnoreCase("U").toArray(),t=e.map(f=>f.id),r=e.map(f=>f.patient_id),n=e.map(f=>f.clinic_id),[i,s,a,o,l,u,c,d]=await Promise.all([Pe.getAllByIDsFromDexie(n),zn.getAllByIDsFromDexie(r),yt.getAllByPatientVisitIdsFromDexie(t),Wr.getAllByPatientVisitIDsFromDexie(t),jr.getAllByPatientVisitIDsFromDexie(t),Yr.getAllByPatientVisitIDsFromDexie(t),Hr.getAllByPatientVisitIDsFromDexie(t),Kr.getAllByPatientVisitIDsFromDexie(t)]);return e.map(f=>{f.clinic=i.find(g=>g.id===f.clinic_id),f.patient=s.find(g=>g.id===f.patient_id),f.patientVisitDetails=a.filter(g=>g.patient_visit_id===f.id),f.vitalSignsScreenings=o.filter(g=>g.patient_visit_id===f.id),f.pregnancyScreenings=l.filter(g=>g.patient_visit_id===f.id),f.ramScreenings=u.filter(g=>g.patient_visit_id===f.id),f.tbScreenings=c.filter(g=>g.patient_visit_id===f.id),f.adherenceScreenings=d.filter(g=>g.patient_visit_id===f.id)}),e},async getLocalDbPatientVisitsNotSynced(e,t){return Je.where("visitDate").between(e,t,!0,!0).and(r=>r.syncStatus==="R").toArray().then(r=>r)},async getLocalDbPatientVisitsBetweenDates(e,t){return Je.where("visitDate").between(e,t,!0,!0).filter(r=>r.syncStatus!==null&&r.syncStatus!==void 0&&r.syncStatus!=="").toArray().then(r=>r)},async getLocalDbPatientVisitsBetweenDatesWithPregnancyScreening(e,t){return Je.where("visitDate").between(e,t,!0,!0).filter(r=>r.pregnancyScreenings.length>0).toArray().then(r=>r)},async getLocalDbPatientVisitsBetweenDatesMonitoredForAdherence(e,t){return Je.where("visitDate").between(e,t,!0,!0).filter(r=>r.tbScreenings.length>0).toArray().then(r=>r)},async getLocalDbPatientVisitsBetweenDatesWithTBScreening(e,t){return Je.where("visitDate").between(e,t,!0,!0).filter(r=>r.tbScreenings.length>0).toArray().then(r=>r)},async getLocalDbPatientVisitsBetweenDatesWithRAMScreening(e,t){return Je.where("visitDate").between(e,t,!0,!0).filter(r=>r.ramScreenings.length>0).toArray().then(r=>r)},async getLocalDbPatientVisitsSyncedAndWithSyncStatusNull(){return Je.orderBy("visitDate").filter(e=>e.syncStatus!==null&&e.syncStatus!==void 0&&e.syncStatus!==""||e.syncStatus!=="S").toArray().then(e=>e)},async getLocalPatientVisitsBetweenDates(e,t){return Je.where("visitDate").between(e,t,!0,!0).toArray().then(r=>r)},async getLocalOnlyPatientVisitsBetweenDates(e,t){return Je.where("visitDate").between(e,t,!0,!0).filter(r=>r.syncStatus!==null&&r.syncStatus!==void 0&&r.syncStatus!==""&&r.syncStatus!=="S").toArray().then(r=>r)},newInstanceEntity(){return _t.getModel().$newInstance()},getAllFromStorage(){return _t.makeHidden(["vitalSignsScreenings","pregnancyScreenings","adherenceScreenings","ramScreenings","tbScreenings"]).all()},deleteAllFromStorage(){_t.flush()},saveInStorage(e){return _t.save(e)},getLastFourWithVitalSignByPatientId(e){return _t.withAllRecursive(2).where("patient_id",e).limit(4).has("vitalSignsScreenings").orderBy("visitDate","desc").get()},getAllWithVitalSignByPatientId(e){return _t.withAllRecursive(3).where("patient_id",e).limit(4).has("vitalSignsScreenings").orderBy("visitDate","desc").get()},getLastFromEpisode(e){return _t.withAllRecursive(2).whereHas("patientVisitDetails",t=>{t.has("prescription"),t.where("episode_id",e)}).orderBy("visitDate","desc").first()},getLastFromPatientVisitList(e){return _t.query().withAllRecursive(2).whereIn("id",e).orderBy("visitDate","desc").first()},getPatientVisitById(e){return _t.withAllRecursive(2).where("id",e).orderBy("visitDate","desc").first()},getAllFromPatient(e){return _t.withAll().whereHas("patientVisitDetails",t=>{t.has("prescription")}).where("patient_id",e).orderBy("visitDate","desc").get()},async getPatientNSql(){return Je.toArray().then(e=>{console.log(e)})},async getPatientVIsitNSqlByPatient(e){return Je.where("id").equalsIgnoreCase(e.id).first().then(t=>{console.log(t),t.patientVisitDetails.forEach(r=>{r.prescription!==void 0&&Prescription.insertOrUpdate({data:r.prescription}),r.pack!==void 0&&Pack.insertOrUpdate({data:r.pack})})})},async localDbGetPacks(){const e=[],r=(await Je.toArray()).map(i=>i.id),[n]=await Promise.all([yt.getAllByIDFullFromDexie(r)]);for(const i of n)e.push(i.pack);return e},async localDbGetAllPatientVisit(){return Je.toArray().then(e=>e)},async getAllMobileById(e){return await Je.where("id").equalsIgnoreCase(e).first()},async countPacksByDispenseTypeAndServiceOnPeriod(e,t,r,n){let i=0;return Je.toArray().then(s=>{for(const a of s)for(const o of a.patientVisitDetails)if(o.pack!==void 0){const l=G(o.pack.pickupDate),u=o.prescription.prescriptionDetails.length>0?o.prescription.prescriptionDetails[0].dispenseType.identifierType:"",c=al.getById(u);l>=r&&l<=n&&o.episode.patientVisit.service.id===t&&c.code===e&&i++}return i})},async doPatientVisitServiceBySectorGet(){try{rS("Carregamento de Dispensas Iniciado"),eS();const t=(await zn.getMobile()).map(a=>a.id),r=Pe.currClinic();console.log(t);const n=100,i=0,s=ol.chunkArrayWithOffset(t,n,i);for(const a of s){const o={ids:a,clinicSector:r};await O().post("/patientVisitDetails/getLastAllByPatientIds/",o).then(l=>{_t.save(l.data)})}return Oh(),tS("Carregamento de Dispensas Terminado"),!0}catch(e){return console.error("An error occurred:",e),Oh(),nS("Ocorreu um erro durante o carregamento de dispensas"),!1}},removeExistingIds(e,t){const r=new Set(t.map(i=>i.id));return e.filter(i=>!r.has(i.id))},async getPatientVisitWithScreeningByPatientIds(e){const n=ol.chunkArrayWithOffset(e,100,0);for(const i of n)await O().post("/patientVisit/getAllLastWithScreeningByPatientIds/",i).then(s=>{_t.save(s.data)})},async getAllLast3VisitsWithScreeningByPatientIds(){try{rS("Carregamento de Atencao Farmaceutica Iniciado"),eS();const t=(await zn.getMobile()).map(l=>l.id),r=100,n=0;let i=0;const s=Xn.create({group:!1,timeout:0,spinner:!0,message:"Carregando Aten\xE7\xE3o Farmaceutica ...",caption:"2%",color:"white",textColor:"primary"}),a=ol.chunkArrayWithOffset(t,r,n),o=[];for(const l of a)i=Math.min(100,i+Math.floor(Math.random()*20)),await O().post("/patientVisit/getAllLast3VisitsWithScreeningByPatientIds/",l).then(u=>{_t.save(u.data),s({caption:`${i}%`})}).catch(u=>{s({type:"negative",spinner:!1,message:"Ocorreu um erro durante o carregamento de Aten\xE7\xE3o Farmaceutica!",timeout:2500,caption:`${i}%`,color:"red",textColor:"white"})});return i=100,s({icon:"done",spinner:!1,message:"Terminado!",caption:`${i}%`,timeout:2500}),Oh(),tS("Carregamento de Dispensas Terminado"),!0}catch(e){return console.error("An error occurred:",e),Oh(),nS("Ocorreu um erro durante a Aten\xE7\xE3o Farmaceutica"),!1}},setPackagedDrugStockNullToSend(e){return e.patientVisitDetails.forEach(t=>{t.clinic={},t.clinic.id=e.clinic_id,t.patientVisit={},t.patientVisit.id=e.id,t.pack.clinic={},t.pack.clinic.id=e.clinic_id,t.pack.packagedDrugs.forEach(r=>{const n=r.drug.id;r.drug={},r.drug.id=n,r.packagedDrugStocks=null}),t.prescription.clinic={},t.prescription.clinic.id=e.clinic_id,t.prescription.prescribedDrugs.forEach(r=>{const n=r.drug.id;r.drug={},r.drug.id=n})}),e},async getAllByIDsFromDexie(e){const t=await Je.where("id").anyOfIgnoreCase(e).toArray(),r=t.map(f=>f.id),n=t.map(f=>f.patient_id),i=t.map(f=>f.clinic_id),[s,a,o,l,u,c,d]=await Promise.all([Pe.getAllByIDsFromDexie(i),zn.getAllByIDsFromDexie(n),Wr.getAllByPatientVisitIDsFromDexie(r),jr.getAllByPatientVisitIDsFromDexie(r),Yr.getAllByPatientVisitIDsFromDexie(r),Hr.getAllByPatientVisitIDsFromDexie(r),Kr.getAllByPatientVisitIDsFromDexie(r)]);return t.map(f=>{f.clinic=s.find(g=>g.id===f.clinic_id),f.patient=a.find(g=>g.id===f.patient_id),f.vitalSignsScreenings=o.filter(g=>g.patient_visit_id===f.id),f.pregnancyScreenings=l.filter(g=>g.patient_visit_id===f.id),f.ramScreenings=u.filter(g=>g.patient_visit_id===f.id),f.tbScreenings=c.filter(g=>g.patient_visit_id===f.id),f.adherenceScreenings=d.filter(g=>g.patient_visit_id===f.id)}),t},async getAllByStartDateAndEndDateFromDexie(e,t){const r=await Je.where("visitDate").between(e,t,!0,!0).toArray(),n=r.map(g=>g.id),i=r.map(g=>g.patient_id),s=r.map(g=>g.clinic_id),[a,o,l,u,c,d,f]=await Promise.all([Pe.getAllByIDsFromDexie(s),zn.getAllByIDsFromDexie(i),Wr.getAllByPatientVisitIDsFromDexie(n),jr.getAllByPatientVisitIDsFromDexie(n),Yr.getAllByPatientVisitIDsFromDexie(n),Hr.getAllByPatientVisitIDsFromDexie(n),Kr.getAllByPatientVisitIDsFromDexie(n)]);return r.map(g=>{g.clinic=a.find(m=>m.id===g.clinic_id),g.patient=o.find(m=>m.id===g.patient_id),g.vitalSignsScreenings=l.filter(m=>m.patient_visit_id===g.id),g.pregnancyScreenings=u.filter(m=>m.patient_visit_id===g.id),g.ramScreenings=c.filter(m=>m.patient_visit_id===g.id),g.tbScreenings=d.filter(m=>m.patient_visit_id===g.id),g.adherenceScreenings=f.filter(m=>m.patient_visit_id===g.id)}),r},async getAllByPatientIDsFromDexie(e){const t=await Je.where("patient_id").anyOfIgnoreCase(e).reverse().sortBy("visitDate"),r=t.map(d=>d.id),n=t.map(d=>d.clinic_id),[i,s,a,o,l,u,c]=await Promise.all([Pe.getAllByIDsFromDexie(n),Wr.getAllByPatientVisitIDsFromDexie(r),jr.getAllByPatientVisitIDsFromDexie(r),Yr.getAllByPatientVisitIDsFromDexie(r),Hr.getAllByPatientVisitIDsFromDexie(r),Kr.getAllByPatientVisitIDsFromDexie(r),yt.getAllByPatientVisitIdsFromDexie(r)]);return t.map(d=>{d.clinic=i.find(f=>f.id===d.clinic_id),d.vitalSignsScreenings=s.filter(f=>f.patient_visit_id===d.id),d.pregnancyScreenings=a.filter(f=>f.patient_visit_id===d.id),d.ramScreenings=o.filter(f=>f.patient_visit_id===d.id),d.tbScreenings=l.filter(f=>f.patient_visit_id===d.id),d.adherenceScreenings=u.filter(f=>f.patient_visit_id===d.id),d.patientVisitDetails=c.filter(f=>f.patient_visit_id===d.id)}),t},async getAll3LastDataByPatientIDsFromDexie(e){const t=await Je.where("patient_id").anyOfIgnoreCase(e).reverse().limit(3).sortBy("visitDate"),r=t.map(d=>d.id),n=t.map(d=>d.clinic_id),[i,s,a,o,l,u,c]=await Promise.all([Pe.getAllByIDsFromDexie(n),Wr.getAllByPatientVisitIDsFromDexie(r),jr.getAllByPatientVisitIDsFromDexie(r),Yr.getAllByPatientVisitIDsFromDexie(r),Hr.getAllByPatientVisitIDsFromDexie(r),Kr.getAllByPatientVisitIDsFromDexie(r),yt.getAllByPatientVisitIdsFromDexie(r)]);return t.map(d=>{d.clinic=i.find(f=>f.id===d.clinic_id),d.vitalSignsScreenings=s.filter(f=>f.patient_visit_id===d.id),d.pregnancyScreenings=a.filter(f=>f.patient_visit_id===d.id),d.ramScreenings=o.filter(f=>f.patient_visit_id===d.id),d.tbScreenings=l.filter(f=>f.patient_visit_id===d.id),d.adherenceScreenings=u.filter(f=>f.patient_visit_id===d.id),d.patientVisitDetails=c.filter(f=>f.patient_visit_id===d.id)}),t},async getAllByIDsNoRelationsFromDexie(e){return await Je.where("id").anyOfIgnoreCase(e).toArray()},deleteAllFromDexie(){Je.clear()}};const ci=he(ws),Yl=re[ws.entity],{closeLoading:fq,showloading:Cj}=ut(),{alertSucess:hq,alertError:Oj}=Ce(),{isMobile:Mh,isOnline:Ih}=ve();var ka={post(e){return Mh.value&&!Ih.value?this.addMobile(e):this.postWeb(e)},get(e){Mh.value&&!Ih.value?this.getMobile():this.getWeb(e)},patch(e,t){if(Mh.value&&!Ih.value)this.putMobile(t);else return this.patchWeb(e,t)},async delete(e){return Mh.value&&!Ih.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("identifierType",e).then(t=>{ci.save(t.data)})},async getWeb(e){if(e>=0)return await O().get("identifierType?offset="+e+"&max=100").then(t=>{ci.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("identifierType/"+e,t).then(r=>{ci.save(r.data)})},deleteWeb(e){return O().delete("identifierType/"+e).then(()=>{ci.destroy(e)})},addMobile(e){return Yl.put(JSON.parse(JSON.stringify(e))).then(()=>{ci.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return Yl.put(JSON.parse(JSON.stringify(e))).then(()=>{ci.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return Yl.toArray().then(e=>{ci.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Yl.delete(e).then(()=>{ci.destroy(e),hq("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Yl.bulkPut(e).then(()=>{ci.save(e)}).catch(t=>{console.log(t)})},newInstanceEntity(){return ci.getModel().$newInstance()},getAllIdentifierTypes(){return ci.query().withAll().get()},getFromProvincial(e){if(e>=0)return O().get("identifierType/identifierTypeFromProvicnial/"+e).then(t=>{e=e+100,t.data.length>0?this.getFromProvincial(e):(this.get(0),fq())})},async getAllByIDsFromDexie(e){return await Yl.where("id").anyOfIgnoreCase(e).toArray()}};const ht=he(Ds),Dr=re[Ds.entity],{alertSucess:pq,alertError:Mj}=Ce(),{isMobile:yu,isOnline:vu}=ve();var Ir={post(e){return yu.value&&!vu.value?this.addMobile(e):this.postWeb(e)},get(e){if(yu.value&&!vu.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return yu.value&&!vu.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return yu.value&&!vu.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("patientServiceIdentifier",e).then(t=>{ht.save(t.data)})},getWeb(e){if(e>=0)return O().get("patientServiceIdentifier?offset="+e+"&max=100").then(t=>{ht.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("patientServiceIdentifier/"+e,t).then(r=>{ht.save(r.data)})},deleteWeb(e){return O().delete("patientServiceIdentifier/"+e).then(()=>{ht.destroy(e)})},addMobile(e){return Dr.add(JSON.parse(JSON.stringify(e))).then(()=>{ht.save(JSON.parse(JSON.stringify(e)))})},putMobile(e){return Dr.put(JSON.parse(JSON.stringify(e))).then(()=>{ht.save(JSON.parse(JSON.stringify(e)))})},async getMobile(){try{const e=await Dr.toArray();return ht.save(e),e}catch(e){console.log(e)}},async deleteMobile(e){try{await Dr.delete(e),ht.destroy(e),pq("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addBulkMobile(){const e=this.getAllFromStorageForDexie();return Dr.bulkPut(e).catch(t=>{console.log(t)})},async getAllMobileByPatientId(e){const t=await Dr.where("patient_id").equalsIgnoreCase(e).toArray();return ht.save(t),t},async apiSave(e,t){return t?await this.post(e):await this.patch(e.id,e)},async apiUpdate(e){return await this.patch(e.id,e)},async apiFetchById(e){return await O().get(`/patientServiceIdentifier/${e}`).then(t=>(ht.save(t.data),t))},async apiFetchByNidValue(e){const t=e.replace(/\//g,"-");return await O().get(`/patientServiceIdentifier/value/${t}`).then(r=>(r.data!==""&&ht.save(r.data),r.data))},async apiGetAllByClinicId(e,t,r){return await O().get("/patientServiceIdentifier/clinic/"+e+"?offset="+t+"&max="+r).then(n=>{ht.save(n.data)})},async apiGetAllByPatientId(e,t,r){return yu.value&&!vu.value?Dr.where("patient_id").equalsIgnoreCase(e).then(n=>(ht.save(n),n)):await O().get("/patientServiceIdentifier/patient/"+e+"?offset="+t+"&max="+r).then(n=>{ht.save(n.data)})},async syncPatientServiceIdentifier(e){e.syncStatus==="R"&&await this.postWeb(e),e.syncStatus==="U"&&await this.patchWeb(e.id,e)},async getLocalDbPatientServiceIdentifierToSync(){return Dr.where("syncStatus").equalsIgnoreCase("R").or("syncStatus").equalsIgnoreCase("U").toArray().then(e=>e)},newInstanceEntity(){return ht.getModel().$newInstance()},getAllFromStorage(){return ht.all()},getAllFromStorageForDexie(){return ht.makeHidden(["identifierType","service","patient","episodes","clinic"]).all()},deleteAllFromStorage(){ht.flush()},identifierCurr(e,t){return ht.withAllRecursive(2).where("id",e).first()},getAllEpisodesByIdentifierId(e){return ht.withAllRecursive(2).whereHas("episodes",t=>{t.whereHas("episodeType",r=>{r.where("code","INICIO")})}).where("id",e).get()},getAllIdentifierWithInicialEpisodeByPatient(e){return ht.withAllRecursive(2).whereHas("episodes",t=>{t.whereHas("episodeType",r=>{r.where("code","INICIO")})}).where("patient_id",e).get()},getAllIdentifierWithREferralEpisodeByPatient(e){return ht.withAllRecursive(2).whereHas("episodes",t=>{t.whereHas("startStopReason",r=>{r.where("code","REFERIDO_PARA").orWhere("code","REFERIDO_DC")})}).where("patient_id",e).get()},curIdentifierById(e){return ht.withAllRecursive(2).where("id",e).first()},localDbGetById(e){return Dr.where("id").equalsIgnoreCase(e).first().then(t=>t)},async localDbGetByPatientId(e){return Dr.where("patient_id").equalsIgnoreCase(e).toArray().then(t=>t)},getLatestIdentifierSlimByPatientId(e){return ht.withAll().where(t=>t.patient_id===e).orderBy("startDate","desc").first()},getPreferredIdentifierByPatientId(e){return ht.withAll().where(t=>(console.log(t),t.patient_id===e&&t.prefered===!0)).orderBy("startDate","desc").first()},async getAllByIDsFromDexie(e){const t=await Dr.where("id").anyOfIgnoreCase(e).toArray(),r=t.map(l=>l.identifier_type_id),n=t.map(l=>l.service_id),i=t.map(l=>l.clinic_id),[s,a,o]=await Promise.all([ka.getAllByIDsFromDexie(r),ms.getAllByIDsFromDexie(n),Pe.getAllByIDsFromDexie(i)]);return t.map(l=>{l.clinic=o.find(u=>u.id===l.clinic_id),l.identifierType=s.find(u=>u.id===l.identifier_type_id),l.service=a.find(u=>u.id===l.service_id)}),t},async getAllByPatientIDsFromDexie(e){const t=await Dr.where("patient_id").equalsIgnoreCase(e).toArray(),r=t.map(l=>l.identifier_type_id),n=t.map(l=>l.service_id),i=t.map(l=>l.clinic_id),[s,a,o]=await Promise.all([ka.getAllByIDsFromDexie(r),ms.getAllByIDsFromDexie(n),Pe.getAllByIDsFromDexie(i)]);return t.map(l=>{l.clinic=o.find(u=>u.id===l.clinic_id),l.identifierType=s.find(u=>u.id===l.identifier_type_id),l.service=a.find(u=>u.id===l.service_id)}),t},async getAllByPatientsIDsFromDexie(e){const t=await Dr.where("patient_id").anyOfIgnoreCase(e).toArray(),r=t.map(c=>c.id),n=t.map(c=>c.identifier_type_id),i=t.map(c=>c.service_id),s=t.map(c=>c.clinic_id),[a,o,l,u]=await Promise.all([ka.getAllByIDsFromDexie(n),ms.getAllByIDsFromDexie(i),Pe.getAllByIDsFromDexie(s),gn.getAllByIdentifierIDsFromDexie(r)]);return t.map(c=>{c.clinic=l.find(d=>d.id===c.clinic_id),c.identifierType=a.find(d=>d.id===c.identifier_type_id),c.service=o.find(d=>d.id===c.service_id),c.episodes=u.filter(d=>d.patientServiceIdentifier_id===c.id)}),t},async getAll3LastDataByPatientsIDsFromDexie(e){const t=await Dr.where("patient_id").anyOfIgnoreCase(e).toArray(),r=t.map(c=>c.id),n=t.map(c=>c.identifier_type_id),i=t.map(c=>c.service_id),s=t.map(c=>c.clinic_id),[a,o,l,u]=await Promise.all([ka.getAllByIDsFromDexie(n),ms.getAllByIDsFromDexie(i),Pe.getAllByIDsFromDexie(s),gn.getAll3LastDataByIdentifierIDsFromDexie(r)]);return t.map(c=>{c.clinic=l.find(d=>d.id===c.clinic_id),c.identifierType=a.find(d=>d.id===c.identifier_type_id),c.service=o.find(d=>d.id===c.service_id),c.episodes=u.filter(d=>d.patientServiceIdentifier_id===c.id)}),t},deleteAllFromDexie(){Dr.clear()}};const Pr=he($a),Hl=re[$a.entity],{alertSucess:gq,alertError:Ij}=Ce(),{isMobile:Bh,isOnline:Fh}=ve();var Ea={post(e){return Bh.value&&!Fh.value?this.addMobile(e):this.postWeb(e)},get(e){if(Bh.value&&!Fh.value)this.getMobile();else return this.getWeb(e)},patch(e,t){if(Bh.value&&!Fh.value)this.putMobile(t);else return this.patchWeb(e,t)},delete(e){return Bh.value&&!Fh.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("startStopReason",e).then(t=>{Pr.save(t.data)})},async getWeb(e){if(e>=0)return await O().get("startStopReason?offset="+e+"&max=100").then(t=>{Pr.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("startStopReason/"+e,t).then(r=>{Pr.save(r.data)})},deleteWeb(e){return O().delete("startStopReason/"+e).then(()=>{Pr.destroy(e)})},addMobile(e){return Hl.put(JSON.parse(JSON.stringify(e))).then(()=>{Pr.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return Hl.put(JSON.parse(JSON.stringify(e))).then(()=>{Pr.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return Hl.toArray().then(e=>{Pr.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Hl.delete(e).then(()=>{Pr.destroy(e),gq("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Hl.bulkPut(e).then(()=>{Pr.save(e)}).catch(t=>{console.log(t)})},async apiGetAll(e,t){return this.get(e)},async apiFetchById(e){return await O().get(`/startStopReason/${e}`)},newInstanceEntity(){return Pr.getModel().$newInstance()},getAllFromStorage(){return Pr.all()},getAllStartReasons(){return Pr.where("isStartReason",!0).orderBy("reason","asc").get()},getAllStopReasons(){return Pr.where("isStartReason",!1).orderBy("reason","asc").get()},getById(e){return Pr.query().where(t=>t.id===e).get()},async getAllByIDsFromDexie(e){return await Hl.where("id").anyOfIgnoreCase(e).toArray()}};const Tn=he(Ra),Kl=re[Ra.entity],{alertSucess:Uy,alertError:Bj}=Ce(),{isMobile:Th,isOnline:Ph}=ve();var Ca={async post(e){return Th.value&&!Ph.value?this.addMobile(e):this.postWeb(e)},get(e){Th.value&&!Ph.value?this.getMobile():this.getWeb(e)},async patch(e,t){Th.value&&!Ph.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return Th.value&&!Ph.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("episodeType",e);Tn.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("episodeType?offset="+e+"&max=100").then(t=>{Tn.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("episodeType/"+e,t);Tn.save(r.data),Uy("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("episodeType/"+e);Tn.destroy(e),Uy("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return Kl.put(JSON.parse(JSON.stringify(e))).then(()=>{Tn.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return Kl.put(JSON.parse(JSON.stringify(e))).then(()=>{Tn.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return Kl.toArray().then(e=>{Tn.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Kl.delete(e).then(()=>{Tn.destroy(e),Uy("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Kl.bulkPut(e).then(()=>{Tn.save(e)}).catch(t=>{console.log(t)})},async apiGetAll(e,t){return this.get(e)},async apiFetchById(e){return await O().get(`/episodeType/${e}`)},newInstanceEntity(){return Tn.getModel().$newInstance()},getAllFromStorage(){return Tn.all()},getEpisodeTypeByCode(e){return Tn.where("code",e).first()},async getAllByIDsFromDexie(e){return await Kl.where("id").anyOfIgnoreCase(e).toArray()}};const rt=he(As),Rr=re[As.entity],{closeLoading:yq}=ut(),{isMobile:mu,isOnline:bu}=ve();var gn={post(e){return mu.value&&!bu.value?this.addMobile(e):this.postWeb(e)},get(e){if(mu.value&&!bu.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return mu.value&&!bu.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return mu.value&&!bu.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("episode",e).then(t=>{rt.save(t.data)})},getWeb(e){if(e>=0)return O().get("episode?offset="+e+"&max=100").then(t=>{rt.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("episode/"+e,t).then(r=>{rt.save(r.data)})},deleteWeb(e){return O().delete("episode/"+e).then(()=>{rt.destroy(e)})},deletePinia(e){return rt.destroy(e)},addMobile(e){return Rr.put(JSON.parse(JSON.stringify(e))).then(()=>{rt.save(e)}).catch(t=>{console.log(t)})},putMobile(e){return Rr.put(JSON.parse(JSON.stringify(e))).then(()=>{rt.save(e)}).catch(t=>{console.log(t)})},async getMobile(){try{const e=await Rr.toArray();e.length===0?O().get("episode?offset=0&max=700").then(t=>{this.addMobile(t.data)}):rt.save(e)}catch(e){console.log(e)}},async deleteMobile(e){return Rr.delete(e).then(()=>{rt.destroy(e)}).catch(t=>{console.log(t)})},addBulkMobile(){const e=this.getAllFromStorageForDexie();return Rr.bulkPut(e).catch(t=>{console.log(t)})},async apiSave(e,t){return t?await this.post(e):await this.patch(e.id,e)},async apiUpdate(e){return await O().patch("/episode/"+e.id,e)},async apiRemove(e){return await O().delete(`/episode/${e.id}`)},async apiGetAllByClinicId(e,t,r){return await O().get("/episode/clinic/"+e+"?offset="+t+"&max="+r)},async apiFetchById(e){return mu.value&&!bu.value?Rr.where("id").equalsIgnoreCase(e).first().then(t=>t):await O().get(`/episode/${e}`).then(t=>(rt.save(t.data),t))},async apiGetAllByIdentifierId(e,t,r){return await O().get("/episode/identifier/"+e+"?offset="+t+"&max="+r).then(n=>(rt.save(n.data),n))},async apiGetLastByClinicSectorId(e){return await O().get("/episode/clinicSector/"+e)},async syncEpisode(e){e.syncStatus==="R"&&await this.postWeb(e),e.syncStatus==="U"&&await this.patchWeb(e.id,e)},async getLocalDbEpisodesToSync(){return await Rr.where("syncStatus").equalsIgnoreCase("R").or("syncStatus").equalsIgnoreCase("U").sortBy("syncStatus").then(e=>e)},async getAllMobileByIds(e){const t=await Rr.where("id").anyOf(e).toArray();return rt.save(t),t},async getAllMobileByPatientServiceIds(e){const t=await Rr.where("patientServiceIdentifier_id").anyOf(e).toArray();return rt.save(t),t},newInstanceEntity(){return rt.getModel().$newInstance()},getAllFromStorage(){return rt.all()},getAllFromStorageForDexie(){return rt.makeHidden(["referralClinic","startStopReason","episodeType","clinicSector","patientServiceIdentifier","patientVisitDetails"]).all()},deleteAllFromStorage(){rt.flush()},getEntity(){return rt.getModel()},lastEpisodeByIdentifier(e){return rt.withAllRecursive(2).where("patientServiceIdentifier_id",e).orderBy("episodeDate","desc").first()},getlast3EpisodesByIdentifier(e){const t=rt.withAllRecursive(2).where("patientServiceIdentifier_id",e).orderBy("episodeDate","desc").limit(3).get();return t.length>1?(t[0].isLast=!0,t[1].isLast=!1):t.length>0&&(t[0].isLast=!0),t},getEpisodeById(e){return rt.withAllRecursive(2).where("id",e).orderBy("episodeDate","desc").first()},getStartEpisodeByIdentifierId(e){return rt.query().with("startStopReason").with("clinicSector").with("patientServiceIdentifier").with("patientVisitDetails",t=>{t.withAllRecursive(2)}).has("patientVisitDetails").whereHas("episodeType",t=>{t.where("code","INICIO")}).where("patientServiceIdentifier_id",e).orderBy("creationDate","desc").first()},getLastStartEpisodeWithPrescription(e){return rt.withAllRecursive(2).whereHas("episodeType",t=>{t.where("code","INICIO")}).has("patientVisitDetails").where("patientServiceIdentifier_id",e).orderBy("episodeDate","desc").first()},getLastRefferedEpisodeWithPrescription(e){return rt.withAllRecursive(2).whereHas("startStopReason",t=>{t.where("code","REFERIDO_DC").orWhere("code","REFERIDO_PARA")}).has("patientVisitDetails").where("patientServiceIdentifier_id",e).orderBy("episodeDate","desc").first()},getLastStopEpisodeByIdentifier(e){return rt.with("startStopReason").whereHas("episodeType",t=>{t.where("code","FIM")}).where("patientServiceIdentifier_id",e).orderBy("episodeDate","desc").first()},getLastStartEpisodeByIdentifier(e){return rt.withAllRecursive(1).where("patientServiceIdentifier_id",e).whereHas("episodeType",t=>{t.where("code","INICIO")}).orderBy("episodeDate","desc").first()},getLastRefferalEpisodeByIdentifier(e){return rt.withAllRecursive(2).whereHas("startStopReason",t=>{t.where("code","REFERIDO_DC").orWhere("code","REFERIDO_PARA")}).where("patientServiceIdentifier_id",e).orderBy("episodeDate","desc").first()},lastEpisode(e){return rt.with("startStopReason").with("episodeType").with("patientServiceIdentifier").with("clinicSector").where("patientServiceIdentifier_id",e).orderBy("episodeDate","desc").first()},async doEpisodesBySectorGet(){await Pe.getMobile(),console.log("user_sector"+localStorage.getItem("clinic_sector_users"));const e=Pe.getByCode(sessionStorage.getItem("clinicUsers"));this.apiGetLastByClinicSectorId(e.id).then(async t=>{t.data.length>0&&(console.log("epsiodioSecotr"+t.data),t.data.forEach(async r=>{this.putMobile(r),console.log(r),Ir.putMobile(r.patientServiceIdentifier);const n=await yt.apiGetLastByEpisodeId(r.id);if(n.data){const i=n.data.patientVisit;n.data.patientVisit={},i.patientVisitDetails[0]=n.data,console.log(i);const s=await Vr.apiFetchById(n.data.prescription.id);if(i.patientVisitDetails[0].prescription=s.data,n.data.pack!==null){const a=await wn.apiFetchById(n.data.pack.id);i.patientVisitDetails[0].pack=a.data,Ur.putMobile(i)}}yq()}))})},async getEpisodeByIds(e){const n=ol.chunkArrayWithOffset(e,100,0),i=[];for(const s of n){const a=await O().post("/episode/getAllByEpisodeIds/",s);i.push(...a.data)}this.addBulkMobile(i)},async getAllByIDsFromDexie(e){const t=await Rr.where("id").anyOfIgnoreCase(e).reverse().sortBy("episodeDate"),r=t.map(f=>f.referralClinic_id),n=t.map(f=>f.startStopReason_id),i=t.map(f=>f.episodeType_id),s=t.map(f=>f.clinicSector_id),a=t.map(f=>f.patientServiceIdentifier_id),[o,l,u,c,d]=await Promise.all([Pe.getAllByIDsFromDexie(r),Ea.getAllByIDsFromDexie(n),Ca.getAllByIDsFromDexie(i),Da.getAllByIDsFromDexie(s),Ir.getAllByIDsFromDexie(a)]);return t.map(f=>{f.referralClinic=o.find(g=>g.id===f.referralClinic_id),f.startStopReason=l.find(g=>g.id===f.startStopReason_id),f.episodeType=u.find(g=>g.id===f.episodeType_id),f.clinicSector=c.find(g=>g.id===f.clinicSector_id),f.patientServiceIdentifier=d.find(g=>g.id===f.patientServiceIdentifier_id)}),t},async getByIDFromDexie(e){const t=await Rr.where("id").equals(e).toArray(),r=t.map(f=>f.referralClinic_id),n=t.map(f=>f.startStopReason_id),i=t.map(f=>f.episodeType_id),s=t.map(f=>f.clinicSector_id),a=t.map(f=>f.patientServiceIdentifier_id),[o,l,u,c,d]=await Promise.all([Pe.getAllByIDsFromDexie(r),Ea.getAllByIDsFromDexie(n),Ca.getAllByIDsFromDexie(i),Da.getAllByIDsFromDexie(s),Ir.getAllByIDsFromDexie(a)]);return t.map(f=>{f.referralClinic=o.find(g=>g.id===f.referralClinic_id),f.startStopReason=l.find(g=>g.id===f.startStopReason_id),f.episodeType=u.find(g=>g.id===f.episodeType_id),f.clinicSector=c.find(g=>g.id===f.clinicSector_id),f.patientServiceIdentifier=d.find(g=>g.id===f.patientServiceIdentifier_id)}),t[0]},async getAllByIdentifierIDsFromDexie(e){const t=await Rr.where("patientServiceIdentifier_id").anyOfIgnoreCase(e).reverse().sortBy("episodeDate"),r=t.map(f=>f.referralClinic_id),n=t.map(f=>f.startStopReason_id),i=t.map(f=>f.episodeType_id),s=t.map(f=>f.clinicSector_id),a=t.map(f=>f.id),[o,l,u,c,d]=await Promise.all([Pe.getAllByIDsFromDexie(r),Ea.getAllByIDsFromDexie(n),Ca.getAllByIDsFromDexie(i),Da.getAllByIDsFromDexie(s),yt.getAllByEpisodeIDsFromDexie(a)]);return t.map(f=>{f.referralClinic=o.find(g=>g.id===f.referralClinic_id),f.startStopReason=l.find(g=>g.id===f.startStopReason_id),f.episodeType=u.find(g=>g.id===f.episodeType_id),f.clinicSector=c.find(g=>g.id===f.clinicSector_id),f.patientVisitDetails=d.filter(g=>g.episode_id===f.id)}),t},async getAll3LastDataByIdentifierIDsFromDexie(e){const t=await Rr.where("patientServiceIdentifier_id").anyOfIgnoreCase(e).reverse().limit(3).sortBy("episodeDate"),r=t.map(f=>f.referralClinic_id),n=t.map(f=>f.startStopReason_id),i=t.map(f=>f.episodeType_id),s=t.map(f=>f.clinicSector_id),a=t.map(f=>f.id),[o,l,u,c,d]=await Promise.all([Pe.getAllByIDsFromDexie(r),Ea.getAllByIDsFromDexie(n),Ca.getAllByIDsFromDexie(i),Da.getAllByIDsFromDexie(s),yt.getAllByEpisodeIDsFromDexie(a)]);return t.map(f=>{f.referralClinic=o.find(g=>g.id===f.referralClinic_id),f.startStopReason=l.find(g=>g.id===f.startStopReason_id),f.episodeType=u.find(g=>g.id===f.episodeType_id),f.clinicSector=c.find(g=>g.id===f.clinicSector_id),f.patientVisitDetails=d.filter(g=>g.episode_id===f.id)}),t},deleteAllFromDexie(){Rr.clear()}};const Ge=he(bn),fr=re[bn.entity],{closeLoading:ko}=ut(),{alertSucess:vq,alertError:mq}=Ce(),{isMobile:_u,isOnline:xu}=ve(),{isProvincialInstalation:Fj,isUserDCP:bq}=lx(),{notifySuccess:_q,notifyInfo:xq}=ax();var zn={post(e){return _u.value&&!xu.value?this.addMobile(e):this.postWeb(e)},get(e){this.getMobile()},patch(e,t){return _u.value&&!xu.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return _u.value&&!xu.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("patient",e).then(t=>{Ge.save(t.data)})},getWeb(e){if(e>=0)return O().get("patient?offset="+e+"&max=100").then(t=>{Ge.save(t.data),e=e+100,t.data.length>0?this.getWeb(e):ko()}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("patient/"+e,t).then(r=>{Ge.save(r.data)})},updateUUID(e,t){return O().patch(`patient/updateuuid/${t}`,e).then(r=>{Ge.save(r.data)})},deleteWeb(e){return O().delete("patient/"+e).then(t=>{Ge.destroy(e)})},async mergePatients(e,t){return await O().post(`patient/mergeUnitePatients/${e}/${t}`)},addMobile(e){return fr.put(JSON.parse(JSON.stringify(e))).then(()=>(Ge.save(JSON.parse(JSON.stringify(e))),e))},putMobile(e){return fr.put(JSON.parse(JSON.stringify(e))).then(()=>(Ge.save(JSON.parse(JSON.stringify(e))),e))},async getMobile(){try{const e=await fr.toArray();return Ge.save(e),e}catch(e){console.log(e)}},async deleteMobile(e){return fr.delete(e).then(()=>{Ge.destroy(e),vq("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},apiFetchById(e){return _u.value&&!xu.value?fr.where("id").equalsIgnoreCase(e).first().then(t=>(Ge.save(t),t)):O().get(`/patient/${e}`).then(t=>(Ge.save(t.data),t))},async apiSearch(e){if(Ge.flush(),_u.value&&!xu.value)return this.getPatientByParams(e).then(t=>{Ge.save(t)}).catch(t=>{console.log(t)});try{const t=await O().post("/patient/search",e);return Ge.save(t.data),ko(),t}catch(t){return console.log(t),ko(),null}},async apiSearchExist(e){try{const t=await O().post("/patient/search",e);return ko(),t.data.length>0}catch(t){return console.log(t),ko(),!1}},async apisearchByParam(e,t){const r=e.replace(/\//g,"-");return console.log(r),await O().get(`/patient/searchByParam/${r}/${t}`).then(n=>(Ge.save(n.data),ko(),n)).catch(n=>{ko()})},async apiopenmrsProgramSearch(e,t,r){return await O().get("/patient/openmrsProgramSearch/"+e+"/"+t+"/"+r)},async apiSearchPatientOnOpenMRS(e,t,r){return await O().get("/patient/openmrsSearch/"+e+"/"+t+"/"+r)},async apiCheckOpenmRSisOn(e,t){return await O().get("/patient/openmrsSession/"+e+"/"+t)},async countPatientSearchResult(e){return await O().post("/patient/countSearch/",e)},async apiSave(e,t){return t?this.post(e):this.patch(e.id,e)},async addBulkMobile(){const e=this.getAllFromStorageToDexie();fr.bulkPut(e).catch(t=>{console.log(t)})},async apiUpdate(e){return await this.patch(e.id,e)},async apiGetAllByClinicId(e,t,r){return await O().get("/patient/clinic/"+e+"?offset="+t+"&max="+r)},async apiGetPatientsByClinicSectorId(e,t,r){return await O().get("/patient/clinicSector/"+e+"?offset="+t+"&max="+r)},async apiGetAllPatientsIsAbandonmentForDCP(e,t){return await O().get("/patient/ape/getAllPatientsIsAbandonment?offset="+e+"&max="+t)},async doPatientsBySectorGet(){xq("Carregamento de Pacientes Iniciado");const e=Pe.currClinic();e==null&&mq("O Utilizador logado nao pertence a nenhum sector clinico , n\xE3o ter\xE1 informa\xE7\xE3o carregada do Servidor");let t;return bq()?t=await this.fetchAllPatientsForDCP():t=await this.fetchAllPatientsByClinicSectorId(e.id),_q("Carregamento de Pacientes Terminado"),t},async fetchAllPatientsByClinicSectorId(e){let t=0;const r=100;let n=!0,i=0;const s=Xn.create({group:!1,timeout:0,spinner:!0,message:"Carregando dados de pacientes ...",caption:"1%",color:"white",textColor:"primary"});for(;n;){i=Math.min(100,i+Math.floor(Math.random()*22));const o=(await this.apiGetPatientsByClinicSectorId(e,t,r)).data;o.length>0?(Ge.save(o),s({caption:`${i}%`}),t+=o.length):(i=100,n=!1)}return i=100,s({icon:"done",spinner:!1,message:"Terminado!",timeout:2500,caption:`${i}%`}),n},async fetchAllPatientsForDCP(){let e=0;const t=100;let r=!0;for(;r;){const i=(await this.apiGetAllPatientsIsAbandonmentForDCP(e,t)).data;i.length>0?(Ge.save(i),e+=i.length):r=!1}return r},async apiSyncPatient(e){e.syncStatus==="R"&&await this.apiSave(e,!0),e.syncStatus==="U"&&await this.apiSave(e,!1)},async getLocalDbPatientsToSync(){return fr.where("syncStatus").equalsIgnoreCase("R").or("syncStatus").equalsIgnoreCase("U").toArray().then(e=>e)},async syncPatient(e){e.syncStatus==="R"&&await this.postWeb(e),e.syncStatus==="U"&&await this.patchWeb(e.id,e)},newInstanceEntity(){return Ge.getModel().$newInstance()},savePatientStorage(e){Ge.save(e)},getAllFromStorage(){return Ge.all()},getAllFromStorageToDexie(){return Ge.makeHidden(["hisSyncStatus"]).all()},getPatientByID(e){return Ge.withAllRecursive(2).whereId(e).first()},async deleteAllExceptIdFromStorage(e){Ge.where(t=>t.id!==e).delete()},deleteAllFromStorage(){Ge.flush()},deletePatientStorage(e){Ge.destroy(e.id)},getPatientSearchList(){return Ge.query().withAllRecursive(2).orderBy("firstNames").orderBy("identifiers.value","asc").get()},getPatientByClinicId(e){return Ge.query().has("identifiers").with("identifiers",t=>{t.with("identifierType").with("service",r=>{r.withAllRecursive(1)}).with("clinic",r=>{r.withAll()})}).with("province").with("district").with("clinic",t=>{t.withAll()}).where(t=>t.clinic_id===e||t.clinicId===e).get()},getPatienWithstByID(e){return Ge.query().has("identifiers").with("identifiers",t=>{t.with("identifierType").with("service",r=>{r.withAllRecursive(1)}).with("clinic",r=>{r.withAllRecursive(1)}).with("episodes",r=>{r.with("episodeType").with("clinicSector").with("startStopReason")})}).with("province").with("district").with("clinic",t=>{t.withAllRecursive(1)}).where("id",e).first()},async getPatientByParams(e){return await fr.filter(r=>{const n=r.firstNames.includes(e.firstNames),i=r.lastNames.includes(e.lastNames),s=r.identifiers.some(a=>a.value.includes(e.identifiers[0].value));return n||i||s}).toArray()},getById(e){return Ge.query().where(t=>t.id===e).first()},async getPatientByIdMobile(e){const t=await fr.where("id").equalsIgnoreCase(e).first(),[r]=await Promise.all([Ir.getAllByPatientIDsFromDexie(t.id)]);return t.identifiers=r,t},async getAllPatientFromDexie(){return await fr.toArray()},async getCountPatientFromDexie(){return await fr.count()},async getPatientMobileWithAllByPatientId(e){const r=(await Ir.getAllMobileByPatientId(e.id)).map(c=>c.id);await gn.getAllMobileByPatientServiceIds(r);const i=(await Ur.apiGetAllByPatientId(e.id)).map(c=>c.id),s=await yt.getAllMobileByVisitId(i),a=s.map(c=>c.prescription_id),o=s.map(c=>c.pack_id),l=await Vr.getAllMobileByIds(a),u=await wn.getAllMobileByIds(o);i.forEach(c=>{Wr.getVitalSignsScreeningByVisitIdMobile(c),Yr.getRAMScreeningByVisitIdMobile(c),Hr.getTBScreeningsByVisitIdMobile(c),Kr.getAdherenceScreeningByVisitIdMobile(c),jr.getPregnancyScreeningsByVisitIdMobile(c)}),l.forEach(c=>{Ws.getLastByPrescriprionIdFromDexie(c.id),qs.getLastByPrescriprionIdFromDexie(c.id)}),u.forEach(c=>{Yi.getAllByPackIdMobile(c.id)})},async getAllByIDsFromDexie(e){return await fr.where("id").anyOfIgnoreCase(e).toArray()},async getAllPatientstWithAllFromDexie(){const e=await fr.toArray(),t=e.map(i=>i.id),[r,n]=await Promise.all([Ur.getAllByPatientIDsFromDexie(t),Ir.getAllByPatientsIDsFromDexie(t)]);return e.map(i=>{i.patientVisits=r.filter(s=>s.patient_id===i.id),i.identifiers=n.filter(s=>s.patient_id===i.id)}),e},async getPatientWithAllFromDexie(e){const t=await fr.where("id").equalsIgnoreCase(e).toArray(),r=t.map(s=>s.id),[n,i]=await Promise.all([Ur.getAllByPatientIDsFromDexie(r),Ir.getAllByPatientsIDsFromDexie(r)]);return t.map(s=>{s.patientVisits=n.filter(a=>a.patient_id===s.id),s.identifiers=i.filter(a=>a.patient_id===s.id)}),t},async getPatient3LastDataWithAllFromDexie(e){const t=await fr.where("id").equalsIgnoreCase(e).toArray(),r=t.map(s=>s.id),[n,i]=await Promise.all([Ur.getAll3LastDataByPatientIDsFromDexie(r),Ir.getAll3LastDataByPatientsIDsFromDexie(r)]);return t.map(s=>{s.patientVisits=n.filter(a=>a.patient_id===s.id),s.identifiers=i.filter(a=>a.patient_id===s.id)}),console.log("Load parient data from dexie"),Ge.save(t),console.log("Load parient data from Pinia"),t},deleteAllFromDexie(){fr.clear()}};const Qe=he(Wi),jt=re[Wi.entity],{closeLoading:iS,showloading:wq}=ut(),{alertSucess:Sq,alertError:Tj}=Ce(),{notifySuccess:Dq,notifyInfo:Aq,notifyError:kq}=ax(),{isMobile:Rh,isOnline:$h}=ve();var yt={post(e){return Rh.value&&!$h.value?this.putMobile(e):this.postWeb(e)},get(e){if(Rh.value&&!$h.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return Rh.value&&!$h.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return Rh.value&&!$h.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("patientVisitDetails",e).then(t=>{Qe.save(t.data)})},getWeb(e){if(e>=0)return O().get("patientVisitDetails?offset="+e+"&max=100").then(t=>{Qe.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("patientVisitDetails/"+e,t).then(r=>{Qe.save(r.data)})},deleteWeb(e){return O().delete("patientVisitDetails/"+e).then(()=>{Qe.destroy(e)})},addMobile(e){return jt.put(JSON.parse(JSON.stringify(e))).then(()=>{Qe.save(e)})},putMobile(e){return jt.put(JSON.parse(JSON.stringify(e))).then(()=>{Qe.save(e)})},async getMobile(){try{const e=await jt.toArray();Qe.save(e)}catch(e){console.log(e)}},async deleteMobile(e){try{await jt.delete(e),Qe.destroy(e),Sq("O Registo foi removido com sucesso")}catch(t){console.log(t)}},async addBulkMobile(){const e=this.getAllFromStorageForDexie();return jt.bulkPut(e).catch(t=>{console.log(t)})},async getAllMobileByVisitId(e){const t=await jt.where("patientVisitId").anyOf(e).toArray();return Qe.save(t),t},async getAllMobileByDetailsId(e){return await jt.where("id").equalsIgnoreCase(e).first()},async countPacksByDispenseTypeAndServiceOnPeriod(e,t,r,n){let i=0;return jt.toArray().then(async s=>{for(const a of s)if(a.pack!==void 0){const o=G(a.pack.pickupDate).format("YYYY-MM-DD");let l=a.prescription;l!==void 0&&(l.prescriptionDetails[0].dispenseType===null||l.prescriptionDetails[0].dispenseType===void 0)&&(l=await Vr.getPrescriptionMobileById(l.id));const u=l.prescriptionDetails.length>0?l.prescriptionDetails[0].dispenseType.id:"",c=al.getById(u);o>=r&&o<=n&&a.episode.patientServiceIdentifier.service.id===t&&c.code===e&&i++}return i})},async doPatientVisitServiceBySectorGet(){try{Aq("Carregamento de Dispensas Iniciado"),wq();const t=(await zn.getMobile()).map(l=>l.id),r=Pe.currClinic(),n=100,i=0;let s=0;const a=Xn.create({group:!1,timeout:0,spinner:!0,message:"Carregando dispensas ...",caption:"2%",color:"white",textColor:"primary"}),o=ol.chunkArrayWithOffset(t,n,i);for(const l of o){s=Math.min(100,s+Math.floor(Math.random()*20));const u={ids:l,clinicSector:r};await O().post("/patientVisitDetails/getLastAllByPatientIds/",u).then(c=>{Qe.save(c.data),a({caption:`${s}%`})}).catch(c=>{a({type:"negative",spinner:!1,message:"Ocorreu um erro durante o carregamento de dispensas!",timeout:2500,caption:`${s}%`,color:"red",textColor:"white"})})}return s=100,a({icon:"done",spinner:!1,message:"Terminado!",caption:`${s}%`,timeout:2500}),iS(),Dq("Carregamento de Dispensas Terminado"),!0}catch(e){return console.error("An error occurred:",e),iS(),kq("Ocorreu um erro durante o carregamento de dispensas"),!1}},async getLocalDbPatientVisitsPickedUpAtUs(e,t,r){const n=[];return jt.toArray().then(async i=>{for(const s of i)if(s.pack!==void 0){const a=G(s.pack.pickupDate).format("YYYY-MM-DD");a>=t&&a<=r&&s.pack.origin!==Pe.currClinic().id&&n.push(s)}return n})},async getLocalDbPatientVisitsExpectedOnDay(e,t,r){const n=[];return jt.toArray().then(async i=>{for(const s of i)if(s.pack!==void 0){const a=G(s.pack.nextPickUpDate).format("YYYY-MM-DD");a>=t&&a<=r&&n.push(s)}return n})},async apiFetchById(e){return await O().get(`/patientVisitDetails/${e}`)},async apiSave(e){return await O().post("/patientVisitDetails",e)},async apiDelete(e){return await O().delete(`/patientVisitDetails/${e.id}`)},async apiGetAllByClinicId(e,t,r){return await O().get("/patientVisitDetails/clinic/"+e+"?offset="+t+"&max="+r)},async apiGetAllLastOfClinic(e,t,r){return await O().get("/patientVisitDetails/AllLastOfClinic/"+e+"?offset="+t+"&max="+r).then(n=>{jt.add(JSON.parse(JSON.stringify(n.data))),Qe.save(n.data)})},async apiGetAllByEpisodeId(e,t,r){return await O().get("/patientVisitDetails/episode/"+e+"?offset="+t+"&max="+r).then(n=>{Qe.save(n.data)})},async apiGetLastByEpisodeId(e){return await O().get("/patientVisitDetails/getLastByEpisodeId/"+e).then(t=>(Qe.save(t.data),t))},async apiGetPatientVisitDetailsByPatientId(e){return await O().get("patientVisitDetails/patientId/"+e).then(t=>{Qe.save(t.data)})},async apiGetAllofPrecription(e){return await O().get("/patientVisitDetails/getAllofPrecription/"+e).then(t=>(Qe.save(t.data),t))},async apiGetAllPatientVisitDetailsByPatientId(e){return await O().get("/patientVisitDetails/getAllByPatient/"+e).then(t=>(console.log(t.data),Qe.save(t.data),t))},async getMobileByPatientVisitIds(e){const t=await jt.where("patientVisitId").anyOf(e);return Qe.save(t),t},newInstanceEntity(){return Qe.getModel().$newInstance()},getAllFromStorage(){return Qe.all()},getAllFromStorageForDexie(){return Qe.makeHidden(["pack","episode","clinic","patientVisit","prescription"]).all()},deleteAllFromStorage(){Qe.flush()},getLastPatientVisitDetailFromPatientVisit(e){return Qe.withAllRecursive(2).has("prescription").where("patient_visit_id",e).first()},getLastPatientVisitDetailFromPatientVisitAndEpisode(e,t){return Qe.withAllRecursive(2).has("prescription").where("patient_visit_id",e).where("episode_id",t).first()},getAllPatientVisitDetailsFromEpisode(e){return Qe.has("pack").has("prescription").where("episode_id",e).get()},getLastPatientVisitDetailsFromEpisode(e){return Qe.withAllRecursive(2).has("pack").has("prescription").where("episode_id",e).first()},getAllPatientVisitByPrescriptioId(e){return Qe.where("prescription_id",e).get()},getAllPatientVisitByPackId(e){return Qe.where("pack_id",e).get()},getPatientVisitDetailsByPackId(e){return Qe.query().where("pack_id",e).first()},getPatientVisitDetailsByPrescriptionId(e){return Qe.query().withAll().where("prescription_id",e).first()},getAllWithAllRecursiveFromPatientAndClinicService(e,t){return Qe.query().withAllRecursive(2).whereHas("patientVisit",r=>{r.where("patient_id",e)}).whereHas("episode",r=>{r.whereHas("patientServiceIdentifier",n=>{n.where("service_id",t)})}).get()},async getPatientVisitDetailsByPackIdFromDexie(e){return await jt.where("pack_id").anyOf(e).toArray()},async getByIdFromDexie(e){return jt.get(e)},async getAllByIDsFromDexie(e){const t=await jt.where("id").anyOf(e).toArray(),r=t.map(c=>c.patient_visit_id),n=t.map(c=>c.episode_id),i=t.map(c=>c.clinic_id),s=t.map(c=>c.prescription_id),[a,o,l,u]=await Promise.all([Pe.getAllByIDsFromDexie(i),gn.getAllByIDsFromDexie(n),Ur.getAllByIDsFromDexie(r),Vr.getAllByIDsFromDexie(s)]);return t.map(c=>{c.clinic=a.find(d=>d.id===c.clinic_id),c.episode=o.find(d=>d.id===c.episode_id),c.patientVisit=l.find(d=>d.id===c.patient_visit_id),c.prescription=u.find(d=>d.id===c.prescription_id)}),t},async getAllByIDFullFromDexie(e){const t=await jt.where("id").anyOf(e).toArray(),r=t.map(c=>c.episode_id),n=t.map(c=>c.clinic_id),i=t.map(c=>c.prescription_id),s=t.map(c=>c.pack_id),[a,o,l,u]=await Promise.all([Pe.getAllByIDsFromDexie(n),gn.getAllByIDsFromDexie(r),Vr.getAllByIDsFromDexie(i),wn.getAllByIDsFromDexie(s)]);return t.map(c=>{c.clinic=a.find(d=>d.id===c.clinic_id),c.episode=o.find(d=>d.id===c.episode_id),c.prescription=l.find(d=>d.id=c.prescription_id),c.pack=u.find(d=>d.id===c.pack_id)}),t},async getAllByPatientVisitIdsFromDexie(e){const t=await jt.where("patient_visit_id").anyOf(e).toArray(),r=t.map(c=>c.episode_id),n=t.map(c=>c.clinic_id),i=t.map(c=>c.prescription_id),s=t.map(c=>c.pack_id),[a,o,l,u]=await Promise.all([Pe.getAllByIDsFromDexie(n),gn.getAllByIDsFromDexie(r),Vr.getAllByIDsFromDexie(i),wn.getAllByIDsFromDexie(s)]);return t.map(c=>{c.clinic=a.find(d=>d.id===c.clinic_id),c.episode=o.find(d=>d.id===c.episode_id),c.prescription=l.find(d=>d.id===c.prescription_id),c.pack=u.find(d=>d.id===c.pack_id)}),t},async getAllByEpisodeIDsFromDexie(e){const t=await jt.where("episode_id").anyOfIgnoreCase(e).toArray(),r=t.map(c=>c.patient_visit_id),n=t.map(c=>c.pack_id),i=t.map(c=>c.clinic_id),s=t.map(c=>c.prescription_id),[a,o,l,u]=await Promise.all([Pe.getAllByIDsFromDexie(i),wn.getAllByIDsFromDexie(n),Ur.getAllByIDsNoRelationsFromDexie(r),Vr.getAllByIDsFromDexie(s)]);return t.map(c=>{c.clinic=a.find(d=>d.id===c.clinic_id),c.pack=o.find(d=>d.id===c.pack_id),c.patientVisit=l.find(d=>d.id===c.patient_visit_id),c.prescription=u.find(d=>d.id===c.prescription_id)}),t},deleteAllFromDexie(){jt.clear()}};const At=he(Os),Ar=re[Os.entity],{getMonthsDateOfTheYear:sS,addDays:Pj}=tq(),{alertSucess:Eq,alertError:Rj}=Ce(),{isMobile:Vl,isOnline:Ul}=ve();var wn={post(e){return Vl.value&&!Ul.value?this.addMobile(e):this.postWeb(e)},get(e){if(Vl.value&&!Ul.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return Vl.value&&!Ul.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return Vl.value&&!Ul.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("pack",e).then(t=>{At.save(t.data)})},getWeb(e){if(e>=0)return O().get("pack?offset="+e+"&max=100").then(t=>{At.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("pack/"+e,t).then(r=>{At.save(r.data)})},deleteWeb(e){return O().delete("pack/"+e).then(()=>{At.destroy(e)})},addMobile(e){return Ar.put(JSON.parse(JSON.stringify(e))).then(()=>{At.save(JSON.parse(JSON.stringify(e)))})},putMobile(e){return Ar.put(JSON.parse(JSON.stringify(e))).then(()=>{At.save(JSON.parse(JSON.stringify(e)))})},getMobile(){return Ar.toArray().then(e=>{At.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Ar.delete(e).then(()=>{At.destroy(e),Eq("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(){const e=this.getAllFromStorageForDexie();return Ar.bulkPut(e).catch(t=>{console.log(t)})},async apiSave(e){return await O().post("/pack",e)},async apiGetAllByClinicId(e,t,r){return await O().get("/pack/clinic/"+e+"?offset="+t+"&max="+r)},async apiGetAllLastOfClinic(e,t,r){return await O().get("/pack/AllLastOfClinic/"+e+"?offset="+t+"&max="+r).then(n=>{this.addMobile(n.data),At.save(n.data)})},async apiGetByPatientId(e){if(Vl.value&&!Ul.value)this.get(0);else return await O().get("pack/patient/"+e).then(t=>{At.save(t.data)})},async apiGetAllByPatientId(e,t){if(Vl.value&&!Ul.value)this.get(0);else return await O().get("pack/getAllByPatient/"+e+"/"+t)},async apiGetAllByPatientVisitDetailsId(e,t,r){return await O().get("/pack/patientVisitDetails/"+e+"?offset="+t+"&max="+r)},async apiGetAllByPrescriptionId(e){return await O().get("/pack/prescription/"+e)},async apiFetchById(e){return await O().get(`/pack/${e}`).then(t=>(At.save(t.data),t))},async getPackMobileById(e){return await Ar.where("id").equalsIgnoreCase(e).first()},newInstanceEntity(){return At.getModel().$newInstance()},getAllFromStorage(){return At.all()},getAllFromStorageForDexie(){return At.makeHidden(["clinic","patientVisitDetails","dispenseMode","packagedDrugs","groupPack","syncStatus"]).all()},deleteAllFromStorage(){At.flush()},removeFromStorage(e){return At.destroy(e)},getPackByID(e){return At.query().whereId(e).first()},getPackWithsByID(e){return At.query().with("dispenseMode").with("packagedDrugs").whereId(e).first()},getLastPackFromPatientVisitAndPrescription(e){return At.withAllRecursive(1).whereHas("patientVisitDetails",t=>{t.where("prescription_id",e)}).orderBy("pickupDate","desc").first()},getLastPackFromEpisode(e){return At.withAllRecursive(1).whereHas("patientVisitDetails",t=>{t.where("episode_id",e)}).orderBy("pickupDate","desc").first()},getPacksFromPatientId(e){return At.withAllRecursive(2).whereHas("patientVisitDetails",t=>{t.whereHas("episode",r=>{r.where("patientServiceIdentifier_id",e)})}).orderBy("pickupDate","desc").get()},getLastPackFromPatientAndDrug(e,t){const r=At.withAllRecursive(3).whereHas("packagedDrugs",n=>{n.where("drug_id",t.id)}).orderBy("pickupDate","desc").first();if(r!=null)return r.packagedDrugs.find(i=>i.drug.id===t.id)},checkIfExistsAnyQuanityRemainForDispense(e){let t=0;for(const r of e)r.quantityRemain>0&&(t+=r.quantityRemain);return t>0},async getAllMobileByIds(e){const t=await Ar.where("id").anyOf(e).toArray();return At.save(t),t},async getPacksByIds(e){const n=ol.chunkArrayWithOffset(e,100,0),i=[];for(const s of n){const a=await O().post("/pack/getAllByPackIds/",s);i.push(...a.data)}},async getAllPacksByStartDateAndEndDateFromDexie(e,t){const r=await Ar.where("pickupDate").between(e,t,!0,!0).reverse().sortBy("pickupDate"),n=r.map(d=>d.id),i=r.map(d=>d.clinic_id),s=r.map(d=>d.dispenseMode_id),[a]=await Promise.all([yt.getPatientVisitDetailsByPackIdFromDexie(n)]),o=a.map(d=>d.id),[l,u,c]=await Promise.all([Pe.getAllByIDsFromDexie(i),hs.getAllByIDsFromDexie(s),yt.getAllByIDsFromDexie(o)]);return r.map(d=>{d.patientvisitDetails=c.find(f=>f.pack_id===d.id),d.dispenseMode=u.find(f=>f.id===d.dispenseMode_id),d.clinic=l.find(f=>f.id===d.clinic_id)}),r},async getTotalPacksInYear(e){const t=sS(e);return await Promise.all(t.map(r=>this.getAllPacksByStartDateAndEndDateFromDexie(r.startDate,r.endDate)))},async getAllActivePacksInYear(e){const t=sS(e),r=new Date;let n="";const i=t[0].startDate;return t.map(s=>{s.month===12&&(r<new Date(s.endDate)?n=G(r).format("YYYY-MM-DD"):n=s.endDate)}),await Promise.all([this.getAllActivePatientByEndDateFromDexie(i,n)])},async getAllByIDsFromDexie(e){const t=await Ar.where("id").anyOf(e).reverse().sortBy("pickupDate"),r=t.map(l=>l.id),n=t.map(l=>l.dispenseMode_id),i=t.map(l=>l.clinic_id),[s,a,o]=await Promise.all([hs.getAllByIDsFromDexie(n),Yi.getAllByIDsFromDexie(r),Pe.getAllByIDsFromDexie(i)]);return t.map(l=>{l.dispenseMode=s.find(u=>u.id===l.dispenseMode_id),l.packagedDrugs=a.filter(u=>u.pack_id===l.id),l.clinic=o.find(u=>u.id===l.clinic_id)}),t},async getAllActivePatientByEndDateFromDexie(e,t){const r=await Ar.where("pickupDate").belowOrEqual(t).and(d=>d.nextPickUpDate>=t).reverse().sortBy("pickupDate"),n=r.map(d=>d.id),i=r.map(d=>d.clinic_id),s=r.map(d=>d.dispenseMode_id),[a]=await Promise.all([yt.getPatientVisitDetailsByPackIdFromDexie(n)]),o=a.map(d=>d.id),[l,u,c]=await Promise.all([Pe.getAllByIDsFromDexie(i),hs.getAllByIDsFromDexie(s),yt.getAllByIDsFromDexie(o)]);return r.map(d=>{d.patientvisitDetails=c.find(f=>f.pack_id===d.id),d.dispenseMode=u.find(f=>f.id===d.dispenseMode_id),d.clinic=l.find(f=>f.id===d.clinic_id)}),r},async getAllExpectedPacksByStartDateAndEndDateFromDexie(e,t){const r=await Ar.where("nextPickUpDate").between(e,t,!0,!0).reverse().sortBy("pickupDate"),n=r.map(d=>d.id),i=r.map(d=>d.clinic_id),s=r.map(d=>d.dispenseMode_id),[a]=await Promise.all([yt.getPatientVisitDetailsByPackIdFromDexie(n)]),o=a.map(d=>d.id),[l,u,c]=await Promise.all([Pe.getAllByIDsFromDexie(i),hs.getAllByIDsFromDexie(s),yt.getAllByIDsFromDexie(o)]);return r.map(d=>{d.patientvisitDetails=c.find(f=>f.pack_id===d.id),d.dispenseMode=u.find(f=>f.id===d.dispenseMode_id),d.clinic=l.find(f=>f.id===d.clinic_id)}),r},async getPacksByIDsFromDexie(e){return await Ar.where("id").anyOfIgnoreCase(e).reverse().sortBy("pickupDate")},async getAllAbsentPacksByStartDateAndEndDateFromDexie(e,t,r){const n=await Ar.where("nextPickUpDate").belowOrEqual(G(e,"YYYY-MM-DD").add(3,"days").format("YYYY-MM-DD")).and(f=>G(t).diff(G(f.nextPickUpDate),"days")>3&&G(t).diff(G(f.nextPickUpDate),"days")<60&&r.find(g=>g.id===f.id)).reverse().sortBy("pickupDate"),i=n.map(f=>f.id),s=n.map(f=>f.clinic_id),a=n.map(f=>f.dispenseMode_id),[o]=await Promise.all([yt.getPatientVisitDetailsByPackIdFromDexie(i)]),l=o.map(f=>f.id),[u,c,d]=await Promise.all([Pe.getAllByIDsFromDexie(s),hs.getAllByIDsFromDexie(a),yt.getAllByIDsFromDexie(l)]);return n.map(f=>{f.patientvisitDetails=d.find(g=>g.pack_id===f.id),f.dispenseMode=c.find(g=>g.id===f.dispenseMode_id),f.clinic=u.find(g=>g.id===f.clinic_id)}),n},async getAllPatientsLastPackForTARVFromDexie(){const e=[],[t]=await Promise.all([zn.getAllPatientstWithAllFromDexie()]);return t.map(r=>{var o;const n=r.identifiers,i=[];let s=[],a=[];if(n.length>0)for(const l of n)l.service.code==="TARV"&&(s=l.episodes);if(s.length>0){for(const l of s)if(l.patientVisitDetails.length>0){a=l.patientVisitDetails;break}}for(const l of a)i.length>0?i[0].pickupDate<((o=l==null?void 0:l.pack)==null?void 0:o.pickupDate)&&(i.pop(),i.push(l==null?void 0:l.pack)):i.push(l==null?void 0:l.pack);e.push(i[0].id)}),await Ar.where("id").anyOfIgnoreCase(e).toArray()},deleteAllFromDexie(){Ar.clear()}};const kr=he(Bs),as=re[Bs.entity],{alertSucess:Cq,alertError:$j}=Ce(),{isMobile:Nh,isOnline:Lh}=ve();var Yi={post(e){return Nh.value&&!Lh.value?this.addMobile(e):this.postWeb(e)},get(e){if(Nh.value&&!Lh.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return Nh.value&&!Lh.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){return Nh.value&&!Lh.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("packagedDrug",e).then(t=>{kr.save(t.data)})},getWeb(e){if(e>=0)return O().get("packagedDrug?offset="+e+"&max=100").then(t=>{kr.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("packagedDrug/"+e,t).then(r=>{kr.save(r.data)})},deleteWeb(e){return O().delete("packagedDrug/"+e).then(()=>{kr.destroy(e)})},addMobile(e){return as.put(JSON.parse(JSON.stringify(e))).then(()=>{kr.save(JSON.parse(JSON.stringify(e)))})},putMobile(e){return as.add(JSON.parse(JSON.stringify(e))).then(()=>{kr.save(JSON.parse(JSON.stringify(e)))})},getMobile(){return as.toArray().then(e=>{kr.save(e)}).catch(e=>{console.log(e)})},addBulkMobile(){const e=this.getAllFromStorageForDexie();return as.bulkAdd(e).catch(t=>{console.log(t)})},async getAllByPackIdMobile(e){const t=await as.where("pack_id").equals(e).toArray(),r=t.map(i=>i.drug_id),[n]=await Promise.all([ll.getAllByIDsFromDexie(r)]);return kr.save(t),t.map(i=>{i.drug=n.find(s=>s.id===i.drug_id)}),t},deleteMobile(e){return as.delete(e).then(()=>{kr.destroy(e),Cq("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},async apiGetAllByPackId(e){return await O().get("/packagedDrug/pack/"+e).then(t=>{kr.save(t.data)})},async apiGetAll(){return await O().get("/packagedDrug?offset="+0+"&max="+200).then(e=>{kr.save(e.data)})},newInstanceEntity(){return kr.getModel().$newInstance()},getAllFromStorage(){return kr.all()},getAllFromStorageForDexie(){return kr.makeHidden(["pack","drug","packagedDrugStocks"]).all()},deleteAllFromStorage(){kr.flush()},async getAllByIDsFromDexie(e){const t=await as.where("pack_id").anyOfIgnoreCase(e).toArray(),r=t.map(i=>i.drug_id),[n]=await Promise.all([ll.getAllByIDsFromDexie(r)]);return t.map(i=>{i.drug=n.find(s=>s.id===i.drug_id)}),t},async getAllPackagedDrugByIDsFromDexie(e){const t=await as.where("id").anyOfIgnoreCase(e).toArray(),r=t.map(i=>i.pack_id),[n]=await Promise.all([wn.getPacksByIDsFromDexie(r)]);return t.map(i=>{i.pack=n.find(s=>s.id===i.pack_id)}),t},deleteAllFromDexie(){as.clear()}};const Pn=he(Is),zl=re[Is.entity],{closeLoading:Oq}=ut(),{alertSucess:zy,alertError:Nj}=Ce(),{isMobile:qh,isOnline:Wh}=ve();var SO={async post(e){return qh&&!Wh?this.addMobile(e):this.postWeb(e)},get(e){qh&&!Wh?this.getMobile():this.getWeb(e)},async patch(e,t){qh&&!Wh?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return qh&&!Wh?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("packagedDrugStock",e);Pn.save(t.data)}catch(t){console.log(t)}},getWeb(e){if(e>=0)return O().get("packagedDrugStock?offset="+e+"&max=100").then(t=>{Pn.save(t.data),e=e+100,t.data.length>0?this.getWeb(e):Oq()}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("packagedDrugStock/"+e,t);Pn.save(r.data),zy("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("packagedDrugStock/"+e);Pn.destroy(e),zy("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return zl.put(JSON.parse(JSON.stringify(e))).then(()=>{Pn.save(JSON.parse(JSON.stringify(e)))}).catch(t=>{console.log(t)})},putMobile(e){return zl.put(JSON.parse(JSON.stringify(e))).then(()=>{Pn.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return zl.toArray().then(e=>{Pn.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return zl.delete(e).then(()=>{Pn.destroy(e),zy("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return zl.bulkAdd(e).then(()=>{Pn.save(e)}).catch(t=>{console.log(t)})},async getAllByStockIDsFromDexie(e){const t=await zl.where("stock_id").anyOfIgnoreCase(e).toArray(),r=t.map(i=>i.packagedDrug_id),[n]=await Promise.all([Yi.getAllPackagedDrugByIDsFromDexie(r)]);return t.map(i=>{i.packagedDrug=n.find(s=>s.id===i.packagedDrug_id)}),t},async apiGetAll(){return await O().get("/packagedDrugStock?offset="+0+"&max="+200)},newInstanceEntity(){return Pn.getModel().$newInstance()},getAllFromStorage(){return Pn.all()},deleteAllFromStorage(){Pn.flush()}};const{closeLoading:Mq,showloading:Iq}=ut(),{isMobile:Lj,isOnline:Bq}=ve(),aa=he(qa),Jy=re[qa.entity];var _d={async get(e){if(Bq.value){if(e>=0)return Iq(),await O().get("/stockOperationType?offset="+e+"&limit=100").then(t=>{aa.save(t.data),e=e+100,t.data.length>0?(this.get(e),setTimeout(this.get,2)):Mq()})}else return Jy.toArray().then(t=>(aa.save(t),t))},getWeb(e){if(e>=0)return O().get("stockOperationType?offset="+e+"&max=100").then(t=>{aa.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},addBulkMobile(e){return Jy.bulkPut(e).then(()=>{aa.save(e)}).catch(t=>{console.log(t)})},async apiGetAll(e,t){return O().get("/stockOperationType?offset="+e+"&max="+t)},getStockOperatinTypeByCode(e){return aa.query().where("code",e).first()},getStockOperatinTypeById(e){return aa.query().where("id",e).first()},async getAllByIDsFromDexie(e){return await Jy.where("id").anyOfIgnoreCase(e).toArray()},getAllFromStorage(){return aa.all()},savePinia(e){aa.save(e)}};const Eo=he(gs),jh=re[gs.entity];var lb={post(e){return O().post("referedStockMoviment",e).then(t=>{Eo.save(t.data)})},get(e){if(e>=0)return O().get("stockReferenceAdjustment?offset="+e+"&max=100").then(t=>{Eo.save(t.data),e=e+100,t.data.length>0&&this.get(e)})},patch(e,t){return O().patch("stockReferenceAdjustment/"+e,t).then(r=>{Eo.save(r.data)})},delete(e){return O().delete("stockReferenceAdjustment/"+e).then(()=>{Eo.destroy(e)})},deleteAllFromStorage(){Eo.flush()},addMobile(e){return jh.put(JSON.parse(JSON.stringify(e))).then(()=>{Eo.save(JSON.parse(JSON.stringify(e)))})},async getBystockMobile(e){return await jh.where("stock_id").equalsIgnoreCase(e.id).toArray().then(t=>(Eo.save(t),t))},async getAllByStockIDsFromDexie(e){const t=await jh.where("adjusted_stock_id").anyOfIgnoreCase(e).toArray(),r=t.map(i=>i.operation_id),[n]=await Promise.all([_d.getAllByIDsFromDexie(r)]);return t.map(i=>{i.operation=n.find(s=>s.id===i.operation_id)}),t},deleteAllFromDexie(){jh.clear()}};const{closeLoading:wu,showloading:qj}=ut(),{isMobile:Fq,isOnline:Jl}=ve(),nt=he(mn),hr=re[mn.entity];var Ks={post(e){return Jl.value?this.postWeb(e):this.addMobile(e)},get(e,t){return Jl.value?this.getWeb(e,t):this.getMobile()},patch(e,t){return Jl.value?this.apiUpdateWeb(e,t):this.putMobile(t)},async delete(e){return Jl.value?this.deleteWeb(e):this.deleteMobile(e)},async getFromBackEnd(e,t){if(e>=0)return await O().get("/stock/clinic/"+t+"?offset="+e+"&max=100").then(r=>{nt.save(r.data),this.addBulkMobile(r.data),console.log("Data synced from backend: stock"),e=e+100,r.data.length>0&&this.getFromBackEnd(e,t)}).catch(r=>{console.error("Error syncing data from backend:",r),console.log(r)})},newInstanceEntity(){return nt.getModel().$newInstance()},async apiSave(e){return O().post("/stock",e)},async apiRemove(e){return O().delete(`/stock/${e}`)},async apiUpdate(e){return O().patch("/stock/"+e.id,e)},async apiGetAll(e,t){return O().get("/stock?offset="+e+"&max="+t)},async apiGetAllByClinicIdWeb(e,t){if(t>=0)return O().get("/stock/clinic/"+e+"?offset="+t+"&max=100").then(r=>{r.data.length>0?(nt.save(r.data),t=t+100,this.apiGetAllByClinicIdWeb(e,t)):wu()})},getStockByDrug(e,t){return nt.where("drug_id",e).where("clinic_id",t).orderBy("expireDate","desc").orderBy("stockMoviment","desc").get()},getValidStockWithDrug(){return nt.with("drug").where(e=>G(e.expireDate,"YYYY-MM-DD").isAfter(G().format("YYYY-MM-DD"))).orderBy("expireDate","desc").get()},getValidStockByDrug(e,t){return nt.where("drug_id",e.id).where("clinic_id",t).orderBy("expireDate","desc").get()},getValidStock(){return nt.withAllRecursive(1).where(e=>G(e.expireDate,"YYYY-MM-DD").isAfter(G().format("YYYY-MM-DD"))).orderBy("drug_id").groupBy("drug_id").get()},getValidStockByDrugAndPickUpDate(e,t){return nt.where("drug_id",e).where("clinic_id",Pe.currClinic().id).where(r=>r.expireDate>t&&r.stockMoviment>0).orderBy("expireDate","asc").get()},getStockList(e){return nt.query().with("clinic").with("entrance").with("packagedDrugStocks").with("adjustments").with("drug").where("id",e).first()},isBatchNumberExists(e){return nt.query().where("batchNumber",e.batchNumber).where("entrance_id",e.entrance_id).get().length>0},getStockById(e){return nt.query().with("drug").with("clinic").with("entrance").with("center").where("id",e).first()},postWeb(e){return O().post("stock",e).then(t=>(nt.save(t.data),t.data))},getWeb(e,t){if(e>=0)return O().get("stock?offset="+e+"&max=100").then(r=>{r.data.forEach(i=>{i.clinic.id!==t&&(i.entrance=null),nt.save(i)}),e=e+100,r.data.length>0?this.get(e,t):wu()})},getStockDistributorWeb(e,t){if(t>=0)return O().get("stock/getStocksByStockDistributor/"+e+"/"+t+"/100").then(r=>{r.data.forEach(i=>{i.entrance=null,nt.save(i)}),t=t+100,r.data.length>0?this.getStockDistributorWeb(e,t):wu()})},async checkStockStatus(e,t,r,n,i){if(Jl.value)return t!==""?O().get("stock/checkStockStatus/"+e+"/"+t+"/"+r+"/"+n+"/"+i).then(s=>(wu(),s.data)):!1;{let s=0;const o=this.getStockByDrug(e,n).filter(l=>G(l.expireDate)>=G(t));return o.length<=0?!1:(o.forEach(l=>{s=Number(s+l.stockMoviment)}),!(s<r))}},apiUpdateWeb(e,t){return O().patch("stock/"+e,t).then(r=>{nt.save(r.data)})},deleteWeb(e){return O().delete("stock/"+e).then(()=>{nt.destroy(e)})},addMobile(e){return hr.put(JSON.parse(JSON.stringify(e))).then(()=>{nt.save(JSON.parse(JSON.stringify(e)))})},async putMobile(e){return hr.put(JSON.parse(JSON.stringify(e))).then(()=>{nt.save(JSON.parse(JSON.stringify(e)))})},async getMobile(){try{const e=await hr.toArray();nt.save(e)}catch(e){console.log(e)}},async getStocksByIds(e){return hr.where("id").anyOf(e).toArray()},async getBystockMobile(e){return await hr.where("id").equalsIgnoreCase(e).toArray()},async getStocksByDrugIdMobile(e){return(await hr.toArray()).filter(n=>n.drug&&n.drug.id===e)},async deleteMobile(e){try{await hr.delete(e),nt.destroy(e)}catch(t){console.log(t)}},async localDbGetAll(){try{const e=await hr.toArray();return nt.save(e),e}catch(e){console.log(e)}},async localDbGetUsedStock(e){return hr.where("drug.clinical_Service_id").equalsIgnoreCase(e.clinicalService).toArray().then(t=>(nt.save(t),t))},localDbGetById(e){return hr.where("id").equalsIgnoreCase(e.id).then(t=>(e.save(t),t))},localDbGetByStockEntranceId(e){return hr.where("entrance_id").equalsIgnoreCase(e.id).then(t=>(nt.save(t),t))},localDbGetByDrug(e){return hr.where("drug_id").equalsIgnoreCase(e.id).then(t=>(nt.save(t),t))},async hasStockMobile(e){try{return(await hr.toArray()).filter(n=>n.drug&&n.drug.id===e.id).length>0}catch(t){console.log(t)}},addBulkMobile(e){const t=this.getAllFromStorage();return hr.bulkPut(t).then(()=>{}).catch(r=>{console.log(r)})},getAllFromStorage(){return nt.all()},async getAllWithPackagedDrugStocksAndAdjustmentsFromDexie(){const e=G(new Date).format("YYYY-MM-DD"),t=await hr.where("expireDate").aboveOrEqual(e).toArray(),r=t.map(l=>l.id),n=t.map(l=>l.entrance_id),[i,s,a,o]=await Promise.all([rx.getAllByIDsFromDexie(n),SO.getAllByStockIDsFromDexie(r),Rp.getAllByStockIDsFromDexie(r),lb.getAllByStockIDsFromDexie(r)]);return t.map(l=>{l.entrance=i.find(u=>u.id===l.entrance_id),l.packagedDrugStocks=s.filter(u=>u.stock_id===l.id),l.adjustments=a.filter(u=>u.adjusted_stock_id===l.id),l.referedAdjustments=o.filter(u=>u.adjusted_stock_id===l.id)}),t},async getValidStockByDrugAndPickUpDateOnline(e,t){return Fq.value&&!Jl.value?this.getValidStockByDrugAndPickUpDate(e,t):O().get("stock/getValidStocks/"+e+"/"+t).then(r=>(wu(),nt.save(r.data),r.data))},deleteAllFromStorage(){nt.flush()},deleteAllFromDexie(){hr.clear()}};const ui=he(Fa),Gl=re[Fa.entity],{alertSucess:Gy,alertError:Wj}=Ce(),{isMobile:Yh,isOnline:Hh}=ve();var xd={async post(e){return Yh.value&&!Hh.value?this.addMobile(e):this.postWeb(e)},get(e){Yh.value&&!Hh.value?this.getMobile():this.getWeb(e)},async patch(e,t){Yh.value&&!Hh.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return Yh.value&&!Hh.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("form",e);ui.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("form?offset="+e+"&max=100").then(t=>{ui.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("form/"+e,t);ui.save(r.data),Gy("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("form/"+e);ui.destroy(e),Gy("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return Gl.put(JSON.parse(JSON.stringify(e))).then(()=>{ui.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return Gl.put(JSON.parse(JSON.stringify(e))).then(()=>{ui.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return Gl.toArray().then(e=>{ui.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Gl.delete(e).then(()=>{ui.destroy(e),Gy("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Gl.bulkPut(e).then(()=>{ui.save(e)}).catch(t=>{console.log(t)})},getAllForms(){return ui.query().withAll().get()},getFormById(e){return ui.query().where("id",e).first()},async getAllByIDsFromDexie(e){return await Gl.where("id").anyOfIgnoreCase(e).toArray()}};const{isMobile:Tq,isOnline:aS}=ve(),{closeLoading:oS,showloading:jj}=ut(),{alertSucess:Qy,alertError:Yj,alertWarning:Hj}=Ce(),Tt=he(br),Ql=re[br.entity];var ll={async post(e){const t=await O().post("drug",e);Tt.save(t.data),Qy("O Registo foi efectuado com sucesso")},async get(e){if(Tq.value&&!aS.value)this.getMobile();else if(e>=0)return await O().get("drug?offset="+e+"&max=100",{onDownloadProgress(t){}}).then(t=>{Tt.save(t.data),e=e+100,t.data.length>0?this.get(e):oS()})},getWeb(e){if(e>=0)return O().get("drug?offset="+e+"&max=100").then(t=>{Tt.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},getFromProvincial(e){if(e>=0)return O().get("drug/drugFromProvicnial/"+e).then(t=>{e=e+100,t.data.length>0?this.getFromProvincial(e):(this.get(0),Qy("Lista actualizada com sucesso"))})},async getInventoryDrugs(e){return aS.value?await this.getInventoryDrugsWeb(e):await this.getInventoryDrugsMobile(e)},async patch(e,t){const r=await O().patch("drug/"+e,t);Tt.save(JSON.parse(r.config.data)),Qy("O Registo foi alterado com sucesso")},async delete(e){await O().delete("drug/"+e),Tt.destroy(e)},async getInventoryDrugsWeb(e){return O().get("drug/getInventoryDrugs/"+e).then(t=>(oS(),t.data))},getMobile(){return Ql.toArray().then(e=>{Tt.save(e)}).catch(e=>{console.log(e)})},async getDrugsByIds(e){return await Ql.where("id").anyOf(e).toArray()},async getMobileDrugById(e){return Ql.where("id").equalsIgnoreCase(e).first().then(t=>t)},async getInventoryDrugsMobile(e){const r=(await Rp.apiGetAdjustmentsByInventoryIdMobile(e)).map(o=>o.adjustedStock.id),i=(await Ks.getStocksByIds(r)).map(o=>o.drug.id),s=await this.getDrugsByIds(i),a=new Map;return s.forEach(o=>{const l=`${o.fnmCode}-${o.name}-${o.id}`;a.has(l)||a.set(l,o)}),Array.from(a.values())},addBulkMobile(e){return Ql.bulkPut(e).then(()=>{Tt.save(e)}).catch(t=>{console.log(t)})},getActiveDrugs(){return Tt.query().withAllRecursive(1).where("active",!0).get()},getDrugsFromListId(e){return Tt.query().withAllRecursive(1).find(e)},getDrugsWithValidStockInList(){return Tt.query().withAllRecursive(1).whereHas("stocks",e=>{e.where(t=>G(t.expireDate,"YYYY-MM-DD").isAfter(G().format("YYYY-MM-DD"))),e.orderBy("expireDate","asc")}).get()},getActiveDrugsByRegimen(e){return Tt.query().withAllRecursive(2).where("active",!0).whereHas("therapeuticRegimenList",t=>{t.where("id",e)}).get()},getDrugById(e){return Tt.query().withAllRecursive(1).whereHas("stocks",t=>{t.orderBy("expireDate","asc")}).where("id",e).first()},getDrugWith1ById(e){return Tt.query().withAllRecursive(1).where("id",e).first()},getDrugWith2ById(e){return Tt.query().withAllRecursive(2).where("id",e).first()},getCleanDrugById(e){return Tt.where("id",e).first()},newInstanceEntity(){return Tt.getModel().$newInstance()},getAllDrugs(){return Tt.withAllRecursive(1).orderBy("name").get()},getAllForAllDrugs(){return Tt.orderBy("name").get()},savePinia(e){Tt.save(e)},async getAllActiveDrugsMobile(){return nSQL("drugs").query("select").exec().then(e=>(Tt.save(e),e))},async hasStock(e){return nSQL("stocks").query("select").where(["drug_id","=",e.id]).exec().then(t=>t.length>0)},async getAllByIDsFromDexie(e){const t=await Ql.where("id").anyOf(e).toArray(),r=t.map(a=>a.form_id),n=t.map(a=>a.clinical_service_id),[i,s]=await Promise.all([xd.getAllByIDsFromDexie(r),ms.getAllByIDsFromDexie(n)]);return t.map(a=>{a.form=i.find(o=>o.id===a.form_id),a.clinicalService=s.find(o=>o.id===a.clinical_service_id)}),t},async getAllWithStocksFromDexie(){const[e]=await Promise.all([Ks.getAllWithPackagedDrugStocksAndAdjustmentsFromDexie()]),t=e.map(n=>n.drug_id),r=await Ql.where("id").anyOfIgnoreCase(t).toArray();return r.map(n=>{n.stocks=e.filter(i=>i.drug_id===n.id)}),r}};const Er=he(_s),Su=_s.entity,{alertSucess:Xy,alertError:Kj}=Ce(),{isMobile:Kh,isOnline:Vh}=ve();var wd={async post(e){Kh.value&&!Vh.value?this.putMobile(e):this.postWeb(e)},get(e){Kh.value&&!Vh.value?this.getMobile():this.getWeb(e)},async patch(e,t){Kh.value&&!Vh.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return Kh.value&&!Vh.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("facilityType",e);Er.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("facilityType?offset="+e+"&max=100").then(t=>{Er.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("facilityType/"+e,t);Er.save(r.data),Xy("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("facilityType/"+e);Er.destroy(e),Xy("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return re[Su].put(JSON.parse(JSON.stringify(e))).then(()=>{Er.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return re[Su].put(JSON.parse(JSON.stringify(e))).then(()=>{Er.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return re[Su].toArray().then(e=>{Er.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return re[Su].delete(e).then(()=>{Er.destroy(e),Xy("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return re[Su].bulkPut(e).then(()=>{Er.save(e)}).catch(t=>{console.log(t)})},getAllFacilityTypes(){return Er.query().get()},getAllFacilityTypesWithoutUS(){return Er.query().where(e=>e.code!="US").get()},getFacilityTypeClinics(){return Er.query().where(e=>e.type==="clinic").get()},getFacilityTypeClinicSector(){return Er.query().where(e=>e.type==="clinic_sector").get()},getFacilityTypeClinicSectorForDC(){return Er.query().where(e=>e.type==="clinic_sector"&&e.code!=="PARAGEM_UNICA"&&e.code!=="PROVEDOR").get()},getFacilityTypeParagemUnica(){return Er.query().where(e=>e.code==="PARAGEM_UNICA").first()}};const{isMobile:Vj,isOnline:Pq}=ve(),os=he(xs);var cb={post(e){return O().post("groupType",e).then(t=>{os.save(t.data)})},patch(e,t){return O().patch("groupType/"+e,t).then(r=>{os.save(r.data)})},delete(e){return O().delete("groupType/"+e).then(()=>{os.destroy(e)})},getWeb(e){if(e>=0)return O().get("groupType?offset="+e+"&max=100").then(t=>{os.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async apiGetAllWeb(){return await O().get("/groupType").then(e=>{os.save(e.data)})},putMobile(e){return $t.nSQL(xs.entity).query("upsert",e).exec().then(()=>{os.save(e)}).catch(t=>{console.log(t)})},getMobile(){return $t.nSQL(xs.entity).query("select").exec().then(e=>{os.save(e)}).catch(e=>{console.log(e)})},get(){Pq.value?this.apiGetAllWeb():this.getMobile()},newInstanceEntity(){return os.getModel().$newInstance()},getAllFromStorage(){return os.all()}};const Rn=he(za),Du=za.entity,{alertSucess:Zy,alertError:Uj}=Ce(),{isMobile:Uh,isOnline:zh}=ve();var U0={async post(e){Uh.value&&!zh.value?this.addMobile(e):this.postWeb(e)},get(e){Uh.value&&!zh.value?this.getMobile():this.getWeb(e)},async patch(e,t){Uh.value&&!zh.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return Uh.value&&!zh.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("patientTransReferenceType",e);Rn.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("patientTransReferenceType?offset="+e+"&max=100").then(t=>{Rn.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("patientTransReferenceType/"+e,t);Rn.save(r.data),Zy("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("patientTransReferenceType/"+e);Rn.destroy(e),Zy("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return re[Du].add(JSON.parse(JSON.stringify(e))).then(()=>{Rn.save(JSON.parse(JSON.stringify(e)))})},putMobile(e){return re[Du].put(JSON.parse(JSON.stringify(e))).then(()=>{Rn.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return re[Du].toArray().then(e=>{Rn.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return re[Du].delete(e).then(()=>{Rn.destroy(e),Zy("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return re[Du].bulkPut(e).then(()=>{Rn.save(e)}).catch(t=>{console.log(t)})},async apiGetAll(e,t){return await O().get("/patientTransReferenceType?offset="+e+"&max="+t)},newInstanceEntity(){return Rn.getModel().$newInstance()},getAllFromStorage(){return Rn.all()},getOperationType(e){return Rn.where("code",e).first()}};const an=he(yn),Au=re[yn.entity],{alertSucess:ev,alertError:zj}=Ce(),{isMobile:Jh,isOnline:Gh}=ve();var Sd={async post(e){Jh.value&&!Gh.value?this.addMobile(e):this.postWeb(e)},get(e){return Jh.value&&!Gh.value?this.getMobile():this.getWeb(e)},async patch(e,t){Jh.value&&!Gh.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return Jh.value&&!Gh.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("province",e);an.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("province?offset="+e+"&max=100").then(t=>{an.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("province/"+e,t);an.save(r.data),ev("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("province/"+e);an.destroy(e),ev("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return Au.put(JSON.parse(JSON.stringify(e))).then(()=>{an.save(JSON.parse(JSON.stringify(e)))})},putMobile(e){return Au.put(JSON.parse(JSON.stringify(e))).then(()=>{an.save(JSON.parse(JSON.stringify(e)))})},getMobile(){return Au.toArray().then(e=>{an.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Au.delete(e).then(()=>{an.destroy(e),ev("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Au.bulkPut(e).then(()=>{an.save(e)}).catch(t=>{console.log(t)})},async apiFetchById(e){return await O().get(`/province/${e}`)},async apiGetAll(e,t){return this.get(e)},apiGetAllWithDistricts(){return an.query().with("districts").get()},getAllProvinces(){return an.query().with("districts").orderBy("code","asc").get()},getAllProvincesById(e){return an.withAllRecursive(1).where("id",e).orderBy("code","asc").first()},getAllProvincesByCode(e){return an.withAllRecursive(1).where("code",e).orderBy("code","asc").first()}};const di=he(rl),ku=re[rl.entity],{alertSucess:tv,alertError:Jj}=Ce(),{isMobile:Qh,isOnline:Xh}=ve();var z0={async post(e){Qh.value&&!Xh.value?this.putMobile(e):this.postWeb(e)},get(e){Qh.value&&!Xh.value?this.getMobile():this.getWeb(e)},async patch(e,t){Qh.value&&!Xh.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return Qh.value&&!Xh.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("provincialServer",e);di.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("provincialServer?offset="+e+"&max=100").then(t=>{di.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("provincialServer/"+e,t);di.save(r.data),tv("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("provincialServer/"+e);di.destroy(e),tv("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return ku.put(JSON.parse(JSON.stringify(e))).then(()=>{di.save(JSON.parse(JSON.stringify(e)))})},putMobile(e){return ku.put(JSON.parse(JSON.stringify(e))).then(()=>{di.save(JSON.parse(JSON.stringify(e)))})},getMobile(){return ku.toArray().then(e=>{di.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return ku.delete(e).then(()=>{di.destroy(e),tv("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return ku.bulkPut(e).then(()=>{di.save(e)}).catch(t=>{console.log(t)})},async apiFetchById(e){return await O().get(`/provincialServer/${e}`)},async apiGetAll(e,t){return this.get(e)},async apiGetAllWithDistricts(){return di.query().with("districts").has("code").get()},getAllFromStorage(){return di.all()}};const{closeLoading:Gj,showloading:Rq}=ut(),{isMobile:$q,isOnline:Nq}=ve(),Oi=he(Ya),lS=re[Ya.entity];var J0={async apiSave(e){const t=await O().post("stockCenter",e);Oi.save(t.data)},get(e){$q.value&&!Nq.value?this.getMobile():this.getWeb(e)},async apiUpdate(e,t){const r=await O().patch("stockCenter/"+e,t);Oi.save(r.data)},async delete(e){await O().delete("stockCenter/"+e),Oi.destroy(e)},async apiFetchById(e){const t=await O().get("/stockCenter/"+e);Oi.save(t.data),t.data.length>0&&setTimeout(this.get,2)},async getWeb(e){if(Rq(),e>=0)return await O().get("stockCenter?offset="+e).then(t=>{Oi.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},getMobile(){return lS.toArray().then(e=>{Oi.save(e)}).catch(e=>{console.log(e)})},async getFromBackEnd(e){if(e>=0)return await O().get("stockCenter?offset="+e+"&max=100").then(t=>{t.data.length>0&&(this.addBulkMobile(t.data),console.log("Data synced from backend: stockCenter"),e=e+100,this.getFromBackEnd(e))}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},addBulkMobile(e){return lS.bulkPut(e).then(()=>{Oi.save(e)}).catch(t=>{console.log(t)})},newInstanceEntity(){return Oi.getModel().$newInstance()},getStockCenter(){return Oi.withAllRecursive(3).where("prefered",!0).first()},getAllFromStorage(){return Oi.all()}};const fi=he(Ba),Eu=re[Ba.entity],{closeLoading:Lq,showloading:Qj}=ut(),{alertSucess:rv,alertError:Xj}=Ce(),{isMobile:Zh,isOnline:e0}=ve();var qq={async post(e){return Zh.value&&!e0.value?this.addMobile(e):this.postWeb(e)},get(e){Zh.value&&!e0.value?this.getMobile():this.getWeb(e)},async patch(e,t){Zh.value&&!e0.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){if(Zh.value&&!e0.value)return this.deleteMobile(e);this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("clinicalServiceAttributeType",e);fi.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("clinicalServiceAttributeType?offset="+e+"&max=100").then(t=>{fi.save(t.data),e=e+100,t.data.length>0?this.getWeb(e):Lq()}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("clinicalServiceAttributeType/"+e,t);fi.save(r.data),rv("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("clinicalServiceAttributeType/"+e);fi.destroy(e),rv("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return Eu.put(JSON.parse(JSON.stringify(e))).then(()=>{fi.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return Eu.add(JSON.parse(JSON.stringify(e))).then(()=>{fi.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return Eu.toArray().then(e=>{fi.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Eu.add(e).then(()=>{fi.destroy(e),rv("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Eu.bulkPut(e).then(()=>{fi.save(e)}).catch(t=>{console.log(t)})},newInstanceEntity(){return fi.getModel().$newInstance()},getAllClinicalServiceAttrTypes(){return fi.query().all()}};const $r=he(kc),Wq=he(Ac),Cu=re[kc.entity],{closeLoading:jq,showloading:Zj}=ut(),{alertSucess:nv,alertError:eY}=Ce(),{isMobile:t0,isOnline:r0}=ve();var Yq={async post(e){return t0.value&&!r0.value?this.putMobile(e):this.postWeb(e)},get(e){t0.value&&!r0.value?this.getMobile():this.getWeb(e)},async patch(e,t){t0.value&&!r0.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return t0.value&&!r0.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("role",e);$r.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("role?offset="+e+"&max=100").then(t=>{$r.save(t.data),e=e+100,t.data.length>0?this.getWeb(e):jq()}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("role/"+e,t);console.log(r.data),r.data&&Wq.where("role_id",r.data.id).delete(),$r.save(r.data),nv("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("role/"+e);$r.destroy(e),nv("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return Cu.put(JSON.parse(JSON.stringify(e))).then(()=>{$r.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return Cu.put(JSON.parse(JSON.stringify(e))).then(()=>{$r.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return Cu.toArray().then(e=>{$r.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Cu.delete(e).then(()=>{$r.destroy(e),nv("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Cu.bulkAdd(e).then(()=>{$r.save(e)}).catch(t=>{console.log(t)})},async apiGetAll(){return await O().get("/role")},async apiSave(e){return await O().post("/role",e)},async apiUpdate(e){return await O().put("/role/",e)},newInstanceEntity(){return $r.getModel().$newInstance()},getAllFromStorage(){return $r.all()},getActiveWithMenus(){return $r.query().with("menus").where("active",!0).get()},getByAuthority(e){return $r.query().where("authority",e).first()},getAllWithMenus(){return $r.query().with("menus").get()}};const $n=he(Ls),Ou=re[Ls.entity],{alertSucess:iv,alertError:tY}=Ce(),{isMobile:n0,isOnline:sv}=ve();var Dd={async post(e){return n0.value&&!sv.value?this.addMobile(e):this.postWeb(e)},get(e){n0.value?this.getMobile():this.getWeb(e)},async patch(e,t){n0.value&&!sv.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return n0.value&&!sv.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("menu",e);$n.save(t.data)}catch(t){console.log(t)}},async getWeb(e){if(e>=0)return await O().get("menu?offset="+e+"&max=100").then(t=>{$n.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("menu/"+e,t);$n.save(r.data),iv("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("menu/"+e);$n.destroy(e),iv("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return Ou.put(JSON.parse(JSON.stringify(e))).then(()=>{$n.save(JSON.parse(JSON.stringify(e)))}).catch(t=>{console.log(t)})},putMobile(e){return Ou.put(JSON.parse(JSON.stringify(e))).then(()=>{$n.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return Ou.toArray().then(e=>{$n.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Ou.delete(e).then(()=>{$n.destroy(e),iv("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Ou.bulkPut(e).then(()=>{$n.save(e)}).catch(t=>{console.log(t)})},async apiGetAll(){return await O().get("/menu")},newInstanceEntity(){return $n.getModel().$newInstance()},getAllFromStorage(){return $n.all()},getAll(){return $n.query().withAll().get()}};const Nn=he($s),Mu=re[$s.entity],{closeLoading:Hq,showloading:rY}=ut(),{alertSucess:Kq,alertError:nY}=Ce(),{isMobile:i0,isOnline:s0}=ve();var Vq={post(e){return i0.value&&!s0.value?this.addMobile(e):this.postWeb(e)},get(e){i0.value&&!s0.value?this.getMobile():this.getWeb(e)},patch(e,t){if(i0.value&&!s0.value)this.putMobile(t);else return this.patchWeb(e,t)},delete(e){return i0.value&&!s0.value?this.deleteMobile(e):this.deleteWeb(e)},postWeb(e){return O().post("secUser",e).then(t=>{Nn.save(t.data)})},async getWeb(e){if(e>=0)return await O().get("secUser?offset="+e+"&max=100").then(t=>{Nn.save(t.data),e=e+100,t.data.length>0?this.getWeb(e):Hq()}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("secUser/"+e,t).then(r=>{Nn.save(r.data)})},deleteWeb(e){return O().delete("secUser/"+e).then(()=>{Nn.destroy(e)})},addMobile(e){return Mu.put(JSON.parse(JSON.stringify(e))).then(()=>{Nn.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return Mu.put(JSON.parse(JSON.stringify(e))).then(()=>{Nn.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return Mu.toArray().then(e=>{Nn.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Mu.delete(e).then(()=>{Nn.destroy(e),Kq("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Mu.bulkAdd(e).then(()=>{Nn.save(e)}).catch(t=>{console.log(t)})},async apiGetAll(e,t){return this.get(e)},async apiSave(e){return this.post(e)},newInstanceEntity(){return Nn.getModel().$newInstance()},getAllFromStorage(){return Nn.all()},getAllUsers(){return Nn.query().with("clinics",e=>{e.with("province"),e.with("facilityType"),e.with("district",t=>{t.with("province")}),e.with("parentClinic",t=>{t.with("province"),t.with("facilityType"),t.with("district",r=>{r.with("province")})})}).get()}};function Uq(){function e(t){let r=null;return t.forEach(n=>{(r===null||r===""||n.prescription.prescriptionDate>r.prescription.prescriptionDate)&&(r=n)}),r}return{lastGroupMemberPrescription:e}}const{isOnline:cS,isMobile:iY}=ve(),on=he(Ss),zq=re[Ss.entity];var $p={post(e){return O().post("groupMemberPrescription",e).then(t=>{on.save(t.data)})},get(e){if(e>=0)return O().get("groupMemberPrescription?offset="+e+"&max=100").then(t=>{on.save(t.data),e=e+100,t.data.length>0&&this.get(e)})},patch(e,t){return O().patch("groupMemberPrescription/"+e,t).then(r=>{on.save(r.data)})},async delete(e){return await O().delete("groupMemberPrescription/"+e).then(()=>(on.destroy(e),e))},async apiFetchById(e){return await O().get(`/groupMemberPrescription/${e}`)},async apiFetchByMemberId(e){return cS.value?await O().get(`/groupMemberPrescription/member/${e}`).then(t=>(t.data!==""&&on.save(t.data),t)):$t.nSQL("groupMemberPrescriptions").query("select").where(["member.id","=",e]).exec().then(t=>{console.log("groupsssMember"+t),on.save(t)})},async apiSave(e){let t=null;return cS.value?(t=await O().post("/groupMemberPrescription",e),on.save(t.data)):(e.syncStatus="R",t=await $t.nSQL(Ss.entity).query("upsert",e).exec(),console.log("criacaoPrescricaoMembroMobile"+e),on.save(e)),t},async apiUpdate(e){return await O().post("/groupMemberPrescription",e)},newInstanceEntity(){return on.getModel().$newInstance()},getAllFromStorage(){return on.all()},deleteFromStorageById(e){return on.destroy(e)},deleteAllFromStorage(){on.flush()},getGroupMemberPrescriptionByMemberId(e){const t=on.query().with("prescription",n=>{n.withAllRecursive(2)}).where("member_id",e).get();return Uq().lastGroupMemberPrescription(t)},deleteAllFromDexie(){zq.clear()}};const Ln=he(Ko),Xl=re[Ko.entity],{alertSucess:Jq,alertError:sY}=Ce(),{isMobile:a0,isOnline:o0}=ve();var Ad={post(e){return a0.value&&!o0.value?this.putMobile(e):this.postWeb(e)},get(e){if(a0.value&&!o0.value)this.getMobile();else return this.getWeb(e)},patch(e,t){return a0.value&&!o0.value?this.putMobile(t):this.patchWeb(e,t)},delete(e){if(a0.value&&!o0.value)this.deleteMobile(e);else return this.deleteWeb(e)},postWeb(e){return O().post("appointment",e).then(t=>{Ln.save(t.data)})},getWeb(e){if(e>=0)return O().get("appointment?offset="+e+"&max=100").then(t=>{Ln.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},patchWeb(e,t){return O().patch("appointment/"+e,t).then(r=>{Ln.save(r.data)})},deleteWeb(e){return O().delete("appointment/"+e).then(()=>{Ln.destroy(e)})},addMobile(e){return Xl.put(JSON.parse(JSON.stringify(e))).then(()=>{Ln.save(e)}).catch(t=>{console.log(t)})},putMobile(e){return Xl.put(JSON.parse(JSON.stringify(e))).then(()=>{Ln.save(e)}).catch(t=>{console.log(t)})},getMobile(){return Xl.toArray().then(e=>{Ln.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Xl.delete(e).then(()=>{Ln.destroy(e),Jq("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Xl.bulkAdd(e).then(()=>{Ln.save(e)}).catch(t=>{console.log(t)})},newInstanceEntity(){return Ln.getModel().$newInstance()},deleteAllFromStorage(){Ln.flush()},getAllFromStorage(){return Ln.all()},deleteAllFromDexie(){Xl.clear()}};const Gt=he(_i),uS=re[_i.entity],{isMobile:aY,isOnline:l0}=ve(),{alertSucess:oY,alertError:Gq,alertInfo:lY}=Ce(),{closeLoading:dS}=ut();var cl={get(e){if(e>=0)return l0.value?O().get("groupInfo?offset="+e+"&max=100").then(t=>{Gt.save(t.data),dS(),e=e+100,t.data.length>0&&this.get(e)}):uS.then(t=>{Gt.save(t),dS()})},patch(e,t){return O().patch("group/"+e,t).then(r=>{Gt.save(r.data)})},delete(e){return O().delete("group/"+e).then(()=>{Gt.destroy(e)})},async apiFetchById(e){return l0.value?await O().get(`/groupInfo/${e}`).then(t=>(Gt.save(t.data),t)):nSQL(_i.entity).query("select").where(["id","=",e]).exec().then(t=>{Gt.save(t)})},async postWeb(e){try{const t=await O().post("/groupInfo",e);return Gt.save(t.data),t}catch(t){console.log(t)}},async apiSave(e){let t=null;return l0.value?(t=await O().post("/groupInfo",e),Gt.save(t.data),t):(e.syncStatus="R",t=await nSQL("groups").query("upsert",e).exec(),console.log("criacaoGrupo"+e),Gt.save(e),t)},async apiUpdate(e){if(l0.value)return await O().patch("/groupInfo/"+e.id,e).then(t=>(Gt.save(t.data),t.data)).catch(t=>{const r=[];if(t.request.response!=null){const n=JSON.parse(t.request.response);n.total==null?r.push(n.message):n._embedded.errors.forEach(i=>{r.push(i.message)})}Gq("Ocorreu um erro inesperado nesta opera\xE7\xE3o.")});{e.syncStatus!=="R"&&(e.syncStatus="U");const t=await nSQL("groups").query("upsert",e).exec();return console.log("edicaoGrupo"+e),Gt.save(e),t}},async apiValidateBeforeAdd(e,t){return await O().get(`/groupInfo/validadePatient/${e}/${t}/${dispenseTypeCode}`)},async getLocalDbGroupsToSync(){return nSQL(_i.entity).query("select").where([["syncStatus","=","R"],"OR",["syncStatus","=","U"]]).exec().then(e=>e)},getAllGroups(){return Gt.query().with("groupType").with("dispenseType").with("service").get()},getGroupById(e){return Gt.withAllRecursive(3).where("id",e).first()},newInstanceEntity(){return Gt.getModel().$newInstance()},getAllFromStorage(){return Gt.all()},deleteAllFromStorage(){Gt.flush()},getGroupWithsById(e){return Gt.with("members",t=>{t.withAllRecursive(1)}).with("service",t=>{t.with("identifierType")}).with("groupType").with("dispenseType").with("clinic",t=>{t.withAllRecursive(1)}).with("packHeaders",t=>{t.withAllRecursive(1)}).where("id",e).first()},getGroupByPatientAndService(e,t){return Gt.withAll().with("groupType").with("dispenseType").where("endDate",null).where("clinical_service_id",t).whereHas("members",r=>{r.where("patient_id",e).where("endDate",null)}).orderBy("startDate","desc").first()},deleteAllFromDexie(){uS.clear()}};class G0 extends J{static fields(){return{id:this.attr(null),lastPrescriptionDate:this.attr(""),lastPickupDate:this.attr(""),nextPickupDate:this.attr(""),NID:this.attr(""),fullName:this.attr(""),validade:this.attr(""),lastPrescriptionDateMember:this.attr(""),validadeNova:this.attr(""),groupId:this.attr(""),patientId:this.attr(""),patientServiceId:this.attr(""),episodeId:this.attr(""),groupMemberId:this.attr(""),membershipEndDate:this.attr("")}}}B(G0,"entity","GroupMemberInfos"),B(G0,"primaryKey","id"),B(G0,"piniaOptions",{persist:!0});const{isOnline:fS,isMobile:cY}=ve(),qn=he(Ps),Qq=re[Ps.entity],Xq=he(G0);var kd={post(e){return O().post("groupMember",e).then(t=>{qn.save(t.data)})},get(e){if(e>=0)return O().get("groupMember?offset="+e+"&max=100").then(t=>{qn.save(t.data),e=e+100,t.data.length>0&&this.get(e)})},patch(e,t){return O().patch("groupMember/"+e,t).then(r=>{qn.save(r.data)})},delete(e){return O().delete("groupMember/"+e).then(()=>{qn.destroy(e)})},async apiGetGroupMemberInfo(e){return await O().get(`/groupMember/groupMemberInfo/${e}`).then(t=>(Xq.save(t.data),t.data))},async apiUpdate(e){if(fS.value)return await O().patch("/groupMember/"+e.id,e).then(t=>{qn.save(t.data)});{const t=cl.getGroupWithsById(e.group_id);t.members.filter(n=>n.id===e.id);const r=t.members.findIndex(n=>n.id===e.id);t.members.splice(r,1,e),t.members.forEach(n=>{const i=n.patient.id;n.patient={},n.clinic={},n.group={},n.patient.id=i,n.patient_id=i,n.clinic_id=t.clinic.id,n.clinic.id=t.clinic.id,n.group.id=t.id,n.syncStatus="R"}),qn.save(e),cl.apiUpdate(t)}},async getPatientGroupByPatientId(e){if(fS.value)return await O().get(`/groupMember/groupMemberInfoPatient/${e}`).then(t=>{qn.save(t.data)})},newInstanceEntity(){return qn.getModel().$newInstance()},getAllFromStorage(){return qn.withAll().all()},deleteAllFromStorage(){qn.flush()},getMemberByPatientIdAndGroupId(e,t){return qn.withAllRecursive(2).where("patient_id",e).where("group_id",t).first()},getMemberById(e){return qn.withAllRecursive(2).where("id",e).first()},deleteAllFromDexie(){Qq.clear()}};const Iu=he(ps),Zq=re[ps.entity];var eW={apiSave(e){return O().post("stockDestructionAdjustment",e).then(t=>{Iu.save(t.data)})},get(e){if(e>=0)return O().get("stockDestructionAdjustment?offset="+e+"&max=100").then(t=>{Iu.save(t.data),e=e+100,t.data.length>0&&this.get(e)})},apiUpdate(e,t){return O().patch("stockDestructionAdjustment/"+e,t).then(r=>{Iu.save(r.data)})},apiRemove(e){return O().delete("stockDestructionAdjustment/"+e).then(()=>{Iu.destroy(e)})},deleteAllFromStorage(){Iu.flush()},deleteAllFromDexie(){Zq.clear()}};function DO(){async function e(){Jn.get(0),Sd.get(0),pd.get(0),Pe.get(0),Dd.get(0)}async function t(){md.get(0),ms.get(0),Da.get(0),qq.get(0),ka.get(0),Ca.get(0),wd.get(0),Ea.get(0),yd.get(0),vd.get(0),xd.get(0),ll.get(0),al.get(0),V0.get(0),K0.get(0),J0.get(0),wd.get(0),mL.get(0),U0.get(0),bd.get(0),z0.get(0),gd.get(0),hs.get(0),Sd.get(0),pd.get(0),Yq.get(0),Dd.get(0),Vq.get(0),_d.get(0),cb.get()}function r(){zn.doPatientsBySectorGet(),gn.doEpisodesBySectorGet()}function n(){yt.deleteAllFromStorage(),qs.deleteAllFromStorage(),Ws.deleteAllFromStorage(),$p.deleteAllFromStorage(),Vr.deleteAllFromStorage(),Ur.deleteAllFromStorage(),Yr.deleteAllFromStorage(),Kr.deleteAllFromStorage(),jr.deleteAllFromStorage(),Hr.deleteAllFromStorage(),Wr.deleteAllFromStorage(),gn.deleteAllFromStorage(),Yi.deleteAllFromStorage(),wn.deleteAllFromStorage(),Ad.deleteAllFromStorage(),kd.deleteAllFromStorage(),cl.deleteAllFromStorage(),Ir.deleteAllFromStorage(),zn.deleteAllFromStorage(),Ks.deleteAllFromStorage(),lb.deleteAllFromStorage(),eW.deleteAllFromStorage(),Rp.deleteAllFromStorage(),Pp.deleteAllFromStorage()}function i(){yt.deleteAllFromDexie(),qs.deleteAllFromDexie(),Ws.deleteAllFromDexie(),Vr.deleteAllFromDexie(),Ur.deleteAllFromDexie(),Yr.deleteAllFromDexie(),Kr.deleteAllFromDexie(),jr.deleteAllFromDexie(),Hr.deleteAllFromDexie(),Wr.deleteAllFromDexie(),gn.deleteAllFromDexie(),Yi.deleteAllFromDexie(),wn.deleteAllFromDexie(),Ad.deleteAllFromDexie(),kd.deleteAllFromDexie(),cl.deleteAllFromDexie(),Ir.deleteAllFromDexie(),zn.deleteAllFromDexie(),Ks.deleteAllFromDexie(),lb.deleteAllFromDexie(),Rp.deleteAllFromDexie(),Pp.deleteAllFromDexie()}function s(){yt.deleteAllFromStorage(),qs.deleteAllFromStorage(),Ws.deleteAllFromStorage(),$p.deleteAllFromStorage(),Vr.deleteAllFromStorage(),Ur.deleteAllFromStorage(),Yr.deleteAllFromStorage(),Kr.deleteAllFromStorage(),jr.deleteAllFromStorage(),Hr.deleteAllFromStorage(),Wr.deleteAllFromStorage(),gn.deleteAllFromStorage(),Yi.deleteAllFromStorage(),wn.deleteAllFromStorage(),Ad.deleteAllFromStorage(),kd.deleteAllFromStorage(),cl.deleteAllFromStorage(),Ir.deleteAllFromStorage()}return{loadSettingParams:t,loadPatientData:r,deleteStorageInfo:n,deleteDexieInfo:i,deleteStorageWithoutPatientInfo:s,loadConfigsSettings:e}}const Bu=he($s);he(pc);const{isMobile:hS,isOnline:uY}=ve(),{deleteStorageInfo:tW,deleteDexieInfo:rW}=DO(),c0=re[$s.entity];var AO={logout(){tW(),hS.value||rW()},fetchUsers(){return O().get("secUser").catch(e=>{e.response?(console.log(e.response),alert(e.response.data)):e.request?console.log(e.request):console.log("Error",e.message)})},signup(e){return O().post("user/signup",e).catch(t=>{t.response?(console.log(t.response),alert(t.response.data)):t.request?console.log(t.request):console.log("Error",t.message)})},login(e){return O().post("/login",e).then(t=>(hS.value&&(this.addMobile(t.data),localStorage.setItem("sync_pass",a$.encryptPlainText("user.sync"))),Bu.save(t.data),t)).catch(t=>{t.response?(Xn.create({icon:"announcement",message:t.response.data.message,type:"negative",progress:!0,position:"top",color:"negative",textColor:"white",classes:"glossy"}),console.log("O erro: ",t.response)):(Xn.create({icon:"announcement",message:"Problemas ao conectar-se com o Servidor. ",type:"negative",progress:!0,timeout:3e3,position:"top",color:"negative",textColor:"white",classes:"glossy"}),console.log("Error",t.message))})},updateUser(e){return O().put("secUser/"+e.id,e).catch(t=>{t.response?console.log(t.response):t.request?console.log(t.request):console.log("Error",t.message)})},getUser(e){return O().get("secUser/"+e.id).then(t=>{console.log(t)}).catch(t=>{t.response?console.log(t.response):t.request?console.log(t.request):console.log("Error",t.message)})},deleteUser(e){return O().delete("user/"+e).catch(t=>{t.response?console.log(t.response):t.request?console.log(t.request):console.log("Error",t.message)})},refreshToken(){var r;const e=sessionStorage.getItem("refresh_token"),t=(r=localStorage.getItem("backend_url"))==null?void 0:r.replace("/api","");return Wk.post(t+"/oauth/access_token?grant_type=refresh_token&refresh_token="+e).then(n=>n)},getUserByUserName(e){return Bu.query().where("username",e).first()},addMobile(e){return c0.put(JSON.parse(JSON.stringify(e))).then(()=>{Bu.save(JSON.parse(JSON.stringify(e)))})},putMobile(e){return c0.put(JSON.parse(JSON.stringify(e))).then(()=>{Bu.save(JSON.parse(JSON.stringify(e)))})},async getMobile(){try{const e=await c0.toArray();return Bu.save(e),e}catch(e){console.log(e)}},async getLogedUser(){return await c0.orderBy("id").first()}};function nW(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(i){i(r)}),(n=e.get("*"))&&n.slice().map(function(i){i(t,r)})}}}const iW=nW(),{website:sW}=ve(),{closeLoading:pS}=ut(),ox=Wk.create({baseURL:sW.value?"/api":localStorage.getItem("backend_url")});ox.interceptors.request.use(e=>{const t=sessionStorage.getItem("user");return e.headers={Accept:"application/json","Cache-Control":"no-store, no-cache","content-encoding":"gzip"},e.url==="/province"||e.url==="/district"||e.url.includes("/clinic/district")||e.url==="/systemConfigs"||e.url==="/menu"||e.url.includes("/clinic/uuid")?delete e.headers.Authorization:t!=null&&t!="null"?(localStorage.getItem("tokenExpiration"),AO.getUserByUserName(String(t)),e.headers["X-Auth-Token"]=["",sessionStorage.getItem("id_token")].join(" ")):delete e.headers.Authorization,e},e=>{Promise.reject(e)});ox.interceptors.response.use(function(e){return e},function(e){const t=e.config,r=sessionStorage.getItem("refresh_token");return r!=null&&r.length>10?e.response!==void 0?(e.response.status===403||e.response.status===401)&&!t._retry&&(pS(),Xn.create({icon:"announcement",message:"Terminou a sess\xE3o. ",type:"negative",progress:!0,timeout:0,position:"top",color:"negative",textColor:"white",classes:"glossy",actions:[{label:"Fechar",color:"yellow",handler:()=>{window.location.href="/#/Logout"}}]})):(pS(),Xn.create({icon:"announcement",message:"Problemas ao conectar-se com o Servidor. ",type:"negative",progress:!0,timeout:0,position:"top",color:"negative",textColor:"white",classes:"glossy",actions:[{label:"Tentar novamente",color:"yellow",handler:()=>{location.reload()}}]})):String(e.message).includes("Network Error")&&(iW.emit("notification",!0),Xn.create({icon:"announcement",message:"Problemas ao conectar-se com o Servidor. ",type:"negative",progress:!0,timeout:0,position:"top",color:"negative",textColor:"white",classes:"glossy",actions:[{label:"Tentar novamente",color:"yellow",handler:()=>{location.reload()}}]})),Promise.reject(e)});var O=()=>ox;const pr=he(nl),Fu=re[nl.entity],{alertSucess:av,alertError:dY}=Ce(),{isMobile:u0,isOnline:d0}=ve();var Jn={async post(e){return u0.value&&!d0.value?this.putMobile(e):this.postWeb(e)},get(e){return u0.value&&!d0.value?this.getMobile():this.getWeb(e)},async patch(e,t){u0.value&&!d0.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return u0.value&&!d0.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{console.log(O().instance);const t=await O().post("systemConfigs",e);pr.save(t.data)}catch(t){console.log(t)}},getWeb(e){if(e>=0)return O().get("systemConfigs?offset="+e+"&max=100").then(t=>{pr.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("systemConfigs/"+e,t);pr.save(r.data),av("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("systemConfigs/"+e);pr.destroy(e),av("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return Fu.put(JSON.parse(JSON.stringify(e))).then(()=>{pr.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return Fu.put(JSON.parse(JSON.stringify(e))).then(()=>{pr.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return Fu.toArray().then(e=>{pr.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Fu.delete(e).then(()=>{pr.destroy(e),av("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Fu.bulkPut(e).then(()=>{pr.save(e)}).catch(t=>{console.log(t)})},async apiFetchById(e){return await O().get(`/systemConfigs/${e}`)},async apiGetAll(){return await this.get(0)},async apiSave(e){return await this.post(e)},newInstanceEntity(){return pr.getModel().$newInstance()},getAllFromStorage(){return pr.all()},saveInStorage(e){return pr.save(e)},getActiveDataMigration(){return pr.query().where("key","ACTIVATE_DATA_MIGRATION").first()},getInstallationType(){return pr.query().where("key","INSTALATION_TYPE").first()},getApiURL(){return pr.query().where("key","API_URL").first()},deleteAllFromStorage(){pr.flush()}};function lx(){const{isMobile:e,website:t}=ve();function r(){const g=Jn.getInstallationType();return g!=null&&!e.value?g.value==="PROVINCIAL":!1}function n(){const g=Jn.getInstallationType();return g!=null?g.value==="PROVINCIAL"&&s():!1}function i(){const g=Jn.getInstallationType();return g!=null?g.description:""}function s(){const g=Ti.getItem("userFacilityTypeCode");return g==="FP"||g==="FC"||g==="APE"||g==="PROVEDOR"}function a(){const g=Ti.getItem("userFacilityTypeCode");return g==="FP"||g==="FC"}function o(){const g=Ti.getItem("userFacilityTypeCode");return g==="CLINICA_MOVEL"||g==="BRIGADA_MOVEL"||g==="APE"||g==="PROVEDOR"}function l(){const g=Ti.getItem("userFacilityTypeCode");return g==="CLINICA_MOVEL"||g==="BRIGADA_MOVEL"}function u(){return Ti.getItem("userFacilityTypeCode")==="PROVEDOR"}function c(){const g=Ti.getItem("userFacilityTypeCode");return g&&g==="APE"}function d(){const g=Jn.getInstallationType();return g!=null?g.value==="PROVINCIAL"&&l():!1}function f(){const g=Jn.getInstallationType();return g!=null?g.value==="LOCAL":!1}return{isProvincialInstalation:r,localProvincialInstalationCode:i,isMobileClinic:l,isProvincialInstalationMobileClinic:d,isProvincialInstalationPharmacysMode:n,isUserAPE:c,isPharmacyDDDOrAPEOrDCP:s,isOnlyPharmacyDDDO:a,isOnlyComunitaryDispense:o,isUserDCP:u,isLocalInstalation:f}}lx();function ve(){gT("(min-width: 1024px)");const e=q(()=>!Fo.is.mobile),t=q(()=>!!Fo.is.desktop),r=q(()=>!!Fo.is.mobile),n=q(()=>!!Fo.is.electron),i=q(()=>{if(e.value)return!0;const s=Ti.getItem("clinicUsers"),a=Ti.getItem("userFacilityTypeCode"),o=["FP","FC","PROVEDOR","APE","CLINICA_MOVEL","BRIGADA_MOVEL"];return!s||s.includes("NORMAL")||o.every(l=>a&&a.includes(l))});return{website:e,isDeskTop:t,isMobile:r,isElectron:n,isOnline:i}}var tt={async hasData(e){return await e.count()<=0}};const gS=re[Rs.entity];var ov={async getFromBackEnd(e){if(e>=0)return await O().get("healthInformationSystem?offset="+e+"&max=100").then(t=>{K0.addBulkMobile(t.data),console.log("Data synced from backend: HealthInformationSystem"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania HealthInformationSystem"),await tt.hasData(gS)&&await K0.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie HealthInformationSystem");const e=K0.getAllFromStorage();await gS.bulkPut(e)}};const Nr=he(Va),Tu=re[Va.entity],{alertSucess:lv,alertError:fY}=Ce(),{isMobile:f0,isOnline:h0}=ve();var cv={async post(e){return f0&&!h0?this.addMobile(e):this.postWeb(e)},get(e){f0&&!h0?this.getMobile():this.getWeb(e)},async patch(e,t){f0&&!h0?this.putMobile(t):this.patchWeb(e,t)},async delete(e){return f0&&!h0?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("interoperabilityAttribute",e);Nr.save(t.data)}catch(t){console.log(t)}},getWeb(e){if(e>=0)return O().get("interoperabilityAttribute?offset="+e+"&max=100").then(t=>{Nr.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("interoperabilityAttribute/"+e,t);Nr.save(r.data),lv("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("interoperabilityAttribute/"+e);Nr.destroy(e),lv("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return Tu.put(JSON.parse(JSON.stringify(e))).then(()=>{Nr.save(JSON.parse(e))}).catch(t=>{console.log(t)})},putMobile(e){return Tu.put(JSON.parse(JSON.stringify(e))).then(()=>{Nr.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return Tu.toArray().then(e=>{Nr.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Tu.delete(e).then(()=>{Nr.destroy(e),lv("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Tu.bulkPut(e).then(()=>{Nr.save(e)}).catch(t=>{console.log(t)})},async apiGetAll(e,t){return await O().get("/interoperabilityAttribute?offset="+e+"&max="+t)},newInstanceEntity(){return Nr.getModel().$newInstance()},getAllFromStorage(){return Nr.all()},saveLocalStorage(e){return Nr.save(e)},deleteAllFromHealthSystem(e){Nr.where("healthInformationSystem_id",e).get().forEach(r=>{Nr.destroy(r.id)})}};const yS=re[Va.entity];var uv={async getFromBackEnd(e){if(e>=0)return await O().get("interoperabilityAttribute?offset="+e+"&max=100").then(t=>{cv.addBulkMobile(t.data),console.log("Data synced from backend: InteroperabilityAttribute"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania InteroperabilityAttribute"),await tt.hasData(yS)&&await cv.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie InteroperabilityAttribute");const e=cv.getAllFromStorage();await yS.bulkPut(e)}};const vS=re[Ka.entity];var dv={async getFromBackEnd(e){if(e>=0)return await O().get("interoperabilityType?offset="+e+"&max=100").then(t=>{V0.addBulkMobile(t.data),console.log("Data synced from backend: InteroperabilityType"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania InteroperabilityType"),await tt.hasData(vS)&&await V0.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie InteroperabilityType");const e=V0.getAllFromStorage();await vS.bulkPut(e)}};he(_n);const mS=re[_n.entity];var fv={async getFromBackEnd(e){if(e>=0)return await O().get("clinicSector?offset="+e+"&max=100").then(t=>{Da.addBulkMobile(t.data),console.log("Data synced from backend: ClinicSector"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania ClinicSector"),await tt.hasData(mS)&&await Da.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie ClinicSector");const e=Da.getAllClinicSectors();await mS.bulkPut(e)}};const ln=he(qi),Pu=re[qi.entity],{alertSucess:hv,alertError:hY}=Ce(),{isMobile:p0,isOnline:g0}=ve();var pv={async post(e){return p0.value&&!g0.value?this.addMobile(e):this.postWeb(e)},get(e){p0.value&&!g0.value?this.getMobile():this.getWeb(e)},async patch(e,t){p0.value&&!g0.value?this.putMobile(t):this.patchWeb(e,t)},async delete(e){p0.value&&!g0.value?this.deleteMobile(e):this.deleteWeb(e)},async postWeb(e){try{const t=await O().post("clinicalServiceAttribute",e);ln.save(t.data)}catch(t){console.log(t)}},getWeb(e){if(e>=0)return O().get("clinicalServiceAttribute?offset="+e+"&max=100").then(t=>{ln.save(t.data),e=e+100,t.data.length>0&&this.getWeb(e)}).catch(t=>{console.log(t)})},async patchWeb(e,t){try{const r=await O().patch("clinicalServiceAttribute/"+e,t);ln.save(r.data),hv("O Registo foi alterado com sucesso")}catch(r){console.log(r)}},async deleteWeb(e){try{const t=await O().delete("clinicalServiceAttribute/"+e);ln.destroy(e),hv("O Registo foi removido com sucesso")}catch(t){console.log(t)}},addMobile(e){return Pu.put(JSON.parse(JSON.stringify(e))).then(()=>{ln.save(JSON.parse(JSON.stringify(e)))}).catch(t=>{console.log(t)})},putMobile(e){return Pu.put(JSON.parse(JSON.stringify(e))).then(()=>{ln.save(JSON.parse(e))}).catch(t=>{console.log(t)})},getMobile(){return Pu.toArray().then(e=>{ln.save(e)}).catch(e=>{console.log(e)})},deleteMobile(e){return Pu.delete(e).then(()=>{ln.destroy(e),hv("O Registo foi removido com sucesso")}).catch(t=>{console.log(t)})},addBulkMobile(e){return Pu.bulkAdd(e).then(()=>{ln.save(e)}).catch(t=>{console.log(t)})},newInstanceEntity(){return ln.getModel().$newInstance()},getAllClinicalServiceAttrByClinicalService(e){return ln.query().with("clinicalServiceAttributeType").where("service_id",e).get()},getAllClinicalServiceAttributes(){return ln.query().with("clinicalServiceAttributeType").get()},checkWeatherAttExist(e,t){const r=ln.where("service_id",e).whereHas("clinicalServiceAttributeType",n=>{n.where("code",t)});return r!=null}};const bS=re[qi.entity];var y0={async getFromBackEnd(e){if(e>=0)return await O().get("clinicalServiceAttribute?offset="+e+"&max=100").then(t=>{pv.addBulkMobile(t.data),console.log("Data synced from backend: ClinicalServiceAttribute"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania ClinicalServiceAttribute"),await tt.hasData(bS)&&await pv.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie ClinicalServiceAttribute");const e=pv.getAllClinicalServiceAttributes();await bS.bulkPut(e)}};const _S=re[ti.entity];var gv={async getFromBackEnd(e){if(e>=0)return await O().get("clinicalService?offset="+e+"&max=100").then(t=>{ms.addBulkMobile(t.data),console.log("Data synced from backend: ClinicalService"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania ClinicalService"),await tt.hasData(_S)&&await ms.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie ClinicalService");const e=ms.getAllClinicalServices();await _S.bulkPut(e)}};const xS=re[Ta.entity];var yv={async getFromBackEnd(e){if(e>=0)return await O().get("dispenseMode?offset="+e+"&max=100").then(t=>{hs.addBulkMobile(t.data),console.log("Data synced from backend: DispenseMode"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania DispenseMode"),await tt.hasData(xS)&&await hs.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie DispenseMode");const e=hs.getAllFromStorage();await xS.bulkPut(e)}};const wS=re[ks.entity];var vv={async getFromBackEnd(e){if(e>=0)return await O().get("dispenseType?offset="+e+"&max=100").then(t=>{al.addBulkMobile(t.data),console.log("Data synced from backend: DispenseType"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania DispenseType"),await tt.hasData(wS)&&await al.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie DispenseType");const e=al.getAllFromStorage();await wS.bulkPut(e)}};const SS=re[Zn.entity];var mv={async getFromBackEnd(e){if(e>=0)return await O().get("district?offset="+e+"&max=100").then(t=>{pd.addBulkMobile(t.data),console.log("Data synced from backend: District"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania District"),await tt.hasData(SS)&&await pd.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie District");const e=pd.getAllFromStorage();await SS.bulkPut(e)}};const DS=re[Pa.entity];var bv={async getFromBackEnd(e){if(e>=0)return await O().get("doctor?offset="+e+"&max=100").then(t=>{gd.addBulkMobile(t.data),console.log("Data synced from backend: Doctor"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania Doctor"),await tt.hasData(DS)&&await gd.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie Doctor");const e=gd.getAlldoctors();await DS.bulkPut(e)}};const AS=re[br.entity];var _v={async getFromBackEnd(e){if(e>=0)return await O().get("drug?offset="+e+"&max=100").then(t=>{ll.addBulkMobile(t.data),console.log("Data synced from backend: Drug"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania Drug"),await tt.hasData(AS)&&await ll.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie Drug");const e=ll.getAllDrugs();await AS.bulkPut(e)}};const kS=re[Cs.entity];var xv={async getFromBackEnd(e){if(e>=0)return await O().get("duration?offset="+e+"&max=100").then(t=>{yd.addBulkMobile(t.data),console.log("Data synced from backend: Duration"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania Duration"),await tt.hasData(kS)&&await yd.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie Duration");const e=yd.getAllFromStorage();await kS.bulkPut(e)}};const ES=re[Ra.entity];var wv={async getFromBackEnd(e){if(e>=0)return await O().get("episodeType?offset="+e+"&max=100").then(t=>{Ca.addBulkMobile(t.data),console.log("Data synced from backend: EpisodeType"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania EpisodeType"),await tt.hasData(ES)&&await Ca.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie EpisodeType");const e=Ca.getAllFromStorage();await ES.bulkPut(e)}};const CS=re[_s.entity];var v0={async getFromBackEnd(e){if(e>=0)return await O().get("facilityType?offset="+e+"&max=100").then(t=>{wd.addBulkMobile(t.data),console.log("Data synced from backend: FacilityType"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania FacilityType"),await tt.hasData(CS)&&await wd.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie FacilityType");const e=wd.getAllFacilityTypes();await CS.bulkPut(e)}};const OS=re[Fa.entity];var Sv={async getFromBackEnd(e){if(e>=0)return await O().get("form?offset="+e+"&max=100").then(t=>{xd.addBulkMobile(t.data),console.log("Data synced from backend: Form"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania Form"),await tt.hasData(OS)&&await xd.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie Form");const e=xd.getAllForms();await OS.bulkPut(e)}};const MS=re[ws.entity];var Dv={async getFromBackEnd(e){if(e>=0)return await O().get("identifierType?offset="+e+"&max=100").then(t=>{ka.addBulkMobile(t.data),console.log("Data synced from backend: IdentifierType"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania IdentifierType"),await tt.hasData(MS)&&await ka.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie IdentifierType");const e=ka.getAllIdentifierTypes();await MS.bulkPut(e)}};const IS=re[za.entity];var Av={async getFromBackEnd(e){if(e>=0)return await O().get("patientTransReferenceType?offset="+e+"&max=100").then(t=>{U0.addBulkMobile(t.data),console.log("Data synced from backend: PatientTransReferenceType"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania PatientTransReferenceType"),await tt.hasData(IS)&&await U0.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie PatientTransReferenceType");const e=U0.getAllFromStorage();await IS.bulkPut(e)}};const BS=re[yn.entity];var kv={async getFromBackEnd(e){if(e>=0)return await O().get("province?offset="+e+"&max=100").then(t=>{Sd.addBulkMobile(t.data),console.log("Data synced from backend: Province"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania Province"),await tt.hasData(BS)&&await Sd.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie Province");const e=Sd.getAllProvinces();await BS.bulkPut(e)}};const FS=re[rl.entity];var Ev={async getFromBackEnd(e){if(e>=0)return await O().get("provincialServer?offset="+e+"&max=100").then(t=>{z0.addBulkMobile(t.data),console.log("Data synced from backend: ProvincialServer"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania ProvincialServer"),await tt.hasData(FS)&&await z0.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie ProvincialServer");const e=z0.getAllFromStorage();await FS.bulkPut(e)}};const TS=re[La.entity];var Cv={async getFromBackEnd(e){if(e>=0)return await O().get("spetialPrescriptionMotive?offset="+e+"&max=100").then(t=>{bd.addBulkMobile(t.data),console.log("Data synced from backend: SpetialPrescriptionMotive"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania SpetialPrescriptionMotive"),await tt.hasData(TS)&&await bd.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie SpetialPrescriptionMotive");const e=bd.getAllFromStorage();await TS.bulkPut(e)}};const PS=re[$a.entity];var Ov={async getFromBackEnd(e){if(e>=0)return await O().get("startStopReason?offset="+e+"&max=100").then(t=>{Ea.addBulkMobile(t.data),console.log("Data synced from backend: StartStopReason"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania StartStopReason"),await tt.hasData(PS)&&await Ea.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie StartStopReason");const e=Ea.getAllFromStorage();await PS.bulkPut(e)}};const RS=re[Ya.entity];var Mv={async getFromBackEnd(e){if(e>=0)return await O().get("stockCenter?offset="+e+"&max=100").then(t=>{J0.addBulkMobile(t.data),console.log("Data synced from backend: stockCenter"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getStock(e){if(e>=0)return await O().get("stock?offset="+e+"&max=100").then(t=>{const r=[];for(let n=0;n<t.data.length;n++){const i=t.data[n];i.drug_id=i.drug.id,r.push(i)}$t.nSQL(mn.entity).query("upsert",r).exec(),console.log("Data synced from backend: StockCenter"),e=e+100,t.data.length>0&&this.getStock(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getStockEntrance(e){if(e>=0)return await O().get("stockEntrance?offset="+e+"&max=100").then(t=>{$t.nSQL(ja.entity).query("upsert",t.data).exec(),console.log("Data synced from backend: StockCenter"),e=e+100,t.data.length>0&&this.getStockEntrance(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getDestroyedStock(e){if(e>=0)return await O().get("destroyedStock?offset="+e+"&max=100").then(t=>{$t.nSQL(bc.entity).query("upsert",t.data).exec(),console.log("Data synced from backend: StockCenter"),e=e+100,t.data.length>0&&this.getDestroyedStock(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getInventory(e){if(e>=0)return await O().get("inventory?offset="+e+"&max=100").then(t=>{$t.nSQL(Wa.entity).query("upsert",t.data).exec(),console.log("Data synced from backend: StockCenter"),e=e+100,t.data.length>0&&this.getInventory(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getInventoryStockAdjustment(e){if(e>=0)return await O().get("inventoryStockAdjustment?offset="+e+"&max=100").then(t=>{$t.nSQL(Ni.entity).query("upsert",t.data).exec(),console.log("Data synced from backend: StockCenter"),e=e+100,t.data.length>0&&this.getInventoryStockAdjustment(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania StockCenter"),await tt.hasData(RS)&&await J0.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie StockCenter");const e=J0.getAllFromStorage();await RS.bulkPut(e)}};const $S=re[qa.entity];var Iv={async getFromBackEnd(e){if(e>=0)return await O().get("stockOperationType?offset="+e+"&max=100").then(t=>{t.data.length>0&&(_d.addBulkMobile(t.data),console.log("Data synced from backend: stockOperationType"),e=e+100,this.getFromBackEnd(e))}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania stockOperationType"),await tt.hasData($S)&&await _d.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie stockOperationType");const e=_d.getAllFromStorage();await $S.bulkPut(e)}};const NS=re[Na.entity];var Bv={async getFromBackEnd(e){if(e>=0)return await O().get("therapeuticLine?offset="+e+"&max=100").then(t=>{vd.addBulkMobile(t.data),console.log("Data synced from backend: TherapeuticLine"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania TherapeuticLine"),await tt.hasData(NS)&&await vd.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie TherapeuticLine");const e=vd.getAllFromStorage();await NS.bulkPut(e)}};const LS=re[ji.entity];var Fv={async getFromBackEnd(e){if(e>=0)return await O().get("therapeuticRegimen?offset="+e+"&max=100").then(t=>{md.addBulkMobile(t.data),console.log("Data synced from backend: TherapeuticRegimen"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania TherapeuticRegimen"),await tt.hasData(LS)&&await md.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie TherapeuticRegimen");const e=md.getActiveTherapeuticalRegimens();await LS.bulkPut(e)}};const qS=re[xs.entity];var Tv={async getFromBackEnd(e){if(e>=0)return await O().get("groupType?offset="+e+"&max=100").then(t=>{groupType.save(t.data),console.log("Data synced from backend: GroupType"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania GroupType"),await tt.hasData(qS)&&await cb.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie GroupType");const e=cb.getAllFromStorage();await qS.bulkPut(e)}};const Pv=re[nl.entity];var Rv={async getFromBackEnd(e){if(e>=0)return await O().get("systemConfigs?offset="+e+"&max=100").then(t=>{Jn.addBulkMobile(t.data),console.log("Data synced from backend: SystemConfigs"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania SystemConfigs"),await tt.hasData(Pv)&&await Jn.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie SystemConfigs");const e=Jn.getAllFromStorage();await Pv.bulkPut(e)},async getFromDexieToPinia(){console.log("Data synced from Pinia To Dexie SystemConfigs");const e=Jn.getAllFromStorage();await Pv.bulkPut(e)}};const{closeLoading:WS,showloading:aW}=ut();he(Ne);const jS=re[Ne.entity];var YS={async getFromBackEnd(e){if(aW(),e>=0)return await O().get("clinic?offset="+e+"&max=100").then(t=>{Pe.addBulkMobile(t.data),console.log("Data synced from backend: Clinic"),Pe.savePinia(t.data),e=e+100,t.data.length>0?this.getFromBackEnd(e):WS()}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t),WS()})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania Clinic"),await tt.hasData(jS)&&await Pe.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie Clinic");const e=Pe.getAllFromStorage();await jS.bulkPut(e)}};he(Ls);const HS=re[Ls.entity];var KS={async getFromBackEnd(e){if(e>=0)return await O().get("menu?offset="+e+"&max=100").then(t=>{Dd.addBulkMobile(t.data),console.log("Data synced from backend: Menu"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},async getFromBackEndToPinia(e){console.log("Data synced from backend To Piania Menu"),await tt.hasData(HS)&&await Dd.getWeb(e)},async getFromPiniaToDexie(){console.log("Data synced from Pinia To Dexie Menu");const e=Dd.getAllFromStorage();await HS.bulkPut(e)}};const{closeLoading:oW,showloading:pY}=ut(),{isMobile:gY,isOnline:Ru}=ve(),Qt=he(Ga),Co=re[Ga.entity];var lW={async post(e){return Ru.value?this.postWeb(e):this.putMobile(e)},async get(e){this.getWeb(e)},async apiUpdate(e,t){return Ru.value?this.apiUpdateWeb(e,t):this.putMobile(t)},async delete(e){return Ru.value?this.deleteWeb(e):this.deleteMobile(e)},apiFetchById(e){return Ru.value?this.apiFetchByIdWeb(e):this.apiFetchByIdMobile(e)},async apiGetAllByClinicId(e,t,r){Ru.value?this.apiGetAllByClinicIdWeb(e,t,r):this.apiGetAllByClinicIdMobile(e)},postWeb(e){return O().post("stockDistributor",e).then(t=>(Qt.save(t.data),t.data))},async getWeb(e){if(e>=0)return O().get("stockDistributor?offset="+e+"&max=100").then(t=>{t.data.length>0?(Qt.save(t.data),e=e+100,this.getWeb(e)):oW()})},apiUpdateWeb(e,t){return O().patch("stockDistributor/"+e,t).then(r=>{Qt.save(r.data)})},deleteWeb(e){return O().delete("stockDistributor/"+e).then(()=>{Qt.destroy(e)})},apiFetchByIdWeb(e){return O().get("/stockDistributor/"+e).then(t=>{Qt.save(t.data),t.data.length>0&&setTimeout(this.get,2)})},async apiGetAllByClinicIdWeb(e,t,r){return await O().get("/stockDistributor/clinic/"+e+"?offset="+t+"&max="+r)},async addMobile(e){return Co.put(JSON.parse(JSON.stringify(e))).then(()=>{Qt.save(JSON.parse(JSON.stringify(e)))})},async getFromBackEnd(e){if(e>=0)return await O().get("stockEntrance?offset="+e+"&max=100").then(t=>{Qt.addBulkMobile(t.data),console.log("Data synced from backend: stockEntrance"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},addBulkMobile(e){return Co.bulkAdd(e).then(()=>{Qt.save(JSON.parse(e))}).catch(t=>{console.log(t)})},async getMobile(){try{const e=await Co.toArray();return Qt.save(e),e}catch(e){console.log(e)}},async deleteMobile(e){try{await Co.delete(e),Qt.destroy(e)}catch(t){console.log(t)}},async putMobile(e){return Co.put(JSON.parse(JSON.stringify(e))).then(()=>{Qt.save(JSON.parse(JSON.stringify(e)))})},apiFetchByIdMobile(e){return Co.where("id").equalsIgnoreCase(e).then(t=>(Qt.save(t),t))},apiGetAllByClinicIdMobile(e){return Co.where("clinic_id").equalsIgnoreCase(e).then(t=>(Qt.save(t),t))},newInstanceEntity(){return Qt.getModel().$newInstance()},getStockDistributorById(e){return Qt.query().with("drugDistributors").with("clinic").where("id",e).first()},getStockDistributorServices(e){return Qt.query().with("clinic").with("drugDistributors").where("clinic_id",e).orderBy("creationDate","desc").get()},getStockDistributorConfirmation(e){return Qt.query().with("clinic").with("drugDistributors").whereHas("drugDistributors",t=>{t.where("clinic_id",e)}).orderBy("creationDate","desc").get()},deleteAllFromStorage(){Qt.flush()}};const{closeLoading:cW,showloading:yY}=ut(),{isMobile:vY,isOnline:$v}=ve(),Lr=he(il),Nv=re[il.entity];var uW={post(e){return $v.value?this.postWeb(e):this.addMobile(e)},get(e){return this.getWeb(e)},patch(e,t){return $v.value?this.apiUpdateWeb(e,t):this.putMobile(t)},async delete(e){return $v.value?this.deleteWeb(e):this.deleteMobile(e)},newInstanceEntity(){return Lr.getModel().$newInstance()},async apiSave(e){return O().post("/stockDistributorBatch",e)},async apiRemove(e){return O().delete(`/stockDistributorBatch/${e}`)},async apiUpdate(e){return O().patch("/stockDistributorBatch/"+e.id,e)},async apiGetAll(e,t){return O().get("/stockDistributorBatch?offset="+e+"&max="+t)},getStockDistributorBatchList(e){return Lr.query().withAllRecursive(3).get()},getStockDistributorById(e){return Lr.query().with("drug").with("clinic").with("stockDistributor").where("id",e).first()},postWeb(e){return O().post("stockDistributorBatch",e).then(t=>(Lr.save(t.data),t.data))},getWeb(e){if(e>=0)return O().get("stockDistributorBatch?offset="+e+"&max=100").then(t=>{t.data.length>0?(Lr.save(t.data),e=e+100,this.getWeb(e)):cW()})},getStockDistributorBatch(e){return Lr.query().withAllRecursive(3).where("stock_distributor_id",e).first()},getStockDistributorBatchByDrugDistributorId(e){return Lr.query().withAllRecursive(3).where("drug_distributor_id",e).get()},apiUpdateWeb(e,t){return O().patch("stockDistributorBatch/"+e,t).then(r=>{Lr.save(r.data)})},deleteWeb(e){return O().delete("stockDistributorBatch/"+e).then(()=>{Lr.destroy(e)})},async addMobile(e){return Nv.put(JSON.parse(JSON.stringify(e))).then(()=>{Lr.save(JSON.parse(JSON.stringify(e)))})},async getMobile(){try{const e=await Nv.toArray();return Lr.save(e),e}catch(e){console.log(e)}},async getFromBackEnd(e){if(e>=0)return await O().get("stockDistributorBatch?offset="+e+"&max=100").then(t=>{Lr.addBulkMobile(t.data),console.log("Data synced from backend: stockDistributorBatch"),e=e+100,t.data.length>0&&this.getFromBackEnd(e)}).catch(t=>{console.error("Error syncing data from backend:",t),console.log(t)})},addBulkMobile(e){return Nv.bulkAdd(e).then(()=>{Lr.save(JSON.parse(e))}).catch(t=>{console.log(t)})},deleteAllFromStorage(){Lr.flush()}};const{closeLoading:dW,showloading:mY}=ut(),{isMobile:bY,isOnline:Lv}=ve(),Wn=he(sl);var fW={post(e){return Lv.value?this.postWeb(e):this.putMobile(e)},get(e){return this.getWeb(e)},patch(e,t){return Lv.value?this.apiUpdateWeb(e,t):this.putMobile(t)},async delete(e){return Lv.value?this.deleteWeb(e):this.deleteMobile(e)},newInstanceEntity(){return Wn.getModel().$newInstance()},async apiSave(e){return O().post("/drugDistributor",e)},async apiRemove(e){return O().delete(`/drugDistributor/${e}`)},async apiUpdate(e){return O().patch("/drugDistributor/"+e.id,e)},async apiGetAll(e,t){return O().get("/drugDistributor?offset="+e+"&max="+t)},postWeb(e){return O().post("drugDistributor",e).then(t=>(Wn.save(t.data),t.data))},getWeb(e){if(e>=0)return O().get("drugDistributor?offset="+e+"&max=100").then(t=>{t.data.length>0?(Wn.save(t.data),e=e+100,this.getWeb(e)):dW()})},apiUpdateWeb(e,t){return O().patch("drugDistributor/"+e,t).then(r=>{Wn.save(r.data)})},deleteWeb(e){return O().delete("drugDistributor/"+e).then(()=>{Wn.destroy(e)})},getDistributionsByStatus(e,t){return O().get(`drugDistributor/getDistributionsByStatus/${e}/${t}`).then(r=>r.data)},getDrugDistributorById(e){return Wn.query().withAllRecursive().where("id",e).first()},getStockDistributorById(e){return Wn.query().with("drug").with("clinic").with("stockDistributor").where("id",e).first()},async putMobile(e){const t=await $t.nSQL("drugDistributors").query("upsert",JSON.parse(JSON.stringify(e))).exec();return Wn.save(e),t},getMobile(){return $t.nSQL().onConnected(()=>{$t.nSQL("drugDistributors").query("select").exec().then(e=>(console.log(e),Wn.save(e),e))})},localDbGetAll(){return $t.nSQL("drugDistributors").query("select").exec().then(e=>e)},localDbGetUsedStock(e){return $t.nSQL("drugDistributors").query("select").where(["drug.clinicalService.id","=",e.clinicalService]).exec().then(t=>(console.log(t),t))},deleteAllFromStorage(){Wn.flush()},updateDrugDistributorStatus(e,t){const r=Pe.currClinic();return console.log(r),O().patch(`drugDistributor/updateDrugDistributorStatus/${e.id}/${t}`).then(n=>(console.log(e),Wn.save(e),e.status==="C"&&(Ks.getFromBackEnd(0,r.id),rx.getFromBackEnd(0,r.id)),n.data))},getDrugDistributorList(e,t){return Wn.query().withAllRecursive(3).where("stock_distributor_id",e).where("clinic_id",t).get()}};function hW(){async function e(){return await YS.getFromBackEndToPinia(0),await Rv.getFromBackEndToPinia(0),await KS.getFromBackEndToPinia(0),!0}async function t(){return await fv.getFromBackEndToPinia(0),await _v.getFromBackEndToPinia(0),await gv.getFromBackEndToPinia(0),await y0.getFromBackEndToPinia(0),await Dv.getFromBackEndToPinia(0),await wv.getFromBackEndToPinia(0),await v0.getFromBackEndToPinia(0),await Ov.getFromBackEndToPinia(0),await xv.getFromBackEndToPinia(0),await Fv.getFromBackEndToPinia(0),await Bv.getFromBackEndToPinia(0),await Sv.getFromBackEndToPinia(0),await vv.getFromBackEndToPinia(0),await dv.getFromBackEndToPinia(0),await uv.getFromBackEndToPinia(0),await ov.getFromBackEndToPinia(0),await Av.getFromBackEndToPinia(0),await Cv.getFromBackEndToPinia(0),await Ev.getFromBackEndToPinia(0),await bv.getFromBackEndToPinia(0),await yv.getFromBackEndToPinia(0),await kv.getFromBackEndToPinia(0),await mv.getFromBackEndToPinia(0),await Mv.getFromBackEndToPinia(0),await Iv.getFromBackEndToPinia(0),await Tv.getFromBackEndToPinia(0),!0}async function r(){return fv.getFromPiniaToDexie(),_v.getFromPiniaToDexie(),gv.getFromPiniaToDexie(),y0.getFromPiniaToDexie(),Dv.getFromPiniaToDexie(),wv.getFromPiniaToDexie(),v0.getFromPiniaToDexie(),Ov.getFromPiniaToDexie(),xv.getFromPiniaToDexie(),Fv.getFromPiniaToDexie(),Bv.getFromPiniaToDexie(),Sv.getFromPiniaToDexie(),vv.getFromPiniaToDexie(),dv.getFromPiniaToDexie(),uv.getFromPiniaToDexie(),ov.getFromPiniaToDexie(),Av.getFromPiniaToDexie(),Cv.getFromPiniaToDexie(),Ev.getFromPiniaToDexie(),bv.getFromPiniaToDexie(),yv.getFromPiniaToDexie(),kv.getFromPiniaToDexie(),mv.getFromPiniaToDexie(),Mv.getFromPiniaToDexie(),Iv.getFromPiniaToDexie(),Tv.getFromPiniaToDexie(),Rv.getFromPiniaToDexie(),KS.getFromPiniaToDexie(),YS.getFromPiniaToDexie(),!0}async function n(){fv.getFromBackEnd(0),_v.getFromBackEnd(0),gv.getFromBackEnd(0),y0.getFromBackEnd(0),Dv.getFromBackEnd(0),wv.getFromBackEnd(0),v0.getFromBackEnd(0),Ov.getFromBackEnd(0),y0.getFromBackEnd(0),xv.getFromBackEnd(0),Fv.getFromBackEnd(0),Bv.getFromBackEnd(0),Sv.getFromBackEnd(0),vv.getFromBackEnd(0),dv.getFromBackEnd(0),uv.getFromBackEnd(0),ov.getFromBackEnd(0),v0.getFromBackEnd(0),Av.getFromBackEnd(0),Cv.getFromBackEnd(0),Ev.getFromBackEnd(0),bv.getFromBackEnd(0),yv.getFromBackEnd(0),kv.getFromBackEnd(0),mv.getFromBackEnd(0),Mv.getFromBackEnd(0),Iv.getFromBackEnd(0),Tv.getFromBackEnd(0),Rv.getFromBackEnd(0),Ks.getFromBackEnd(0,Pe.currClinic().id),rx.getFromBackEnd(0,Pe.currClinic().id)}async function i(){await zn.doPatientsBySectorGet().then(c=>{c||(zn.addBulkMobile(),Ir.addBulkMobile())}),await yt.doPatientVisitServiceBySectorGet().then(c=>{}),await Ur.getAllLast3VisitsWithScreeningByPatientIds().then(c=>{c&&s()})}async function s(){gn.addBulkMobile(),Ur.addBulkMobile(),yt.addBulkMobile(),Vr.addBulkMobile(),Ws.addBulkMobile(),qs.addBulkMobile(),wn.addBulkMobile(),Yi.addBulkMobile(),Wr.addBulkMobile(),Yr.addBulkMobile(),Kr.addBulkMobile(),Hr.addBulkMobile(),jr.addBulkMobile()}async function a(){}async function o(){uW.get(0),fW.get(0),lW.get(0),Ks.getStockDistributorWeb(Pe.currClinic().id,0)}function l(){yt.deleteAllFromStorage(),qs.deleteAllFromStorage(),Ws.deleteAllFromStorage(),$p.deleteAllFromStorage(),Vr.deleteAllFromStorage(),Ur.deleteAllFromStorage(),Yr.deleteAllFromStorage(),Kr.deleteAllFromStorage(),jr.deleteAllFromStorage(),Hr.deleteAllFromStorage(),Wr.deleteAllFromStorage(),gn.deleteAllFromStorage(),Yi.deleteAllFromStorage(),wn.deleteAllFromStorage(),Ad.deleteAllFromStorage(),kd.deleteAllFromStorage(),cl.deleteAllFromStorage(),Ir.deleteAllFromStorage(),Ir.deleteAllFromStorage()}function u(){yt.deleteAllFromStorage(),qs.deleteAllFromStorage(),Ws.deleteAllFromStorage(),$p.deleteAllFromStorage(),Vr.deleteAllFromStorage(),Ur.deleteAllFromStorage(),Yr.deleteAllFromStorage(),Kr.deleteAllFromStorage(),jr.deleteAllFromStorage(),Hr.deleteAllFromStorage(),Wr.deleteAllFromStorage(),gn.deleteAllFromStorage(),Yi.deleteAllFromStorage(),wn.deleteAllFromStorage(),Ad.deleteAllFromStorage(),kd.deleteAllFromStorage(),cl.deleteAllFromStorage(),Ir.deleteAllFromStorage()}return{saveParamsFromPiniaToDexie:r,loadParamsDataFromBackEndToPinia:t,loadClinicsDataFromBackEndToPinia:e,loadSettingParamsToOffline:n,loadPatientDataToOffline:i,deleteStorageInfo:l,deleteStorageWithoutPatientInfo:u,loadSettingParamsInOfflineMode:a,loadStockDistribuitionData:o}}let qv,m0=0;const ar=new Array(256);for(let e=0;e<256;e++)ar[e]=(e+256).toString(16).substring(1);const pW=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const r=new Uint8Array(t);return e.getRandomValues(r),r}}return t=>{const r=[];for(let n=t;n>0;n--)r.push(Math.floor(Math.random()*256));return r}})(),VS=4096;function ub(){(qv===void 0||m0+16>VS)&&(m0=0,qv=pW(VS));const e=Array.prototype.slice.call(qv,m0,m0+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,ar[e[0]]+ar[e[1]]+ar[e[2]]+ar[e[3]]+"-"+ar[e[4]]+ar[e[5]]+"-"+ar[e[6]]+ar[e[7]]+"-"+ar[e[8]]+ar[e[9]]+"-"+ar[e[10]]+ar[e[11]]+ar[e[12]]+ar[e[13]]+ar[e[14]]+ar[e[15]]}function gW(e){return e==null?null:e}function US(e,t){return e==null?t===!0?`f_${ub()}`:null:e}function yW({getValue:e,required:t=!0}={}){if(ri.value===!0){const r=De(e!==void 0?gW(e()):null);return t===!0&&r.value===null&&ur(()=>{r.value=`f_${ub()}`}),e!==void 0&&Ve(e,n=>{r.value=US(n,t)}),r}return e!==void 0?q(()=>US(e(),t)):De(`f_${ub()}`)}const zS=/^on[A-Z]/;function vW(){const{attrs:e,vnode:t}=et(),r={listeners:De({}),attributes:De({})};function n(){const i={},s={};for(const a in e)a!=="class"&&a!=="style"&&zS.test(a)===!1&&(i[a]=e[a]);for(const a in t.props)zS.test(a)===!0&&(s[a]=t.props[a]);r.attributes.value=i,r.listeners.value=s}return aA(n),n(),r}function mW({validate:e,resetValidation:t,requiresQForm:r}){const n=zr(aF,!1);if(n!==!1){const{props:i,proxy:s}=et();Object.assign(s,{validate:e,resetValidation:t}),Ve(()=>i.disable,a=>{a===!0?(typeof t=="function"&&t(),n.unbindComponent(s)):n.bindComponent(s)}),ur(()=>{i.disable!==!0&&n.bindComponent(s)}),Fr(()=>{i.disable!==!0&&n.unbindComponent(s)})}else r===!0&&console.error("Parent QForm not found on useFormChild()!")}const JS=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,GS=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,QS=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,b0=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,_0=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Wv={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>JS.test(e),hexaColor:e=>GS.test(e),hexOrHexaColor:e=>QS.test(e),rgbColor:e=>b0.test(e),rgbaColor:e=>_0.test(e),rgbOrRgbaColor:e=>b0.test(e)||_0.test(e),hexOrRgbColor:e=>JS.test(e)||b0.test(e),hexaOrRgbaColor:e=>GS.test(e)||_0.test(e),anyColor:e=>QS.test(e)||b0.test(e)||_0.test(e)},bW=[!0,!1,"ondemand"],_W={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>bW.includes(e)}};function xW(e,t){const{props:r,proxy:n}=et(),i=De(!1),s=De(null),a=De(!1);mW({validate:x,resetValidation:m});let o=0,l;const u=q(()=>r.rules!==void 0&&r.rules!==null&&r.rules.length!==0),c=q(()=>r.disable!==!0&&u.value===!0&&t.value===!1),d=q(()=>r.error===!0||i.value===!0),f=q(()=>typeof r.errorMessage=="string"&&r.errorMessage.length!==0?r.errorMessage:s.value);Ve(()=>r.modelValue,()=>{a.value=!0,c.value===!0&&r.lazyRules===!1&&v()});function g(){r.lazyRules!=="ondemand"&&c.value===!0&&a.value===!0&&v()}Ve(()=>r.reactiveRules,p=>{p===!0?l===void 0&&(l=Ve(()=>r.rules,g,{immediate:!0,deep:!0})):l!==void 0&&(l(),l=void 0)},{immediate:!0}),Ve(()=>r.lazyRules,g),Ve(e,p=>{p===!0?a.value=!0:c.value===!0&&r.lazyRules!=="ondemand"&&v()});function m(){o++,t.value=!1,a.value=!1,i.value=!1,s.value=null,v.cancel()}function x(p=r.modelValue){if(r.disable===!0||u.value===!1)return!0;const h=++o,y=t.value!==!0?()=>{a.value=!0}:()=>{},b=(w,D)=>{w===!0&&y(),i.value=w,s.value=D||null,t.value=!1},_=[];for(let w=0;w<r.rules.length;w++){const D=r.rules[w];let S;if(typeof D=="function"?S=D(p,Wv):typeof D=="string"&&Wv[D]!==void 0&&(S=Wv[D](p)),S===!1||typeof S=="string")return b(!0,S),!1;S!==!0&&S!==void 0&&_.push(S)}return _.length===0?(b(!1),!0):(t.value=!0,Promise.all(_).then(w=>{if(w===void 0||Array.isArray(w)===!1||w.length===0)return h===o&&b(!1),!0;const D=w.find(S=>S===!1||typeof S=="string");return h===o&&b(D!==void 0,D),D===void 0},w=>(h===o&&(console.error(w),b(!0)),!1)))}const v=TA(x,0);return Fr(()=>{l!==void 0&&l(),v.cancel()}),Object.assign(n,{resetValidation:m,validate:x}),vl(n,"hasError",()=>d.value),{isDirtyModel:a,hasRules:u,hasError:d,errorMessage:f,validate:x,resetValidation:m}}function fb(e){return e!=null&&(""+e).length!==0}const wW={...ml,..._W,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},SW={...wW,maxlength:[Number,String]},DW=["update:modelValue","clear","focus","blur"];function AW({requiredForAttr:e=!0,tagProp:t,changeEvent:r=!1}={}){const{props:n,proxy:i}=et(),s=bl(n,i.$q),a=yW({required:e,getValue:()=>n.for});return{requiredForAttr:e,changeEvent:r,tag:t===!0?q(()=>n.tag):{value:"label"},isDark:s,editable:q(()=>n.disable!==!0&&n.readonly!==!0),innerLoading:De(!1),focused:De(!1),hasPopupOpen:!1,splitAttrs:vW(),targetUid:a,rootRef:De(null),targetRef:De(null),controlRef:De(null)}}function kW(e){const{props:t,emit:r,slots:n,attrs:i,proxy:s}=et(),{$q:a}=s;let o=null;e.hasValue===void 0&&(e.hasValue=q(()=>fb(t.modelValue))),e.emitValue===void 0&&(e.emitValue=W=>{r("update:modelValue",W)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:A,onFocusout:k}),Object.assign(e,{clearValue:C,onControlFocusin:A,onControlFocusout:k,focus:D}),e.computedCounter===void 0&&(e.computedCounter=q(()=>{if(t.counter!==!1){const W=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,U=t.maxlength!==void 0?t.maxlength:t.maxValues;return W+(U!==void 0?" / "+U:"")}}));const{isDirtyModel:l,hasRules:u,hasError:c,errorMessage:d,resetValidation:f}=xW(e.focused,e.innerLoading),g=e.floatingLabel!==void 0?q(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):q(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),m=q(()=>t.bottomSlots===!0||t.hint!==void 0||u.value===!0||t.counter===!0||t.error!==null),x=q(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),v=q(()=>`q-field row no-wrap items-start q-field--${x.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(g.value===!0?" q-field--float":"")+(h.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(c.value===!0?" q-field--error":"")+(c.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&m.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),p=q(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(c.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),h=q(()=>t.labelSlot===!0||t.label!==void 0),y=q(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&c.value!==!0?` text-${t.labelColor}`:"")),b=q(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:g.value,modelValue:t.modelValue,emitValue:e.emitValue})),_=q(()=>{const W={};return e.targetUid.value&&(W.for=e.targetUid.value),t.disable===!0&&(W["aria-disabled"]="true"),W});function w(){const W=document.activeElement;let U=e.targetRef!==void 0&&e.targetRef.value;U&&(W===null||W.id!==e.targetUid.value)&&(U.hasAttribute("tabindex")===!0||(U=U.querySelector("[tabindex]")),U&&U!==W&&U.focus({preventScroll:!0}))}function D(){Wb(w)}function S(){_F(w);const W=document.activeElement;W!==null&&e.rootRef.value.contains(W)&&W.blur()}function A(W){o!==null&&(clearTimeout(o),o=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,r("focus",W))}function k(W,U){o!==null&&clearTimeout(o),o=setTimeout(()=>{o=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,r("blur",W)),U!==void 0&&U())})}function C(W){Hn(W),a.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),r("update:modelValue",null),e.changeEvent===!0&&r("change",null),r("clear",t.modelValue),vr(()=>{const U=l.value;f(),l.value=U})}function E(W){[13,32].includes(W.keyCode)&&C(W)}function M(){const W=[];return n.prepend!==void 0&&W.push($("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:va},n.prepend())),W.push($("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},I())),c.value===!0&&t.noErrorIcon===!1&&W.push(L("error",[$(Ys,{name:a.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?W.push(L("inner-loading-append",n.loading!==void 0?n.loading():[$(Za,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&W.push(L("inner-clearable-append",[$(Ys,{class:"q-field__focusable-action",name:t.clearIcon||a.iconSet.field.clear,tabindex:0,role:"button","aria-label":a.lang.label.clear,onKeyup:E,onClick:C})])),n.append!==void 0&&W.push($("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:va},n.append())),e.getInnerAppend!==void 0&&W.push(L("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&W.push(e.getControlChild()),W}function I(){const W=[];return t.prefix!==void 0&&t.prefix!==null&&W.push($("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&W.push(e.getShadowControl()),e.getControl!==void 0?W.push(e.getControl()):n.rawControl!==void 0?W.push(n.rawControl()):n.control!==void 0&&W.push($("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},n.control(b.value))),h.value===!0&&W.push($("div",{class:y.value},Br(n.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&W.push($("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),W.concat(Br(n.default))}function P(){let W,U;c.value===!0?d.value!==null?(W=[$("div",{role:"alert"},d.value)],U=`q--slot-error-${d.value}`):(W=Br(n.error),U="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(W=[$("div",t.hint)],U=`q--slot-hint-${t.hint}`):(W=Br(n.hint),U="q--slot-hint"));const te=t.counter===!0||n.counter!==void 0;if(t.hideBottomSpace===!0&&te===!1&&W===void 0)return;const N=$("div",{key:U,class:"q-field__messages col"},W);return $("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:va},[t.hideBottomSpace===!0?N:$(Xa,{name:"q-transition--field-message"},()=>N),te===!0?$("div",{class:"q-field__counter"},n.counter!==void 0?n.counter():e.computedCounter.value):null])}function L(W,U){return U===null?null:$("div",{key:W,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},U)}let V=!1;return Gp(()=>{V=!0}),iA(()=>{V===!0&&t.autofocus===!0&&s.focus()}),t.autofocus===!0&&ur(()=>{s.focus()}),Fr(()=>{o!==null&&clearTimeout(o)}),Object.assign(s,{focus:D,blur:S}),function(){const U=e.getControl===void 0&&n.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,..._.value}:_.value;return $(e.tag.value,{ref:e.rootRef,class:[v.value,i.class],style:i.style,...U},[n.before!==void 0?$("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:va},n.before()):null,$("div",{class:"q-field__inner relative-position col self-stretch"},[$("div",{ref:e.controlRef,class:p.value,tabindex:-1,...e.controlEvents},M()),m.value===!0?P():null]),n.after!==void 0?$("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:va},n.after()):null])}}const XS={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Np={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},kO=Object.keys(Np);kO.forEach(e=>{Np[e].regex=new RegExp(Np[e].pattern)});const EW=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+kO.join("")+"])|(.)","g"),ZS=/[.*+?^${}()|[\]\\]/g,Pt=String.fromCharCode(1),CW={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function OW(e,t,r,n){let i,s,a,o,l,u;const c=De(null),d=De(g());function f(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Ve(()=>e.type+e.autogrow,x),Ve(()=>e.mask,A=>{if(A!==void 0)v(d.value,!0);else{const k=D(d.value);x(),e.modelValue!==k&&t("update:modelValue",k)}}),Ve(()=>e.fillMask+e.reverseFillMask,()=>{c.value===!0&&v(d.value,!0)}),Ve(()=>e.unmaskedValue,()=>{c.value===!0&&v(d.value)});function g(){if(x(),c.value===!0){const A=_(D(e.modelValue));return e.fillMask!==!1?S(A):A}return e.modelValue}function m(A){if(A<i.length)return i.slice(-A);let k="",C=i;const E=C.indexOf(Pt);if(E!==-1){for(let M=A-C.length;M>0;M--)k+=Pt;C=C.slice(0,E)+k+C.slice(E)}return C}function x(){if(c.value=e.mask!==void 0&&e.mask.length!==0&&f(),c.value===!1){o=void 0,i="",s="";return}const A=XS[e.mask]===void 0?e.mask:XS[e.mask],k=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",C=k.replace(ZS,"\\$&"),E=[],M=[],I=[];let P=e.reverseFillMask===!0,L="",V="";A.replace(EW,(N,R,H,K,Ee)=>{if(K!==void 0){const ne=Np[K];I.push(ne),V=ne.negate,P===!0&&(M.push("(?:"+V+"+)?("+ne.pattern+"+)?(?:"+V+"+)?("+ne.pattern+"+)?"),P=!1),M.push("(?:"+V+"+)?("+ne.pattern+")?")}else if(H!==void 0)L="\\"+(H==="\\"?"":H),I.push(H),E.push("([^"+L+"]+)?"+L+"?");else{const ne=R!==void 0?R:Ee;L=ne==="\\"?"\\\\\\\\":ne.replace(ZS,"\\\\$&"),I.push(ne),E.push("([^"+L+"]+)?"+L+"?")}});const W=new RegExp("^"+E.join("")+"("+(L===""?".":"[^"+L+"]")+"+)?"+(L===""?"":"["+L+"]*")+"$"),U=M.length-1,te=M.map((N,R)=>R===0&&e.reverseFillMask===!0?new RegExp("^"+C+"*"+N):R===U?new RegExp("^"+N+"("+(V===""?".":V)+"+)?"+(e.reverseFillMask===!0?"$":C+"*")):new RegExp("^"+N));a=I,o=N=>{const R=W.exec(e.reverseFillMask===!0?N:N.slice(0,I.length+1));R!==null&&(N=R.slice(1).join(""));const H=[],K=te.length;for(let Ee=0,ne=N;Ee<K;Ee++){const j=te[Ee].exec(ne);if(j===null)break;ne=ne.slice(j.shift().length),H.push(...j)}return H.length!==0?H.join(""):N},i=I.map(N=>typeof N=="string"?N:Pt).join(""),s=i.split(Pt).join(k)}function v(A,k,C){const E=n.value,M=E.selectionEnd,I=E.value.length-M,P=D(A);k===!0&&x();const L=_(P),V=e.fillMask!==!1?S(L):L,W=d.value!==V;E.value!==V&&(E.value=V),W===!0&&(d.value=V),document.activeElement===E&&vr(()=>{if(V===s){const te=e.reverseFillMask===!0?s.length:0;E.setSelectionRange(te,te,"forward");return}if(C==="insertFromPaste"&&e.reverseFillMask!==!0){const te=E.selectionEnd;let N=M-1;for(let R=l;R<=N&&R<te;R++)i[R]!==Pt&&N++;h.right(E,N);return}if(["deleteContentBackward","deleteContentForward"].indexOf(C)!==-1){const te=e.reverseFillMask===!0?M===0?V.length>L.length?1:0:Math.max(0,V.length-(V===s?0:Math.min(L.length,I)+1))+1:M;E.setSelectionRange(te,te,"forward");return}if(e.reverseFillMask===!0)if(W===!0){const te=Math.max(0,V.length-(V===s?0:Math.min(L.length,I+1)));te===1&&M===1?E.setSelectionRange(te,te,"forward"):h.rightReverse(E,te)}else{const te=V.length-I;E.setSelectionRange(te,te,"backward")}else if(W===!0){const te=Math.max(0,i.indexOf(Pt),Math.min(L.length,M)-1);h.right(E,te)}else{const te=M-1;h.right(E,te)}});const U=e.unmaskedValue===!0?D(V):V;String(e.modelValue)!==U&&(e.modelValue!==null||U!=="")&&r(U,!0)}function p(A,k,C){const E=_(D(A.value));k=Math.max(0,i.indexOf(Pt),Math.min(E.length,k)),l=k,A.setSelectionRange(k,C,"forward")}const h={left(A,k){const C=i.slice(k-1).indexOf(Pt)===-1;let E=Math.max(0,k-1);for(;E>=0;E--)if(i[E]===Pt){k=E,C===!0&&k++;break}if(E<0&&i[k]!==void 0&&i[k]!==Pt)return h.right(A,0);k>=0&&A.setSelectionRange(k,k,"backward")},right(A,k){const C=A.value.length;let E=Math.min(C,k+1);for(;E<=C;E++)if(i[E]===Pt){k=E;break}else i[E-1]===Pt&&(k=E);if(E>C&&i[k-1]!==void 0&&i[k-1]!==Pt)return h.left(A,C);A.setSelectionRange(k,k,"forward")},leftReverse(A,k){const C=m(A.value.length);let E=Math.max(0,k-1);for(;E>=0;E--)if(C[E-1]===Pt){k=E;break}else if(C[E]===Pt&&(k=E,E===0))break;if(E<0&&C[k]!==void 0&&C[k]!==Pt)return h.rightReverse(A,0);k>=0&&A.setSelectionRange(k,k,"backward")},rightReverse(A,k){const C=A.value.length,E=m(C),M=E.slice(0,k+1).indexOf(Pt)===-1;let I=Math.min(C,k+1);for(;I<=C;I++)if(E[I-1]===Pt){k=I,k>0&&M===!0&&k--;break}if(I>C&&E[k-1]!==void 0&&E[k-1]!==Pt)return h.leftReverse(A,C);A.setSelectionRange(k,k,"forward")}};function y(A){t("click",A),u=void 0}function b(A){if(t("keydown",A),RA(A)===!0||A.altKey===!0)return;const k=n.value,C=k.selectionStart,E=k.selectionEnd;if(A.shiftKey||(u=void 0),A.keyCode===37||A.keyCode===39){A.shiftKey&&u===void 0&&(u=k.selectionDirection==="forward"?C:E);const M=h[(A.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(A.preventDefault(),M(k,u===C?E:C),A.shiftKey){const I=k.selectionStart;k.setSelectionRange(Math.min(u,I),Math.max(u,I),"forward")}}else A.keyCode===8&&e.reverseFillMask!==!0&&C===E?(h.left(k,C),k.setSelectionRange(k.selectionStart,E,"backward")):A.keyCode===46&&e.reverseFillMask===!0&&C===E&&(h.rightReverse(k,E),k.setSelectionRange(C,k.selectionEnd,"forward"))}function _(A){if(A==null||A==="")return"";if(e.reverseFillMask===!0)return w(A);const k=a;let C=0,E="";for(let M=0;M<k.length;M++){const I=A[C],P=k[M];if(typeof P=="string")E+=P,I===P&&C++;else if(I!==void 0&&P.regex.test(I))E+=P.transform!==void 0?P.transform(I):I,C++;else return E}return E}function w(A){const k=a,C=i.indexOf(Pt);let E=A.length-1,M="";for(let I=k.length-1;I>=0&&E!==-1;I--){const P=k[I];let L=A[E];if(typeof P=="string")M=P+M,L===P&&E--;else if(L!==void 0&&P.regex.test(L))do M=(P.transform!==void 0?P.transform(L):L)+M,E--,L=A[E];while(C===I&&L!==void 0&&P.regex.test(L));else return M}return M}function D(A){return typeof A!="string"||o===void 0?typeof A=="number"?o(""+A):A:o(A)}function S(A){return s.length-A.length<=0?A:e.reverseFillMask===!0&&A.length!==0?s.slice(0,-A.length)+A:A+s.slice(A.length)}return{innerValue:d,hasMask:c,moveCursorForPaste:p,updateMaskValue:v,onMaskedKeydown:b,onMaskedClick:y}}const cx={name:String};function _Y(e){return q(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function EO(e={}){return(t,r,n)=>{t[r]($("input",{class:"hidden"+(n||""),...e.value}))}}function MW(e){return q(()=>e.name||e.for)}function IW(e,t){function r(){const n=e.modelValue;try{const i="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(n)===n&&("length"in n?Array.from(n):[n]).forEach(s=>{i.items.add(s)}),{files:i.files}}catch{return{files:void 0}}}return q(t===!0?()=>{if(e.type==="file")return r()}:r)}const BW=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,FW=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,TW=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,PW=/[a-z0-9_ -]$/i;function RW(e){return function(r){if(r.type==="compositionend"||r.type==="change"){if(r.target.qComposing!==!0)return;r.target.qComposing=!1,e(r)}else r.type==="compositionupdate"&&r.target.qComposing!==!0&&typeof r.data=="string"&&(Mt.is.firefox===!0?PW.test(r.data)===!1:BW.test(r.data)===!0||FW.test(r.data)===!0||TW.test(r.data)===!0)===!0&&(r.target.qComposing=!0)}}var CO=ct({name:"QInput",inheritAttrs:!1,props:{...SW,...CW,...cx,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...DW,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:r}){const{proxy:n}=et(),{$q:i}=n,s={};let a=NaN,o,l,u=null,c;const d=De(null),f=MW(e),{innerValue:g,hasMask:m,moveCursorForPaste:x,updateMaskValue:v,onMaskedKeydown:p,onMaskedClick:h}=OW(e,t,L,d),y=IW(e,!0),b=q(()=>fb(g.value)),_=RW(I),w=AW({changeEvent:!0}),D=q(()=>e.type==="textarea"||e.autogrow===!0),S=q(()=>D.value===!0||["text","search","url","tel","password"].includes(e.type)),A=q(()=>{const R={...w.splitAttrs.listeners.value,onInput:I,onPaste:M,onChange:W,onBlur:U,onFocus:sp};return R.onCompositionstart=R.onCompositionupdate=R.onCompositionend=_,m.value===!0&&(R.onKeydown=p,R.onClick=h),e.autogrow===!0&&(R.onAnimationend=P),R}),k=q(()=>{const R={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:f.value,...w.splitAttrs.attributes.value,id:w.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return D.value===!1&&(R.type=e.type),e.autogrow===!0&&(R.rows=1),R});Ve(()=>e.type,()=>{d.value&&(d.value.value=e.modelValue)}),Ve(()=>e.modelValue,R=>{if(m.value===!0){if(l===!0&&(l=!1,String(R)===a))return;v(R)}else g.value!==R&&(g.value=R,e.type==="number"&&s.hasOwnProperty("value")===!0&&(o===!0?o=!1:delete s.value));e.autogrow===!0&&vr(V)}),Ve(()=>e.autogrow,R=>{R===!0?vr(V):d.value!==null&&r.rows>0&&(d.value.style.height="auto")}),Ve(()=>e.dense,()=>{e.autogrow===!0&&vr(V)});function C(){Wb(()=>{const R=document.activeElement;d.value!==null&&d.value!==R&&(R===null||R.id!==w.targetUid.value)&&d.value.focus({preventScroll:!0})})}function E(){d.value!==null&&d.value.select()}function M(R){if(m.value===!0&&e.reverseFillMask!==!0){const H=R.target;x(H,H.selectionStart,H.selectionEnd)}t("paste",R)}function I(R){if(!R||!R.target)return;if(e.type==="file"){t("update:modelValue",R.target.files);return}const H=R.target.value;if(R.target.qComposing===!0){s.value=H;return}if(m.value===!0)v(H,!1,R.inputType);else if(L(H),S.value===!0&&R.target===document.activeElement){const{selectionStart:K,selectionEnd:Ee}=R.target;K!==void 0&&Ee!==void 0&&vr(()=>{R.target===document.activeElement&&H.indexOf(R.target.value)===0&&R.target.setSelectionRange(K,Ee)})}e.autogrow===!0&&V()}function P(R){t("animationend",R),V()}function L(R,H){c=()=>{u=null,e.type!=="number"&&s.hasOwnProperty("value")===!0&&delete s.value,e.modelValue!==R&&a!==R&&(a=R,H===!0&&(l=!0),t("update:modelValue",R),vr(()=>{a===R&&(a=NaN)})),c=void 0},e.type==="number"&&(o=!0,s.value=R),e.debounce!==void 0?(u!==null&&clearTimeout(u),s.value=R,u=setTimeout(c,e.debounce)):c()}function V(){requestAnimationFrame(()=>{const R=d.value;if(R!==null){const H=R.parentNode.style,{scrollTop:K}=R,{overflowY:Ee,maxHeight:ne}=i.platform.is.firefox===!0?{}:window.getComputedStyle(R),j=Ee!==void 0&&Ee!=="scroll";j===!0&&(R.style.overflowY="hidden"),H.marginBottom=R.scrollHeight-1+"px",R.style.height="1px",R.style.height=R.scrollHeight+"px",j===!0&&(R.style.overflowY=parseInt(ne,10)<R.scrollHeight?"auto":"hidden"),H.marginBottom="",R.scrollTop=K}})}function W(R){_(R),u!==null&&(clearTimeout(u),u=null),c!==void 0&&c(),t("change",R.target.value)}function U(R){R!==void 0&&sp(R),u!==null&&(clearTimeout(u),u=null),c!==void 0&&c(),o=!1,l=!1,delete s.value,e.type!=="file"&&setTimeout(()=>{d.value!==null&&(d.value.value=g.value!==void 0?g.value:"")})}function te(){return s.hasOwnProperty("value")===!0?s.value:g.value!==void 0?g.value:""}Fr(()=>{U()}),ur(()=>{e.autogrow===!0&&V()}),Object.assign(w,{innerValue:g,fieldClass:q(()=>`q-${D.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:q(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:d,emitValue:L,hasValue:b,floatingLabel:q(()=>b.value===!0&&(e.type!=="number"||isNaN(g.value)===!1)||fb(e.displayValue)),getControl:()=>$(D.value===!0?"textarea":"input",{ref:d,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...k.value,...A.value,...e.type!=="file"?{value:te()}:y.value}),getShadowControl:()=>$("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(D.value===!0?"":" text-no-wrap")},[$("span",{class:"invisible"},te()),$("span",e.shadowText)])});const N=kW(w);return Object.assign(n,{focus:C,select:E,getNativeElement:()=>d.value}),vl(n,"nativeEl",()=>d.value),N}}),OO=ct({name:"QCardActions",props:{...Yk,vertical:Boolean},setup(e,{slots:t}){const r=Hk(e),n=q(()=>`q-card__actions ${r.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>$("div",{class:n.value},Br(t.default))}});const $W={__name:"UrlChanger",setup(e){const{isMobile:t,isOnline:r}=ve(),{alertError:n}=Ce(),i=De("http://");ur(()=>{localStorage.getItem("backend_url")!==null&&t.value?i.value=localStorage.getItem("backend_url"):sessionStorage.getItem("backend_url")!==null&&t.value&&(i.value=sessionStorage.getItem("backend_url"))});const s=()=>{i.value=i.value.concat("/api"),i.value&&a(i.value)?(localStorage.setItem("backend_url",i.value),sessionStorage.setItem("backend_url",i.value),location.reload()):n("Por Favor Preencha uma URL v\xE1lida")},a=o=>{try{return new URL(o),!0}catch{return!1}};return(o,l)=>(fc(),eg(cp,{style:{width:"800px"}},{default:Xt(()=>[Re(ma,{class:"bg-teal text-white"},{default:Xt(()=>[Re(CO,{outlined:"",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=u=>i.value=u),placeholder:"URL do Servidor","label-color":"black",suffix:"/api",clearable:""},{append:Xt(()=>[]),_:1},8,["modelValue"])]),_:1}),Re(OO,{horizontal:"",align:"right"},{default:Xt(()=>[Re(hp,{push:"",flat:"",class:"shadow-5",onClick:s,color:"primary"},{default:Xt(()=>[tp("Gravar")]),_:1})]),_:1})]),_:1}))}},NW={key:0},LW={class:"row justify-center q-pt-xl q-gutter-xl"},qW={class:"justify-left q-pt-xl"},WW={class:"justify-left q-pb-lg"},jW={class:"col-auto text-grey text-caption row no-wrap items-center justify-center"},YW=$i("div",{class:"row text-center column"},[$i("p",{style:{"font-family":"'line-awesome'"},class:"text-gray text-h5 ellipsis text-weight-bold"},[tp(" Sistema Inteligente para Dispensa "),$i("br"),tp(" de Medicamentos ")])],-1),HW=$i("span",{class:"text-primary text-bold"},"Carregando, por favor aguarde ...",-1),KW={key:1},VW=zp({__name:"App",setup(e){const t=De(!0),r=De(!1),{website:n}=ve(),{loadClinicsDataFromBackEndToPinia:i}=hW(),{loadConfigsSettings:s}=DO();return ur(async()=>{n.value?(s(),t.value=!1):localStorage.getItem("backend_url")===null?r.value=!0:(await AO.getMobile()).length===0?await i().then(o=>{o&&(t.value=!1)}):(Jn.getMobile(),Pe.getMobile(),t.value=!1)}),(a,o)=>{const l=oI("router-view");return fc(),eg(aT,{ratio:16/9},{default:Xt(()=>[Re(sT,null,{default:Xt(()=>[Re(tT,null,{default:Xt(()=>[Re(zA,{persistent:"","transition-show":"slide-up","transition-hide":"slide-down",modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=u=>r.value=u)},{default:Xt(()=>[Re($W)]),_:1},8,["modelValue"]),t.value?(fc(),Yx("div",NW,[Re(cp,{flat:"",bordered:!1},{default:Xt(()=>[Re(ma,{align:"center",class:"q-pt-none"},{default:Xt(()=>[$i("div",LW,[$i("div",qW,[Re(k0,{round:"",size:"160px"},{default:Xt(()=>[Re(ey,{src:oT})]),_:1})]),Re(lp,{spaced:""}),Re(lp,{spaced:""}),$i("div",WW,[Re(k0,{square:"",size:"230px"},{default:Xt(()=>[Re(ey,{src:lT})]),_:1})])])]),_:1})]),_:1}),Re(cp,{class:"flex flex-center",flat:"",bordered:!1},{default:Xt(()=>[Re(ma,null,{default:Xt(()=>[$i("div",jW,[Re(k0,{size:"220px"},{default:Xt(()=>[Re(ey,{src:cT})]),_:1})]),YW]),_:1})]),_:1}),Re(eT,null,{default:Xt(()=>[HW,Re(Za,{size:"100px",color:"primary"})]),_:1})])):(fc(),Yx("div",KW,[Re(l)]))]),_:1})]),_:1})]),_:1})}}});/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const rc=typeof document!="undefined";function UW(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ze=Object.assign;function jv(e,t){const r={};for(const n in t){const i=t[n];r[n]=Si(i)?i.map(e):e(i)}return r}const Ed=()=>{},Si=Array.isArray,MO=/#/g,zW=/&/g,JW=/\//g,GW=/=/g,QW=/\?/g,IO=/\+/g,XW=/%5B/g,ZW=/%5D/g,BO=/%5E/g,e9=/%60/g,FO=/%7B/g,t9=/%7C/g,TO=/%7D/g,r9=/%20/g;function ux(e){return encodeURI(""+e).replace(t9,"|").replace(XW,"[").replace(ZW,"]")}function n9(e){return ux(e).replace(FO,"{").replace(TO,"}").replace(BO,"^")}function hb(e){return ux(e).replace(IO,"%2B").replace(r9,"+").replace(MO,"%23").replace(zW,"%26").replace(e9,"`").replace(FO,"{").replace(TO,"}").replace(BO,"^")}function i9(e){return hb(e).replace(GW,"%3D")}function s9(e){return ux(e).replace(MO,"%23").replace(QW,"%3F")}function a9(e){return e==null?"":s9(e).replace(JW,"%2F")}function Gd(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const o9=/\/$/,l9=e=>e.replace(o9,"");function Yv(e,t,r="/"){let n,i={},s="",a="";const o=t.indexOf("#");let l=t.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(n=t.slice(0,l),s=t.slice(l+1,o>-1?o:t.length),i=e(s)),o>-1&&(n=n||t.slice(0,o),a=t.slice(o,t.length)),n=f9(n!=null?n:t,r),{fullPath:n+(s&&"?")+s+a,path:n,query:i,hash:Gd(a)}}function c9(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function eD(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function u9(e,t,r){const n=t.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&Tc(t.matched[n],r.matched[i])&&PO(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function Tc(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function PO(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!d9(e[r],t[r]))return!1;return!0}function d9(e,t){return Si(e)?tD(e,t):Si(t)?tD(t,e):e===t}function tD(e,t){return Si(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function f9(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let s=r.length-1,a,o;for(a=0;a<n.length;a++)if(o=n[a],o!==".")if(o==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(a).join("/")}var Qd;(function(e){e.pop="pop",e.push="push"})(Qd||(Qd={}));var Cd;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Cd||(Cd={}));function h9(e){if(!e)if(rc){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),l9(e)}const p9=/^[^#]+#/;function g9(e,t){return e.replace(p9,"#")+t}function y9(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const Tg=()=>({left:window.scrollX,top:window.scrollY});function v9(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=y9(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function rD(e,t){return(history.state?history.state.position-t:-1)+e}const pb=new Map;function m9(e,t){pb.set(e,t)}function b9(e){const t=pb.get(e);return pb.delete(e),t}let _9=()=>location.protocol+"//"+location.host;function RO(e,t){const{pathname:r,search:n,hash:i}=t,s=e.indexOf("#");if(s>-1){let o=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(o);return l[0]!=="/"&&(l="/"+l),eD(l,"")}return eD(r,e)+n+i}function x9(e,t,r,n){let i=[],s=[],a=null;const o=({state:f})=>{const g=RO(e,location),m=r.value,x=t.value;let v=0;if(f){if(r.value=g,t.value=f,a&&a===m){a=null;return}v=x?f.position-x.position:0}else n(g);i.forEach(p=>{p(r.value,m,{delta:v,type:Qd.pop,direction:v?v>0?Cd.forward:Cd.back:Cd.unknown})})};function l(){a=r.value}function u(f){i.push(f);const g=()=>{const m=i.indexOf(f);m>-1&&i.splice(m,1)};return s.push(g),g}function c(){const{history:f}=window;!f.state||f.replaceState(Ze({},f.state,{scroll:Tg()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function nD(e,t,r,n=!1,i=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:i?Tg():null}}function w9(e){const{history:t,location:r}=window,n={value:RO(e,r)},i={value:t.state};i.value||s(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=e.indexOf("#"),f=d>-1?(r.host&&document.querySelector("base")?e:e.slice(d))+l:_9()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(g){console.error(g),r[c?"replace":"assign"](f)}}function a(l,u){const c=Ze({},t.state,nD(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),n.value=l}function o(l,u){const c=Ze({},i.value,t.state,{forward:l,scroll:Tg()});s(c.current,c,!0);const d=Ze({},nD(n.value,l,null),{position:c.position+1},u);s(l,d,!1),n.value=l}return{location:n,state:i,push:o,replace:a}}function S9(e){e=h9(e);const t=w9(e),r=x9(e,t.state,t.location,t.replace);function n(s,a=!0){a||r.pauseListeners(),history.go(s)}const i=Ze({location:"",base:e,go:n,createHref:g9.bind(null,e)},t,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function D9(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),S9(e)}function A9(e){return typeof e=="string"||e&&typeof e=="object"}function $O(e){return typeof e=="string"||typeof e=="symbol"}const oa={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NO=Symbol("");var iD;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(iD||(iD={}));function Pc(e,t){return Ze(new Error,{type:e,[NO]:!0},t)}function ls(e,t){return e instanceof Error&&NO in e&&(t==null||!!(e.type&t))}const sD="[^/]+?",k9={sensitive:!1,strict:!1,start:!0,end:!0},E9=/[.+*?^${}()[\]/\\]/g;function C9(e,t){const r=Ze({},k9,t),n=[];let i=r.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];r.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let g=40+(r.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(E9,"\\$&"),g+=40;else if(f.type===1){const{value:m,repeatable:x,optional:v,regexp:p}=f;s.push({name:m,repeatable:x,optional:v});const h=p||sD;if(h!==sD){g+=10;try{new RegExp(`(${h})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${m}" (${h}): `+b.message)}}let y=x?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;d||(y=v&&u.length<2?`(?:/${y})`:"/"+y),v&&(y+="?"),i+=y,g+=20,v&&(g+=-8),x&&(g+=-20),h===".*"&&(g+=-50)}c.push(g)}n.push(c)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const a=new RegExp(i,r.sensitive?"":"i");function o(u){const c=u.match(a),d={};if(!c)return null;for(let f=1;f<c.length;f++){const g=c[f]||"",m=s[f-1];d[m.name]=g&&m.repeatable?g.split("/"):g}return d}function l(u){let c="",d=!1;for(const f of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const g of f)if(g.type===0)c+=g.value;else if(g.type===1){const{value:m,repeatable:x,optional:v}=g,p=m in u?u[m]:"";if(Si(p)&&!x)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const h=Si(p)?p.join("/"):p;if(!h)if(v)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);c+=h}}return c||"/"}return{re:a,score:n,keys:s,parse:o,stringify:l}}function O9(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function M9(e,t){let r=0;const n=e.score,i=t.score;for(;r<n.length&&r<i.length;){const s=O9(n[r],i[r]);if(s)return s;r++}if(Math.abs(i.length-n.length)===1){if(aD(n))return 1;if(aD(i))return-1}return i.length-n.length}function aD(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const I9={type:0,value:""},B9=/[a-zA-Z0-9_]/;function F9(e){if(!e)return[[]];if(e==="/")return[[I9]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${r})/"${u}": ${g}`)}let r=0,n=r;const i=[];let s;function a(){s&&i.push(s),s=[]}let o=0,l,u="",c="";function d(){!u||(r===0?s.push({type:0,value:u}):r===1||r===2||r===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;o<e.length;){if(l=e[o++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(u&&d(),a()):l===":"?(d(),r=1):f();break;case 4:f(),r=n;break;case 1:l==="("?r=2:B9.test(l)?f():(d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,c="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),a(),i}function T9(e,t,r){const n=C9(F9(e.path),r),i=Ze(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function P9(e,t){const r=[],n=new Map;t=cD({strict:!1,end:!0,sensitive:!1},t);function i(c){return n.get(c)}function s(c,d,f){const g=!f,m=R9(c);m.aliasOf=f&&f.record;const x=cD(t,c),v=[m];if("alias"in c){const y=typeof c.alias=="string"?[c.alias]:c.alias;for(const b of y)v.push(Ze({},m,{components:f?f.record.components:m.components,path:b,aliasOf:f?f.record:m}))}let p,h;for(const y of v){const{path:b}=y;if(d&&b[0]!=="/"){const _=d.record.path,w=_[_.length-1]==="/"?"":"/";y.path=d.record.path+(b&&w+b)}if(p=T9(y,d,x),f?f.alias.push(p):(h=h||p,h!==p&&h.alias.push(p),g&&c.name&&!lD(p)&&a(c.name)),m.children){const _=m.children;for(let w=0;w<_.length;w++)s(_[w],p,f&&f.children[w])}f=f||p,(p.record.components&&Object.keys(p.record.components).length||p.record.name||p.record.redirect)&&l(p)}return h?()=>{a(h)}:Ed}function a(c){if($O(c)){const d=n.get(c);d&&(n.delete(c),r.splice(r.indexOf(d),1),d.children.forEach(a),d.alias.forEach(a))}else{const d=r.indexOf(c);d>-1&&(r.splice(d,1),c.record.name&&n.delete(c.record.name),c.children.forEach(a),c.alias.forEach(a))}}function o(){return r}function l(c){let d=0;for(;d<r.length&&M9(c,r[d])>=0&&(c.record.path!==r[d].record.path||!LO(c,r[d]));)d++;r.splice(d,0,c),c.record.name&&!lD(c)&&n.set(c.record.name,c)}function u(c,d){let f,g={},m,x;if("name"in c&&c.name){if(f=n.get(c.name),!f)throw Pc(1,{location:c});x=f.record.name,g=Ze(oD(d.params,f.keys.filter(h=>!h.optional).concat(f.parent?f.parent.keys.filter(h=>h.optional):[]).map(h=>h.name)),c.params&&oD(c.params,f.keys.map(h=>h.name))),m=f.stringify(g)}else if(c.path!=null)m=c.path,f=r.find(h=>h.re.test(m)),f&&(g=f.parse(m),x=f.record.name);else{if(f=d.name?n.get(d.name):r.find(h=>h.re.test(d.path)),!f)throw Pc(1,{location:c,currentLocation:d});x=f.record.name,g=Ze({},d.params,c.params),m=f.stringify(g)}const v=[];let p=f;for(;p;)v.unshift(p.record),p=p.parent;return{name:x,path:m,params:g,matched:v,meta:N9(v)}}return e.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:a,getRoutes:o,getRecordMatcher:i}}function oD(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function R9(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:$9(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function $9(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="object"?r[n]:r;return t}function lD(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function N9(e){return e.reduce((t,r)=>Ze(t,r.meta),{})}function cD(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function LO(e,t){return t.children.some(r=>r===e||LO(e,r))}function L9(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const s=n[i].replace(IO," "),a=s.indexOf("="),o=Gd(a<0?s:s.slice(0,a)),l=a<0?null:Gd(s.slice(a+1));if(o in t){let u=t[o];Si(u)||(u=t[o]=[u]),u.push(l)}else t[o]=l}return t}function uD(e){let t="";for(let r in e){const n=e[r];if(r=i9(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(Si(n)?n.map(s=>s&&hb(s)):[n&&hb(n)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+r,s!=null&&(t+="="+s))})}return t}function q9(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=Si(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const W9=Symbol(""),dD=Symbol(""),Pg=Symbol(""),qO=Symbol(""),gb=Symbol("");function $u(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function ga(e,t,r,n,i,s=a=>a()){const a=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((o,l)=>{const u=f=>{f===!1?l(Pc(4,{from:r,to:t})):f instanceof Error?l(f):A9(f)?l(Pc(2,{from:t,to:f})):(a&&n.enterCallbacks[i]===a&&typeof f=="function"&&a.push(f),o())},c=s(()=>e.call(n&&n.instances[i],t,r,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function Hv(e,t,r,n,i=s=>s()){const s=[];for(const a of e)for(const o in a.components){let l=a.components[o];if(!(t!=="beforeRouteEnter"&&!a.instances[o]))if(j9(l)){const c=(l.__vccOpts||l)[t];c&&s.push(ga(c,r,n,a,o,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${a.path}"`));const d=UW(c)?c.default:c;a.components[o]=d;const g=(d.__vccOpts||d)[t];return g&&ga(g,r,n,a,o,i)()}))}}return s}function j9(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function fD(e){const t=zr(Pg),r=zr(qO),n=q(()=>{const l=Ma(e.to);return t.resolve(l)}),i=q(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],d=r.matched;if(!c||!d.length)return-1;const f=d.findIndex(Tc.bind(null,c));if(f>-1)return f;const g=hD(l[u-2]);return u>1&&hD(c)===g&&d[d.length-1].path!==g?d.findIndex(Tc.bind(null,l[u-2])):f}),s=q(()=>i.value>-1&&V9(r.params,n.value.params)),a=q(()=>i.value>-1&&i.value===r.matched.length-1&&PO(r.params,n.value.params));function o(l={}){return K9(l)?t[Ma(e.replace)?"replace":"push"](Ma(e.to)).catch(Ed):Promise.resolve()}return{route:n,href:q(()=>n.value.href),isActive:s,isExactActive:a,navigate:o}}const Y9=zp({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fD,setup(e,{slots:t}){const r=gi(fD(e)),{options:n}=zr(Pg),i=q(()=>({[pD(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[pD(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=t.default&&t.default(r);return e.custom?s:$("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},s)}}}),H9=Y9;function K9(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function V9(e,t){for(const r in t){const n=t[r],i=e[r];if(typeof n=="string"){if(n!==i)return!1}else if(!Si(i)||i.length!==n.length||n.some((s,a)=>s!==i[a]))return!1}return!0}function hD(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const pD=(e,t,r)=>e!=null?e:t!=null?t:r,U9=zp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=zr(gb),i=q(()=>e.route||n.value),s=zr(dD,0),a=q(()=>{let u=Ma(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),o=q(()=>i.value.matched[a.value]);dc(dD,q(()=>a.value+1)),dc(W9,o),dc(gb,i);const l=De();return Ve(()=>[l.value,o.value,e.name],([u,c,d],[f,g,m])=>{c&&(c.instances[d]=u,g&&g!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),u&&c&&(!g||!Tc(c,g)||!f)&&(c.enterCallbacks[d]||[]).forEach(x=>x(u))},{flush:"post"}),()=>{const u=i.value,c=e.name,d=o.value,f=d&&d.components[c];if(!f)return gD(r.default,{Component:f,route:u});const g=d.props[c],m=g?g===!0?u.params:typeof g=="function"?g(u):g:null,v=$(f,Ze({},m,t,{onVnodeUnmounted:p=>{p.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return gD(r.default,{Component:v,route:u})||v}}});function gD(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const z9=U9;function J9(e){const t=P9(e.routes,e),r=e.parseQuery||L9,n=e.stringifyQuery||uD,i=e.history,s=$u(),a=$u(),o=$u(),l=KM(oa);let u=oa;rc&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=jv.bind(null,j=>""+j),d=jv.bind(null,a9),f=jv.bind(null,Gd);function g(j,Z){let ce,ge;return $O(j)?(ce=t.getRecordMatcher(j),ge=Z):ge=j,t.addRoute(ge,ce)}function m(j){const Z=t.getRecordMatcher(j);Z&&t.removeRoute(Z)}function x(){return t.getRoutes().map(j=>j.record)}function v(j){return!!t.getRecordMatcher(j)}function p(j,Z){if(Z=Ze({},Z||l.value),typeof j=="string"){const T=Yv(r,j,Z.path),Y=t.resolve({path:T.path},Z),X=i.createHref(T.fullPath);return Ze(T,Y,{params:f(Y.params),hash:Gd(T.hash),redirectedFrom:void 0,href:X})}let ce;if(j.path!=null)ce=Ze({},j,{path:Yv(r,j.path,Z.path).path});else{const T=Ze({},j.params);for(const Y in T)T[Y]==null&&delete T[Y];ce=Ze({},j,{params:d(T)}),Z.params=d(Z.params)}const ge=t.resolve(ce,Z),We=j.hash||"";ge.params=c(f(ge.params));const Ue=c9(n,Ze({},j,{hash:n9(We),path:ge.path})),F=i.createHref(Ue);return Ze({fullPath:Ue,hash:We,query:n===uD?q9(j.query):j.query||{}},ge,{redirectedFrom:void 0,href:F})}function h(j){return typeof j=="string"?Yv(r,j,l.value.path):Ze({},j)}function y(j,Z){if(u!==j)return Pc(8,{from:Z,to:j})}function b(j){return D(j)}function _(j){return b(Ze(h(j),{replace:!0}))}function w(j){const Z=j.matched[j.matched.length-1];if(Z&&Z.redirect){const{redirect:ce}=Z;let ge=typeof ce=="function"?ce(j):ce;return typeof ge=="string"&&(ge=ge.includes("?")||ge.includes("#")?ge=h(ge):{path:ge},ge.params={}),Ze({query:j.query,hash:j.hash,params:ge.path!=null?{}:j.params},ge)}}function D(j,Z){const ce=u=p(j),ge=l.value,We=j.state,Ue=j.force,F=j.replace===!0,T=w(ce);if(T)return D(Ze(h(T),{state:typeof T=="object"?Ze({},We,T.state):We,force:Ue,replace:F}),Z||ce);const Y=ce;Y.redirectedFrom=Z;let X;return!Ue&&u9(n,ge,ce)&&(X=Pc(16,{to:Y,from:ge}),N(ge,ge,!0,!1)),(X?Promise.resolve(X):k(Y,ge)).catch(Q=>ls(Q)?ls(Q,2)?Q:te(Q):W(Q,Y,ge)).then(Q=>{if(Q){if(ls(Q,2))return D(Ze({replace:F},h(Q.to),{state:typeof Q.to=="object"?Ze({},We,Q.to.state):We,force:Ue}),Z||Y)}else Q=E(Y,ge,!0,F,We);return C(Y,ge,Q),Q})}function S(j,Z){const ce=y(j,Z);return ce?Promise.reject(ce):Promise.resolve()}function A(j){const Z=K.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(j):j()}function k(j,Z){let ce;const[ge,We,Ue]=G9(j,Z);ce=Hv(ge.reverse(),"beforeRouteLeave",j,Z);for(const T of ge)T.leaveGuards.forEach(Y=>{ce.push(ga(Y,j,Z))});const F=S.bind(null,j,Z);return ce.push(F),ne(ce).then(()=>{ce=[];for(const T of s.list())ce.push(ga(T,j,Z));return ce.push(F),ne(ce)}).then(()=>{ce=Hv(We,"beforeRouteUpdate",j,Z);for(const T of We)T.updateGuards.forEach(Y=>{ce.push(ga(Y,j,Z))});return ce.push(F),ne(ce)}).then(()=>{ce=[];for(const T of Ue)if(T.beforeEnter)if(Si(T.beforeEnter))for(const Y of T.beforeEnter)ce.push(ga(Y,j,Z));else ce.push(ga(T.beforeEnter,j,Z));return ce.push(F),ne(ce)}).then(()=>(j.matched.forEach(T=>T.enterCallbacks={}),ce=Hv(Ue,"beforeRouteEnter",j,Z,A),ce.push(F),ne(ce))).then(()=>{ce=[];for(const T of a.list())ce.push(ga(T,j,Z));return ce.push(F),ne(ce)}).catch(T=>ls(T,8)?T:Promise.reject(T))}function C(j,Z,ce){o.list().forEach(ge=>A(()=>ge(j,Z,ce)))}function E(j,Z,ce,ge,We){const Ue=y(j,Z);if(Ue)return Ue;const F=Z===oa,T=rc?history.state:{};ce&&(ge||F?i.replace(j.fullPath,Ze({scroll:F&&T&&T.scroll},We)):i.push(j.fullPath,We)),l.value=j,N(j,Z,ce,F),te()}let M;function I(){M||(M=i.listen((j,Z,ce)=>{if(!Ee.listening)return;const ge=p(j),We=w(ge);if(We){D(Ze(We,{replace:!0}),ge).catch(Ed);return}u=ge;const Ue=l.value;rc&&m9(rD(Ue.fullPath,ce.delta),Tg()),k(ge,Ue).catch(F=>ls(F,12)?F:ls(F,2)?(D(F.to,ge).then(T=>{ls(T,20)&&!ce.delta&&ce.type===Qd.pop&&i.go(-1,!1)}).catch(Ed),Promise.reject()):(ce.delta&&i.go(-ce.delta,!1),W(F,ge,Ue))).then(F=>{F=F||E(ge,Ue,!1),F&&(ce.delta&&!ls(F,8)?i.go(-ce.delta,!1):ce.type===Qd.pop&&ls(F,20)&&i.go(-1,!1)),C(ge,Ue,F)}).catch(Ed)}))}let P=$u(),L=$u(),V;function W(j,Z,ce){te(j);const ge=L.list();return ge.length?ge.forEach(We=>We(j,Z,ce)):console.error(j),Promise.reject(j)}function U(){return V&&l.value!==oa?Promise.resolve():new Promise((j,Z)=>{P.add([j,Z])})}function te(j){return V||(V=!j,I(),P.list().forEach(([Z,ce])=>j?ce(j):Z()),P.reset()),j}function N(j,Z,ce,ge){const{scrollBehavior:We}=e;if(!rc||!We)return Promise.resolve();const Ue=!ce&&b9(rD(j.fullPath,0))||(ge||!ce)&&history.state&&history.state.scroll||null;return vr().then(()=>We(j,Z,Ue)).then(F=>F&&v9(F)).catch(F=>W(F,j,Z))}const R=j=>i.go(j);let H;const K=new Set,Ee={currentRoute:l,listening:!0,addRoute:g,removeRoute:m,hasRoute:v,getRoutes:x,resolve:p,options:e,push:b,replace:_,go:R,back:()=>R(-1),forward:()=>R(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:L.add,isReady:U,install(j){const Z=this;j.component("RouterLink",H9),j.component("RouterView",z9),j.config.globalProperties.$router=Z,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>Ma(l)}),rc&&!H&&l.value===oa&&(H=!0,b(i.location).catch(We=>{}));const ce={};for(const We in oa)Object.defineProperty(ce,We,{get:()=>l.value[We],enumerable:!0});j.provide(Pg,Z),j.provide(qO,ND(ce)),j.provide(gb,l);const ge=j.unmount;K.add(j),j.unmount=function(){K.delete(j),K.size<1&&(u=oa,M&&M(),M=null,l.value=oa,H=!1,V=!1),ge()}}};function ne(j){return j.reduce((Z,ce)=>Z.then(()=>A(ce)),Promise.resolve())}return Ee}function G9(e,t){const r=[],n=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const o=t.matched[a];o&&(e.matched.find(u=>Tc(u,o))?n.push(o):r.push(o));const l=e.matched[a];l&&(t.matched.find(u=>Tc(u,l))||i.push(l))}return[r,n,i]}function xY(){return zr(Pg)}var ir={menusVisible(e){const t=sessionStorage.getItem("role_menus");if(t!==null)return!!t.includes(e)}};const Q9=[{path:"/",component:()=>xt(()=>import("./MainLayout.d0a282e6.js"),["assets/MainLayout.d0a282e6.js","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/QTabs.9968ab83.js","assets/QBadge.cb49eccd.js","assets/QList.d4521672.js","assets/QBtnDropdown.23f7ab1d.js","assets/QToolbar.a9ffd08a.js","assets/ClosePopup.20eb2e56.js","assets/QForm.d27e0ea1.js"]),beforeEnter(e,t,r){const n=sessionStorage.getItem("user");n===null||String(n).includes("null")?r("/Login"):r()},children:[{path:"",component:()=>xt(()=>import("./Home.20e8a81a.js"),["assets/Home.20e8a81a.js","assets/Home.c522d61d.css","assets/QTooltip.f3ef7ac8.js","assets/position-engine.b3fa6cbd.js","assets/QPage.651618ac.js","assets/plugin-vue_export-helper.21dcd24c.js"])},{path:"patients",component:()=>xt(()=>import("./Patient.ee226f3d.js"),["assets/Patient.ee226f3d.js","assets/QSpace.b53e3d44.js","assets/QSelect.caa108f8.js","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/QTooltip.f3ef7ac8.js","assets/QTable.f91943bc.js","assets/QList.d4521672.js","assets/QLinearProgress.c6927d78.js","assets/TitleBar.f7be41e1.js","assets/PatientRegister.9f39be71.js","assets/QPopupProxy.bc9f6d75.js","assets/use-render-cache.3aae9b27.js","assets/ClosePopup.20eb2e56.js","assets/patientMethods.cc912af0.js"]),beforeEnter(e,t,r){ir.menusVisible("Pacientes")?r():r("/:catchAll(.*)*")}},{path:"patientpanel",component:()=>xt(()=>import("./PatientPanel.cf1692ff.js"),["assets/PatientPanel.cf1692ff.js","assets/PatientPanel.f96c7d9a.css","assets/QScrollArea.288f8a37.js","assets/TouchPan.90ce57a2.js","assets/position-engine.b3fa6cbd.js","assets/QDrawer.64b2d870.js","assets/QTabPanels.fab18ecb.js","assets/QTabs.9968ab83.js","assets/QMenu.9a83401e.js","assets/use-render-cache.3aae9b27.js","assets/QToolbar.a9ffd08a.js","assets/TitleBar.f7be41e1.js","assets/patientMethods.cc912af0.js","assets/PatientRegister.9f39be71.js","assets/QSpace.b53e3d44.js","assets/QSelect.caa108f8.js","assets/QPopupProxy.bc9f6d75.js","assets/QTooltip.f3ef7ac8.js","assets/ClosePopup.20eb2e56.js","assets/QTable.f91943bc.js","assets/QList.d4521672.js","assets/QLinearProgress.c6927d78.js","assets/AddEditPrescriptionUnit.262246ef.js","assets/AddEditPrescriptionUnit.6bc39d03.css","assets/ListHeader.c33af243.js","assets/ListHeader.7507011c.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/drugMethods.baae673f.js","assets/patientTransReferenceService.af812779.js","assets/QExpansionItem.095ed3fd.js","assets/QSlideTransition.7e213459.js","assets/imageBytes.1a4fecd7.js","assets/NotoSans-Regular.92f6a76e.js","assets/QStepperNavigation.7576f0eb.js"]),beforeEnter(e,t,r){ir.menusVisible("Pacientes")?r():r("/:catchAll(.*)*")}},{path:"group/panel",component:()=>xt(()=>import("./GroupPanel.34e851a4.js"),["assets/GroupPanel.34e851a4.js","assets/GroupPanel.5b1d2324.css","assets/QScrollArea.288f8a37.js","assets/TouchPan.90ce57a2.js","assets/position-engine.b3fa6cbd.js","assets/QDrawer.64b2d870.js","assets/TitleBar.f7be41e1.js","assets/AddEditGroup.f0083a83.js","assets/AddEditGroup.323c43de.css","assets/QSelect.caa108f8.js","assets/QMenu.9a83401e.js","assets/QPopupProxy.bc9f6d75.js","assets/use-render-cache.3aae9b27.js","assets/QSpace.b53e3d44.js","assets/QTooltip.f3ef7ac8.js","assets/QTable.f91943bc.js","assets/QList.d4521672.js","assets/QLinearProgress.c6927d78.js","assets/ClosePopup.20eb2e56.js","assets/patientMethods.cc912af0.js","assets/AddEditPrescriptionUnit.262246ef.js","assets/AddEditPrescriptionUnit.6bc39d03.css","assets/ListHeader.c33af243.js","assets/ListHeader.7507011c.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/drugMethods.baae673f.js","assets/QExpansionItem.095ed3fd.js","assets/QSlideTransition.7e213459.js"]),beforeEnter(e,t,r){ir.menusVisible("Grupos")?r():r("/:catchAll(.*)*")}},{path:"group/search",component:()=>xt(()=>import("./SearchAddGroup.3ecec870.js"),["assets/SearchAddGroup.3ecec870.js","assets/QTable.f91943bc.js","assets/QList.d4521672.js","assets/QSelect.caa108f8.js","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/QLinearProgress.c6927d78.js","assets/QTooltip.f3ef7ac8.js","assets/QScrollArea.288f8a37.js","assets/TouchPan.90ce57a2.js","assets/TitleBar.f7be41e1.js","assets/AddEditGroup.f0083a83.js","assets/AddEditGroup.323c43de.css","assets/QPopupProxy.bc9f6d75.js","assets/use-render-cache.3aae9b27.js","assets/QSpace.b53e3d44.js","assets/ClosePopup.20eb2e56.js","assets/patientMethods.cc912af0.js"]),beforeEnter(e,t,r){ir.menusVisible("Grupos")?r():r("/:catchAll(.*)*")}},{path:"stock",component:()=>xt(()=>import("./Stock.46ea43a8.js"),["assets/Stock.46ea43a8.js","assets/Stock.6cd2c961.css","assets/QTabPanels.fab18ecb.js","assets/QTabs.9968ab83.js","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/TouchPan.90ce57a2.js","assets/use-render-cache.3aae9b27.js","assets/QBadge.cb49eccd.js","assets/InvnetoryMethod.3c0c56e2.js","assets/ClosePopup.20eb2e56.js","assets/TitleBar.f7be41e1.js","assets/QTable.f91943bc.js","assets/QList.d4521672.js","assets/QSelect.caa108f8.js","assets/QLinearProgress.c6927d78.js","assets/QTooltip.f3ef7ac8.js","assets/QInnerLoading.e80e6b25.js","assets/StockAlertService.3ee5a37f.js","assets/StockMethod.5d6dd1ce.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/QPopupProxy.bc9f6d75.js","assets/QScrollArea.288f8a37.js","assets/stockLevelService.ff3920be.js"]),beforeEnter(e,t,r){ir.menusVisible("Stock")?r():r("/:catchAll(.*)*")}},{path:"stock/entrance",component:()=>xt(()=>import("./EntrancePanel.c549cfc6.js"),["assets/EntrancePanel.c549cfc6.js","assets/StockConfirmDistributionPanel.46b0120b.css","assets/QPopupProxy.bc9f6d75.js","assets/use-render-cache.3aae9b27.js","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/QTable.f91943bc.js","assets/QList.d4521672.js","assets/QSelect.caa108f8.js","assets/QLinearProgress.c6927d78.js","assets/ListHeader.c33af243.js","assets/ListHeader.7507011c.css","assets/ClosePopup.20eb2e56.js","assets/StockMethod.5d6dd1ce.js","assets/TitleBar.f7be41e1.js","assets/drugMethods.baae673f.js"]),beforeEnter(e,t,r){ir.menusVisible("Stock")?r():r("/:catchAll(.*)*")}},{path:"stock/drugFile",component:()=>xt(()=>import("./DrugFile.4dbd098b.js"),["assets/DrugFile.4dbd098b.js","assets/DrugFile.7268535b.css","assets/QSpace.b53e3d44.js","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/QList.d4521672.js","assets/QTable.f91943bc.js","assets/QSelect.caa108f8.js","assets/QLinearProgress.c6927d78.js","assets/QInnerLoading.e80e6b25.js","assets/QScrollArea.288f8a37.js","assets/TouchPan.90ce57a2.js","assets/TitleBar.f7be41e1.js","assets/QPopupProxy.bc9f6d75.js","assets/use-render-cache.3aae9b27.js","assets/ClosePopup.20eb2e56.js","assets/ListHeader.c33af243.js","assets/ListHeader.7507011c.css","assets/StockMethod.5d6dd1ce.js","assets/imageBytes.1a4fecd7.js","assets/exceljs.min.c840c290.js","assets/ReportService.c2f34a2e.js","assets/StockAlertService.3ee5a37f.js","assets/ReceivedStockMobileService..72a4bb91.js"]),beforeEnter(e,t,r){ir.menusVisible("Stock")?r():r("/:catchAll(.*)*")}},{path:"stock/inventory",component:()=>xt(()=>import("./InventoryPanel.0ef76790.js"),["assets/InventoryPanel.0ef76790.js","assets/StockConfirmDistributionPanel.46b0120b.css","assets/QPopupProxy.bc9f6d75.js","assets/use-render-cache.3aae9b27.js","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/QSpace.b53e3d44.js","assets/QScrollArea.288f8a37.js","assets/TouchPan.90ce57a2.js","assets/ClosePopup.20eb2e56.js","assets/InvnetoryMethod.3c0c56e2.js","assets/TitleBar.f7be41e1.js","assets/ListHeader.c33af243.js","assets/ListHeader.7507011c.css","assets/QSelect.caa108f8.js","assets/QTable.f91943bc.js","assets/QList.d4521672.js","assets/QLinearProgress.c6927d78.js","assets/StockAlertService.3ee5a37f.js","assets/StockMethod.5d6dd1ce.js"]),beforeEnter(e,t,r){ir.menusVisible("Stock")?r():r("/:catchAll(.*)*")}},{path:"stock/stockDistributor",component:()=>xt(()=>import("./StockDistributorPanel.fa4e1efd.js"),["assets/StockDistributorPanel.fa4e1efd.js","assets/StockConfirmDistributionPanel.46b0120b.css","assets/QPopupProxy.bc9f6d75.js","assets/use-render-cache.3aae9b27.js","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/QTable.f91943bc.js","assets/QList.d4521672.js","assets/QSelect.caa108f8.js","assets/QLinearProgress.c6927d78.js","assets/ListHeader.c33af243.js","assets/ListHeader.7507011c.css","assets/ClosePopup.20eb2e56.js","assets/TitleBar.f7be41e1.js","assets/stockLevelService.ff3920be.js"]),beforeEnter(e,t,r){ir.menusVisible("Stock")?r():r("/:catchAll(.*)*")}},{path:"stock/stockConfirmation",component:()=>xt(()=>import("./StockConfirmDistributionPanel.87dbf6d7.js"),["assets/StockConfirmDistributionPanel.87dbf6d7.js","assets/StockConfirmDistributionPanel.46b0120b.css","assets/QPopupProxy.bc9f6d75.js","assets/use-render-cache.3aae9b27.js","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/QTable.f91943bc.js","assets/QList.d4521672.js","assets/QSelect.caa108f8.js","assets/QLinearProgress.c6927d78.js","assets/ListHeader.c33af243.js","assets/ListHeader.7507011c.css","assets/ClosePopup.20eb2e56.js","assets/TitleBar.f7be41e1.js"]),beforeEnter(e,t,r){ir.menusVisible("Stock")?r():r("/:catchAll(.*)*")}},{path:"dashboard",component:()=>xt(()=>import("./Dashboard.b09126c5.js"),["assets/Dashboard.b09126c5.js","assets/Dashboard.c4313c6c.css","assets/QSelect.caa108f8.js","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/TouchPan.90ce57a2.js","assets/ReportService.c2f34a2e.js","assets/StockAlertService.3ee5a37f.js","assets/StockMethod.5d6dd1ce.js","assets/vue3-apexcharts.3aa27b40.js","assets/QTable.f91943bc.js","assets/QList.d4521672.js","assets/QLinearProgress.c6927d78.js"]),beforeEnter(e,t,r){ir.menusVisible("Dashboard")?r():r("/:catchAll(.*)*")}},{path:"reports",component:()=>xt(()=>import("./Reports.2cb75f21.js"),["assets/Reports.2cb75f21.js","assets/Reports.c0335590.css","assets/QTabPanels.fab18ecb.js","assets/QTabs.9968ab83.js","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/TouchPan.90ce57a2.js","assets/use-render-cache.3aae9b27.js","assets/QBar.e1318611.js","assets/QScrollArea.288f8a37.js","assets/TitleBar.f7be41e1.js","assets/QSelect.caa108f8.js","assets/QBtnDropdown.23f7ab1d.js","assets/QList.d4521672.js","assets/ListHeader.c33af243.js","assets/ListHeader.7507011c.css","assets/ClosePopup.20eb2e56.js","assets/QExpansionItem.095ed3fd.js","assets/QSlideTransition.7e213459.js","assets/ReportService.c2f34a2e.js","assets/StockAlertService.3ee5a37f.js","assets/StockMethod.5d6dd1ce.js","assets/imageBytes.1a4fecd7.js","assets/exceljs.min.c840c290.js","assets/NotoSans-Regular.92f6a76e.js","assets/ReceivedStockMobileService..72a4bb91.js","assets/QPopupProxy.bc9f6d75.js","assets/QTooltip.f3ef7ac8.js","assets/QBadge.cb49eccd.js","assets/QLinearProgress.c6927d78.js","assets/QSpinnerIos.e4750760.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/use-quasar.084c7cba.js"]),beforeEnter(e,t,r){ir.menusVisible("Relatorios")?r():r("/:catchAll(.*)*")}},{path:"settings",component:()=>xt(()=>import("./Settings.ef620abe.js"),["assets/Settings.ef620abe.js","assets/Settings.5656cbf8.css","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/QList.d4521672.js","assets/QScrollArea.288f8a37.js","assets/TouchPan.90ce57a2.js","assets/QDrawer.64b2d870.js","assets/QTabPanels.fab18ecb.js","assets/QTabs.9968ab83.js","assets/use-render-cache.3aae9b27.js","assets/QBar.e1318611.js","assets/QInnerLoading.e80e6b25.js","assets/QTable.f91943bc.js","assets/QSelect.caa108f8.js","assets/QLinearProgress.c6927d78.js","assets/QTooltip.f3ef7ac8.js","assets/AddClinic.5da5f93c.js","assets/AddClinic.fd74e021.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/QStepperNavigation.7576f0eb.js","assets/QSlideTransition.7e213459.js"]),beforeEnter(e,t,r){ir.menusVisible("Administra\xE7\xE3o")?r():r("/:catchAll(.*)*")}},{path:"migration",component:()=>xt(()=>import("./Migration.eaf20079.js"),["assets/Migration.eaf20079.js","assets/ReportService.c2f34a2e.js","assets/StockAlertService.3ee5a37f.js","assets/StockMethod.5d6dd1ce.js","assets/exceljs.min.c840c290.js","assets/QTable.f91943bc.js","assets/QList.d4521672.js","assets/QSelect.caa108f8.js","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/QLinearProgress.c6927d78.js","assets/vue3-apexcharts.3aa27b40.js","assets/TitleBar.f7be41e1.js"]),beforeEnter(e,t,r){ir.menusVisible("Migra\xE7\xE3o")?r():r("/:catchAll(.*)*")}},{path:"loadfiledc",component:()=>xt(()=>import("./loadFile.0c3331e8.js"),["assets/loadFile.0c3331e8.js","assets/QSpace.b53e3d44.js","assets/QSelect.caa108f8.js","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/QTable.f91943bc.js","assets/QList.d4521672.js","assets/QLinearProgress.c6927d78.js","assets/QTooltip.f3ef7ac8.js","assets/QSpinnerIos.e4750760.js","assets/TitleBar.f7be41e1.js","assets/patientTransReferenceService.af812779.js"]),beforeEnter(e,t,r){ir.menusVisible("DCProvedor")?r():r("/:catchAll(.*)*")}},{path:"home",component:()=>xt(()=>import("./Home.20e8a81a.js"),["assets/Home.20e8a81a.js","assets/Home.c522d61d.css","assets/QTooltip.f3ef7ac8.js","assets/position-engine.b3fa6cbd.js","assets/QPage.651618ac.js","assets/plugin-vue_export-helper.21dcd24c.js"]),beforeEnter(e,t,r){ir.menusVisible("Tela Inicial")?r():r("/:catchAll(.*)*")}},{path:"add-clinic",component:()=>xt(()=>import("./AddClinic.5da5f93c.js"),["assets/AddClinic.5da5f93c.js","assets/AddClinic.fd74e021.css","assets/QSelect.caa108f8.js","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/QScrollArea.288f8a37.js","assets/TouchPan.90ce57a2.js","assets/plugin-vue_export-helper.21dcd24c.js"]),beforeEnter(e,t,r){ir.menusVisible("add-clinic")?r():r("/:catchAll(.*)*")}}]},{path:"/Login",name:"Login",component:()=>xt(()=>import("./Login.9535434a.js"),["assets/Login.9535434a.js","assets/Login.0833366c.css","assets/QForm.d27e0ea1.js","assets/QSelect.caa108f8.js","assets/QMenu.9a83401e.js","assets/position-engine.b3fa6cbd.js","assets/QPage.651618ac.js","assets/ClosePopup.20eb2e56.js","assets/use-quasar.084c7cba.js"]),meta:{requiresAuth:!1}},{path:"/Logout",component:()=>xt(()=>import("./Logout.dfcaa664.js"),["assets/Logout.dfcaa664.js","assets/plugin-vue_export-helper.21dcd24c.js"]),meta:{requiresAuth:!1}},{path:"/:catchAll(.*)*",component:()=>xt(()=>import("./Error404.ba111d49.js"),["assets/Error404.ba111d49.js","assets/plugin-vue_export-helper.21dcd24c.js"])}];var Kv=function(){return J9({scrollBehavior:()=>({left:0,top:0}),routes:Q9,history:D9("/")})};async function X9(e,t){const r=e(VW);r.use(dF,t);const n=typeof My=="function"?await My({}):My;r.use(n);const i=yl(typeof Kv=="function"?await Kv({store:n}):Kv);return n.use(({store:s})=>{s.router=i}),{app:r,store:n,router:i}}var Z9={isoName:"pt-BR",nativeName:"Portugu\xEAs (BR)",label:{clear:"Limpar",ok:"OK",cancel:"Cancelar",close:"Fechar",set:"Escolher",select:"Selecionar",reset:"Redefinir",remove:"Remover",update:"Atualizar",create:"Criar",search:"Buscar",filter:"Filtrar",refresh:"Recarregar",expand:e=>e?`Expandir "${e}"`:"Expandir",collapse:e=>e?`Recolher "${e}"`:"Colapso"},date:{days:"Domingo_Segunda-feira_Ter\xE7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xE1bado".split("_"),daysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xE1b".split("_"),months:"Janeiro_Fevereiro_Mar\xE7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),firstDayOfWeek:0,format24h:!0,pluralDay:"dias"},table:{noData:"Sem dados dispon\xEDveis",noResults:"Nenhum dado correspondente encontrado",loading:"Carregando...",selectedRecords:e=>e>0?e+" registro"+(e===1?" selecionado":"s selecionados")+".":"Nenhum registro selecionado.",recordsPerPage:"Registros por p\xE1gina:",allRows:"Todos",pagination:(e,t,r)=>e+"-"+t+" de "+r,columns:"Colunas"},editor:{url:"URL",bold:"Negrito",italic:"It\xE1lico",strikethrough:"Riscado",underline:"Sublinhado",unorderedList:"Lista n\xE3o-ordenada",orderedList:"Lista ordenada",subscript:"Subscrito",superscript:"Sobrescrito",hyperlink:"Hyperlink",toggleFullscreen:"Tela cheia",quote:"Cita\xE7\xE3o",left:"Alinhado \xE0 esquerda",center:"Alinhado ao centro",right:"Alinhado \xE0 direita",justify:"Justificado",print:"Imprimir",outdent:"Diminuir indenta\xE7\xE3o",indent:"Aumentar indenta\xE7\xE3o",removeFormat:"Remover formata\xE7\xE3o",formatting:"Formata\xE7\xE3o",fontSize:"Tamanho de fonte",align:"Alinhar",hr:"Inserir divis\xF3ria horizontal",undo:"Desfazer",redo:"Refazer",heading1:"Cabe\xE7alho 1",heading2:"Cabe\xE7alho 2",heading3:"Cabe\xE7alho 3",heading4:"Cabe\xE7alho 4",heading5:"Cabe\xE7alho 5",heading6:"Cabe\xE7alho 6",paragraph:"Par\xE1grafo",code:"C\xF3digo",size1:"Muito pequeno",size2:"Pequeno",size3:"Normal",size4:"M\xE9dio",size5:"Grande",size6:"Enorme",size7:"M\xE1ximo",defaultFont:"Fonte padr\xE3o",viewSource:"Exibir fonte"},tree:{noNodes:"Sem n\xF3s dispon\xEDveis",noResults:"Nenhum n\xF3 correspondente encontrado"}};function WO(e,t){const r=De(null),n=q(()=>e.disable===!0?null:$("span",{ref:r,class:"no-outline",tabindex:-1}));function i(s){const a=t.value;s!==void 0&&s.type.indexOf("key")===0?a!==null&&document.activeElement!==a&&a.contains(document.activeElement)===!0&&a.focus():r.value!==null&&(s===void 0||a!==null&&a.contains(s.target)===!0)&&r.value.focus()}return{refocusTargetEl:n,refocusTarget:i}}var jO={xs:30,sm:35,md:40,lg:50,xl:60};const e7=$("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[$("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),$("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var t7=ct({name:"QRadio",props:{...ml,...tf,...cx,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:r}){const{proxy:n}=et(),i=bl(e,n.$q),s=rf(e,jO),a=De(null),{refocusTargetEl:o,refocusTarget:l}=WO(e,a),u=q(()=>Ie(e.modelValue)===Ie(e.val)),c=q(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(i.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),d=q(()=>{const y=e.color!==void 0&&(e.keepColor===!0||u.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${u.value===!0?"truthy":"falsy"}${y}`}),f=q(()=>(u.value===!0?e.checkedIcon:e.uncheckedIcon)||null),g=q(()=>e.disable===!0?-1:e.tabindex||0),m=q(()=>{const y={type:"radio"};return e.name!==void 0&&Object.assign(y,{".checked":u.value===!0,"^checked":u.value===!0?"checked":void 0,name:e.name,value:e.val}),y}),x=EO(m);function v(y){y!==void 0&&(Hn(y),l(y)),e.disable!==!0&&u.value!==!0&&r("update:modelValue",e.val,y)}function p(y){(y.keyCode===13||y.keyCode===32)&&Hn(y)}function h(y){(y.keyCode===13||y.keyCode===32)&&v(y)}return Object.assign(n,{set:v}),()=>{const y=f.value!==null?[$("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[$(Ys,{class:"q-radio__icon",name:f.value})])]:[e7];e.disable!==!0&&x(y,"unshift"," q-radio__native q-ma-none q-pa-none");const b=[$("div",{class:d.value,style:s.value,"aria-hidden":"true"},y)];o.value!==null&&b.push(o.value);const _=e.label!==void 0?_a(t.default,[e.label]):Br(t.default);return _!==void 0&&b.push($("div",{class:"q-radio__label q-anchor--skip"},_)),$("div",{ref:a,class:c.value,tabindex:g.value,role:"radio","aria-label":e.label,"aria-checked":u.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:v,onKeydown:p,onKeyup:h},b)}}});const YO={...ml,...tf,...cx,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},HO=["update:modelValue"];function KO(e,t){const{props:r,slots:n,emit:i,proxy:s}=et(),{$q:a}=s,o=bl(r,a),l=De(null),{refocusTargetEl:u,refocusTarget:c}=WO(r,l),d=rf(r,jO),f=q(()=>r.val!==void 0&&Array.isArray(r.modelValue)),g=q(()=>{const E=Ie(r.val);return f.value===!0?r.modelValue.findIndex(M=>Ie(M)===E):-1}),m=q(()=>f.value===!0?g.value!==-1:Ie(r.modelValue)===Ie(r.trueValue)),x=q(()=>f.value===!0?g.value===-1:Ie(r.modelValue)===Ie(r.falseValue)),v=q(()=>m.value===!1&&x.value===!1),p=q(()=>r.disable===!0?-1:r.tabindex||0),h=q(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(r.disable===!0?" disabled":"")+(o.value===!0?` q-${e}--dark`:"")+(r.dense===!0?` q-${e}--dense`:"")+(r.leftLabel===!0?" reverse":"")),y=q(()=>{const E=m.value===!0?"truthy":x.value===!0?"falsy":"indet",M=r.color!==void 0&&(r.keepColor===!0||(e==="toggle"?m.value===!0:x.value!==!0))?` text-${r.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${E}${M}`}),b=q(()=>{const E={type:"checkbox"};return r.name!==void 0&&Object.assign(E,{".checked":m.value,"^checked":m.value===!0?"checked":void 0,name:r.name,value:f.value===!0?r.val:r.trueValue}),E}),_=EO(b),w=q(()=>{const E={tabindex:p.value,role:e==="toggle"?"switch":"checkbox","aria-label":r.label,"aria-checked":v.value===!0?"mixed":m.value===!0?"true":"false"};return r.disable===!0&&(E["aria-disabled"]="true"),E});function D(E){E!==void 0&&(Hn(E),c(E)),r.disable!==!0&&i("update:modelValue",S(),E)}function S(){if(f.value===!0){if(m.value===!0){const E=r.modelValue.slice();return E.splice(g.value,1),E}return r.modelValue.concat([r.val])}if(m.value===!0){if(r.toggleOrder!=="ft"||r.toggleIndeterminate===!1)return r.falseValue}else if(x.value===!0){if(r.toggleOrder==="ft"||r.toggleIndeterminate===!1)return r.trueValue}else return r.toggleOrder!=="ft"?r.trueValue:r.falseValue;return r.indeterminateValue}function A(E){(E.keyCode===13||E.keyCode===32)&&Hn(E)}function k(E){(E.keyCode===13||E.keyCode===32)&&D(E)}const C=t(m,v);return Object.assign(s,{toggle:D}),()=>{const E=C();r.disable!==!0&&_(E,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const M=[$("div",{class:y.value,style:d.value,"aria-hidden":"true"},E)];u.value!==null&&M.push(u.value);const I=r.label!==void 0?_a(n.default,[r.label]):Br(n.default);return I!==void 0&&M.push($("div",{class:`q-${e}__label q-anchor--skip`},I)),$("div",{ref:l,class:h.value,...w.value,onClick:D,onKeydown:A,onKeyup:k},M)}}const r7=$("div",{key:"svg",class:"q-checkbox__bg absolute"},[$("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[$("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),$("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var n7=ct({name:"QCheckbox",props:YO,emits:HO,setup(e){function t(r,n){const i=q(()=>(r.value===!0?e.checkedIcon:n.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>i.value!==null?[$("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[$(Ys,{class:"q-checkbox__icon",name:i.value})])]:[r7]}return KO("checkbox",t)}}),i7=ct({name:"QToggle",props:{...YO,icon:String,iconColor:String},emits:HO,setup(e){function t(r,n){const i=q(()=>(r.value===!0?e.checkedIcon:n.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),s=q(()=>r.value===!0?e.iconColor:null);return()=>[$("div",{class:"q-toggle__track"}),$("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},i.value!==void 0?[$(Ys,{name:i.value,color:s.value})]:void 0)]}return KO("toggle",t)}});const VO={radio:t7,checkbox:n7,toggle:i7},s7=Object.keys(VO);var a7=ct({name:"QOptionGroup",props:{...ml,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(t=>"value"in t&&"label"in t)},name:String,type:{type:String,default:"radio",validator:e=>s7.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:t,slots:r}){const{proxy:{$q:n}}=et(),i=Array.isArray(e.modelValue);e.type==="radio"?i===!0&&console.error("q-option-group: model should not be array"):i===!1&&console.error("q-option-group: model should be array in your case");const s=bl(e,n),a=q(()=>VO[e.type]),o=q(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),l=q(()=>{const c={role:"group"};return e.type==="radio"&&(c.role="radiogroup",e.disable===!0&&(c["aria-disabled"]="true")),c});function u(c){t("update:modelValue",c)}return()=>$("div",{class:o.value,...l.value},e.options.map((c,d)=>{const f=r["label-"+d]!==void 0?()=>r["label-"+d](c):r.label!==void 0?()=>r.label(c):void 0;return $("div",[$(a.value,{modelValue:e.modelValue,val:c.value,name:c.name===void 0?e.name:c.name,disable:e.disable||c.disable,label:f===void 0?c.label:null,leftLabel:c.leftLabel===void 0?e.leftLabel:c.leftLabel,color:c.color===void 0?e.color:c.color,checkedIcon:c.checkedIcon,uncheckedIcon:c.uncheckedIcon,dark:c.dark||s.value,size:c.size===void 0?e.size:c.size,dense:e.dense,keepColor:c.keepColor===void 0?e.keepColor:c.keepColor,"onUpdate:modelValue":u},f)])}))}}),o7=ct({name:"DialogPluginComponent",props:{...ml,title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:e=>["ok","cancel","none"].includes(e)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(e,{emit:t}){const{proxy:r}=et(),{$q:n}=r,i=bl(e,n),s=De(null),a=De(e.prompt!==void 0?e.prompt.model:e.options!==void 0?e.options.model:void 0),o=q(()=>"q-dialog-plugin"+(i.value===!0?" q-dialog-plugin--dark q-dark":"")+(e.progress!==!1?" q-dialog-plugin--progress":"")),l=q(()=>e.color||(i.value===!0?"amber":"primary")),u=q(()=>e.progress===!1?null:Un(e.progress)===!0?{component:e.progress.spinner||Za,props:{color:e.progress.color||l.value}}:{component:Za,props:{color:l.value}}),c=q(()=>e.prompt!==void 0||e.options!==void 0),d=q(()=>{if(c.value!==!0)return{};const{model:I,isValid:P,items:L,...V}=e.prompt!==void 0?e.prompt:e.options;return V}),f=q(()=>Un(e.ok)===!0||e.ok===!0?n.lang.label.ok:e.ok),g=q(()=>Un(e.cancel)===!0||e.cancel===!0?n.lang.label.cancel:e.cancel),m=q(()=>e.prompt!==void 0?e.prompt.isValid!==void 0&&e.prompt.isValid(a.value)!==!0:e.options!==void 0?e.options.isValid!==void 0&&e.options.isValid(a.value)!==!0:!1),x=q(()=>({color:l.value,label:f.value,ripple:!1,disable:m.value,...Un(e.ok)===!0?e.ok:{flat:!0},"data-autofocus":e.focus==="ok"&&c.value!==!0||void 0,onClick:y})),v=q(()=>({color:l.value,label:g.value,ripple:!1,...Un(e.cancel)===!0?e.cancel:{flat:!0},"data-autofocus":e.focus==="cancel"&&c.value!==!0||void 0,onClick:b}));Ve(()=>e.prompt&&e.prompt.model,w),Ve(()=>e.options&&e.options.model,w);function p(){s.value.show()}function h(){s.value.hide()}function y(){t("ok",Ie(a.value)),h()}function b(){h()}function _(){t("hide")}function w(I){a.value=I}function D(I){m.value!==!0&&e.prompt.type!=="textarea"&&Rd(I,13)===!0&&y()}function S(I,P){return e.html===!0?$(ma,{class:I,innerHTML:P}):$(ma,{class:I},()=>P)}function A(){return[$(CO,{color:l.value,dense:!0,autofocus:!0,dark:i.value,...d.value,modelValue:a.value,"onUpdate:modelValue":w,onKeyup:D})]}function k(){return[$(a7,{color:l.value,options:e.options.items,dark:i.value,...d.value,modelValue:a.value,"onUpdate:modelValue":w})]}function C(){const I=[];return e.cancel&&I.push($(hp,v.value)),e.ok&&I.push($(hp,x.value)),$(OO,{class:e.stackButtons===!0?"items-end":"",vertical:e.stackButtons,align:"right"},()=>I)}function E(){const I=[];return e.title&&I.push(S("q-dialog__title",e.title)),e.progress!==!1&&I.push($(ma,{class:"q-dialog__progress"},()=>$(u.value.component,u.value.props))),e.message&&I.push(S("q-dialog__message",e.message)),e.prompt!==void 0?I.push($(ma,{class:"scroll q-dialog-plugin__form"},A)):e.options!==void 0&&I.push($(lp,{dark:i.value}),$(ma,{class:"scroll q-dialog-plugin__form"},k),$(lp,{dark:i.value})),(e.ok||e.cancel)&&I.push(C()),I}function M(){return[$(cp,{class:[o.value,e.cardClass],style:e.cardStyle,dark:i.value},E)]}return Object.assign(r,{show:p,hide:h}),()=>$(zA,{ref:s,onHide:_},M)}});function UO(e,t){for(const r in t)r!=="spinner"&&Object(t[r])===t[r]?(e[r]=Object(e[r])!==e[r]?{}:{...e[r]},UO(e[r],t[r])):e[r]=t[r]}function l7(e,t,r){return n=>{let i,s;const a=t===!0&&n.component!==void 0;if(a===!0){const{component:h,componentProps:y}=n;i=typeof h=="string"?r.component(h):h,s=y||{}}else{const{class:h,style:y,...b}=n;i=e,s=b,h!==void 0&&(b.cardClass=h),y!==void 0&&(b.cardStyle=y)}let o,l=!1;const u=De(null),c=ng(!1,"dialog"),d=h=>{if(u.value!==null&&u.value[h]!==void 0){u.value[h]();return}const y=o.$.subTree;if(y&&y.component){if(y.component.proxy&&y.component.proxy[h]){y.component.proxy[h]();return}if(y.component.subTree&&y.component.subTree.component&&y.component.subTree.component.proxy&&y.component.subTree.component.proxy[h]){y.component.subTree.component.proxy[h]();return}}console.error("[Quasar] Incorrectly defined Dialog component")},f=[],g=[],m={onOk(h){return f.push(h),m},onCancel(h){return g.push(h),m},onDismiss(h){return f.push(h),g.push(h),m},hide(){return d("hide"),m},update(h){if(o!==null){if(a===!0)Object.assign(s,h);else{const{class:y,style:b,..._}=h;y!==void 0&&(_.cardClass=y),b!==void 0&&(_.cardStyle=b),UO(s,_)}o.$forceUpdate()}return m}},x=h=>{l=!0,f.forEach(y=>{y(h)})},v=()=>{p.unmount(c),jb(c),p=null,o=null,l!==!0&&g.forEach(h=>{h()})};let p=qb({name:"QGlobalDialog",setup:()=>()=>$(i,{...s,ref:u,onOk:x,onHide:v,onVnodeMounted(...h){typeof s.onVnodeMounted=="function"&&s.onVnodeMounted(...h),vr(()=>d("show"))}})},r);return o=p.mount(c),m}}var c7={install({$q:e,parentApp:t}){e.dialog=this.create=l7(o7,!0,t)}},u7={install(e){this.__installed!==!0&&ri.value===!0&&document.getElementById("qmeta-init").remove()}};const zO=Mt.has.webStorage===!1?tk():rk("session"),JO={install({$q:e}){e.sessionStorage=zO}};Object.assign(JO,zO);var d7={config:{cordova:{backButtonExit:null,backButton:null},notify:{}},lang:Z9,iconSet:LA,plugins:{Notify:Xn,Dialog:c7,Loading:Or,Meta:u7,LocalStorage:Ti,SessionStorage:JO}};const f7="/";async function h7({app:e,router:t,store:r},n){let i=!1;const s=l=>{try{return t.resolve(l).href}catch{}return Object(l)===l?null:l},a=l=>{if(i=!0,typeof l=="string"&&/^https?:\/\//.test(l)){window.location.href=l;return}const u=s(l);u!==null&&(window.location.href=u,window.location.reload())},o=window.location.href.replace(window.location.origin,"");for(let l=0;i===!1&&l<n.length;l++)try{await n[l]({app:e,router:t,store:r,ssrContext:null,redirect:a,urlPath:o,publicPath:f7})}catch(u){if(u&&u.url){a(u.url);return}console.error("[Quasar] boot error:",u);return}i!==!0&&(e.use(t),e.mount("#q-app"))}X9(BA,d7).then(e=>{const[t,r]=Promise.allSettled!==void 0?["allSettled",n=>n.map(i=>{if(i.status==="rejected"){console.error("[Quasar] boot error:",i.reason);return}return i.value.default})]:["all",n=>n.map(i=>i.default)];return Promise[t]([xt(()=>import("./i18n.fa6dd26e.js"),[]),xt(()=>import("./axios.c6ae3af0.js"),[])]).then(n=>{const i=r(n).filter(s=>typeof s=="function");h7(e,i)})});export{Pe as $,Ir as A,gn as B,Ur as C,cl as D,hW as E,dn as F,ax as G,yt as H,Vr as I,wn as J,fc as K,eg as L,Xt as M,ma as N,$i as O,Ys as P,kw as Q,lp as R,k7 as S,Zp as T,CO as U,hp as V,cp as W,AO as X,ve as Y,lx as Z,Jn as _,Xp as a,ut as a$,Sd as a0,dc as a1,oI as a2,k0 as a3,tp as a4,y7 as a5,D7 as a6,Ma as a7,eA as a8,zA as a9,CF as aA,B7 as aB,T4 as aC,RA as aD,Jg as aE,ub as aF,Gp as aG,iA as aH,H4 as aI,yW as aJ,Y7 as aK,sp as aL,YB as aM,P7 as aN,R7 as aO,Ju as aP,vr as aQ,aF as aR,Fo as aS,va as aT,VB as aU,UB as aV,lr as aW,A0 as aX,Mt as aY,Gg as aZ,Yx as a_,b7 as aa,tT as ab,sT as ac,cT as ad,ml as ae,bl as af,Rd as ag,Hn as ah,pF as ai,vF as aj,OF as ak,gF as al,hF as am,om as an,mF as ao,yF as ap,kF as aq,WF as ar,HB as as,bw as at,mw as au,IF as av,SF as aw,Xa as ax,qF as ay,Wb as az,Ht as b,As as b$,DO as b0,Pp as b1,v7 as b2,m7 as b3,Ce as b4,sF as b5,xY as b6,bn as b7,fe as b8,Ds as b9,jA as bA,sm as bB,F7 as bC,Lb as bD,Un as bE,C7 as bF,n7 as bG,vl as bH,S7 as bI,he as bJ,Yo as bK,re as bL,O as bM,Ho as bN,G as bO,OO as bP,Rt as bQ,hj as bR,_Y as bS,pj as bT,ZL as bU,wO as bV,CL as bW,LL as bX,EO as bY,md as bZ,$l as b_,E7 as ba,w7 as bb,eT as bc,aT as bd,tq as be,pd as bf,ms as bg,K0 as bh,SW as bi,DW as bj,kW as bk,AW as bl,tf as bm,rf as bn,q7 as bo,RF as bp,Vn as bq,TA as br,vI as bs,cx as bt,MW as bu,fb as bv,aA as bw,Fb as bx,RW as by,fj as bz,q as c,JO as c$,mL as c0,Ea as c1,t7 as c2,Ca as c3,Da as c4,fd as c5,U0 as c6,wd as c7,A7 as c8,x7 as c9,jp as cA,Bs as cB,ei as cC,Es as cD,Wi as cE,Os as cF,bd as cG,pv as cH,vd as cI,gd as cJ,al as cK,g7 as cL,UI as cM,Is as cN,ND as cO,I7 as cP,br as cQ,xt as cR,n$ as cS,mc as cT,vc as cU,$t as cV,Ss as cW,$p as cX,_i as cY,qs as cZ,xd as c_,vn as ca,hs as cb,Yp as cc,ll as cd,gi as ce,Ks as cf,kd as cg,Go as ch,zo as ci,Vo as cj,Jo as ck,Uo as cl,dj as cm,nT as cn,N7 as co,$7 as cp,fF as cq,PF as cr,O7 as cs,M7 as ct,T7 as cu,_7 as cv,Qo as cw,i7 as cx,yd as cy,le as cz,zp as d,wW as d$,cb as d0,Ps as d1,dI as d2,ja as d3,rx as d4,Wa as d5,Ga as d6,lW as d7,uW as d8,fW as d9,QC as dA,XC as dB,GC as dC,JC as dD,zC as dE,HC as dF,UC as dG,qa as dH,hd as dI,nO as dJ,rO as dK,tO as dL,iO as dM,sO as dN,ti as dO,iF as dP,ig as dQ,sg as dR,qq as dS,ka as dT,V0 as dU,cv as dV,Yq as dW,Vq as dX,$s as dY,Dd as dZ,W0 as d_,Rp as da,Zm as db,rd as dc,lb as dd,bc as de,_c as df,Za as dg,J0 as dh,mn as di,Y0 as dj,ps as dk,_d as dl,gs as dm,s$ as dn,VC as dp,Ni as dq,sl as dr,Ne as ds,h$ as dt,VI as du,d$ as dv,zM as dw,yn as dx,Ti as dy,ZC as dz,AD as e,IW as e0,uj as e1,nl as e2,eW as e3,iW as e4,ey as e5,oT as e6,lT as e7,Re as f,et as g,$ as h,zr as i,H7 as j,Wk as k,ct as l,Br as m,L4 as n,ur as o,hc as p,Fr as q,De as r,KM as s,L7 as t,j7 as u,Nb as v,Ve as w,ri as x,_a as y,zn as z};
